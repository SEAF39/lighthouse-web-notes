<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created by GNU Texinfo 6.8, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>GNU gettext utilities</title>

<meta name="description" content="GNU gettext utilities">
<meta name="keywords" content="GNU gettext utilities">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="#Top" rel="start" title="Top">
<link href="#Program-Index" rel="index" title="Program Index">
<link href="#SEC_Contents" rel="contents" title="Table of Contents">
<link href="/manual" rel="up" title="(dir)">
<link href="#Introduction" rel="next" title="Introduction">
<style type="text/css">
<!--
a.copiable-anchor {visibility: hidden; text-decoration: none; line-height: 0em}
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
span:hover a.copiable-anchor {visibility: visible}
ul.no-bullet {list-style: none}
-->
</style>
<link rel="stylesheet" type="text/css" href="https://www.gnu.org/software/gnulib/manual.css">


</head>

<body lang="en">
<h1 class="settitle" align="center">GNU <code>gettext</code> utilities</h1>






<div class="top" id="Top">
<div class="header">
<p>
Next: <a href="#Introduction" accesskey="n" rel="next">Introduction</a>, Up: <a href="/manual" accesskey="u" rel="up">(dir)</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Program-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="GNU-gettext-utilities"></span><h1 class="top">GNU <code>gettext</code> utilities</h1>

<p>This manual documents the GNU gettext tools and the GNU libintl library,
version 0.21.1.
</p>


<div class="Contents_element" id="SEC_Contents">
<h2 class="contents-heading">Table of Contents</h2>

<div class="contents">

<ul class="no-bullet">
  <li><a id="toc-Introduction-1" href="#Introduction">1 Introduction</a>
  <ul class="no-bullet">
    <li><a id="toc-The-Purpose-of-GNU-gettext" href="#Why">1.1 The Purpose of GNU <code>gettext</code></a></li>
    <li><a id="toc-I18n_002c-L10n_002c-and-Such" href="#Concepts">1.2 I18n, L10n, and Such</a></li>
    <li><a id="toc-Aspects-in-Native-Language-Support" href="#Aspects">1.3 Aspects in Native Language Support</a></li>
    <li><a id="toc-Files-Conveying-Translations" href="#Files">1.4 Files Conveying Translations</a></li>
    <li><a id="toc-Overview-of-GNU-gettext" href="#Overview">1.5 Overview of GNU <code>gettext</code></a></li>
  </ul></li>
  <li><a id="toc-The-User_0027s-View" href="#Users">2 The User&rsquo;s View</a>
  <ul class="no-bullet">
    <li><a id="toc-Operating-System-Installation" href="#System-Installation">2.1 Operating System Installation</a></li>
    <li><a id="toc-Setting-the-Locale-Used-by-GUI-Programs" href="#Setting-the-GUI-Locale">2.2 Setting the Locale Used by GUI Programs</a></li>
    <li><a id="toc-Setting-the-Locale-through-Environment-Variables" href="#Setting-the-POSIX-Locale">2.3 Setting the Locale through Environment Variables</a>
    <ul class="no-bullet">
      <li><a id="toc-Locale-Names-1" href="#Locale-Names">2.3.1 Locale Names</a></li>
      <li><a id="toc-Locale-Environment-Variables-1" href="#Locale-Environment-Variables">2.3.2 Locale Environment Variables</a></li>
      <li><a id="toc-Specifying-a-Priority-List-of-Languages" href="#The-LANGUAGE-variable">2.3.3 Specifying a Priority List of Languages</a></li>
    </ul></li>
    <li><a id="toc-Obtaining-good-output-in-a-Windows-console" href="#Working-in-a-Windows-console">2.4 Obtaining good output in a Windows console</a></li>
    <li><a id="toc-Installing-Translations-for-Particular-Programs" href="#Installing-Localizations">2.5 Installing Translations for Particular Programs</a></li>
  </ul></li>
  <li><a id="toc-The-Format-of-PO-Files" href="#PO-Files">3 The Format of PO Files</a></li>
  <li><a id="toc-Preparing-Program-Sources" href="#Sources">4 Preparing Program Sources</a>
  <ul class="no-bullet">
    <li><a id="toc-Importing-the-gettext-declaration" href="#Importing">4.1 Importing the <code>gettext</code> declaration</a></li>
    <li><a id="toc-Triggering-gettext-Operations" href="#Triggering">4.2 Triggering <code>gettext</code> Operations</a></li>
    <li><a id="toc-Preparing-Translatable-Strings" href="#Preparing-Strings">4.3 Preparing Translatable Strings</a></li>
    <li><a id="toc-How-Marks-Appear-in-Sources" href="#Mark-Keywords">4.4 How Marks Appear in Sources</a></li>
    <li><a id="toc-Marking-Translatable-Strings" href="#Marking">4.5 Marking Translatable Strings</a></li>
    <li><a id="toc-Special-Comments-preceding-Keywords" href="#c_002dformat-Flag">4.6 Special Comments preceding Keywords</a></li>
    <li><a id="toc-Special-Cases-of-Translatable-Strings" href="#Special-cases">4.7 Special Cases of Translatable Strings</a></li>
    <li><a id="toc-Letting-Users-Report-Translation-Bugs" href="#Bug-Report-Address">4.8 Letting Users Report Translation Bugs</a></li>
    <li><a id="toc-Marking-Proper-Names-for-Translation" href="#Names">4.9 Marking Proper Names for Translation</a></li>
    <li><a id="toc-Preparing-Library-Sources" href="#Libraries">4.10 Preparing Library Sources</a></li>
  </ul></li>
  <li><a id="toc-Making-the-PO-Template-File" href="#Template">5 Making the PO Template File</a>
  <ul class="no-bullet">
    <li><a id="toc-Invoking-the-xgettext-Program" href="#xgettext-Invocation">5.1 Invoking the <code>xgettext</code> Program</a>
    <ul class="no-bullet">
      <li><a id="toc-Input-file-location" href="#Input-file-location">5.1.1 Input file location</a></li>
      <li><a id="toc-Output-file-location" href="#Output-file-location">5.1.2 Output file location</a></li>
      <li><a id="toc-Choice-of-input-file-language" href="#Choice-of-input-file-language">5.1.3 Choice of input file language</a></li>
      <li><a id="toc-Input-file-interpretation" href="#Input-file-interpretation">5.1.4 Input file interpretation</a></li>
      <li><a id="toc-Operation-mode" href="#Operation-mode">5.1.5 Operation mode</a></li>
      <li><a id="toc-Language-specific-options" href="#Language-specific-options">5.1.6 Language specific options</a></li>
      <li><a id="toc-Output-details" href="#Output-details">5.1.7 Output details</a></li>
      <li><a id="toc-Informative-output" href="#Informative-output">5.1.8 Informative output</a></li>
    </ul></li>
  </ul></li>
  <li><a id="toc-Creating-a-New-PO-File" href="#Creating">6 Creating a New PO File</a>
  <ul class="no-bullet">
    <li><a id="toc-Invoking-the-msginit-Program" href="#msginit-Invocation">6.1 Invoking the <code>msginit</code> Program</a>
    <ul class="no-bullet">
      <li><a id="toc-Input-file-location-1" href="#Input-file-location-1">6.1.1 Input file location</a></li>
      <li><a id="toc-Output-file-location-1" href="#Output-file-location-1">6.1.2 Output file location</a></li>
      <li><a id="toc-Input-file-syntax" href="#Input-file-syntax">6.1.3 Input file syntax</a></li>
      <li><a id="toc-Output-details-1" href="#Output-details-1">6.1.4 Output details</a></li>
      <li><a id="toc-Informative-output-1" href="#Informative-output-1">6.1.5 Informative output</a></li>
    </ul></li>
    <li><a id="toc-Filling-in-the-Header-Entry" href="#Header-Entry">6.2 Filling in the Header Entry</a></li>
  </ul></li>
  <li><a id="toc-Updating-Existing-PO-Files" href="#Updating">7 Updating Existing PO Files</a>
  <ul class="no-bullet">
    <li><a id="toc-Invoking-the-msgmerge-Program" href="#msgmerge-Invocation">7.1 Invoking the <code>msgmerge</code> Program</a>
    <ul class="no-bullet">
      <li><a id="toc-Input-file-location-2" href="#Input-file-location-2">7.1.1 Input file location</a></li>
      <li><a id="toc-Operation-mode-1" href="#Operation-mode-1">7.1.2 Operation mode</a></li>
      <li><a id="toc-Output-file-location-2" href="#Output-file-location-2">7.1.3 Output file location</a></li>
      <li><a id="toc-Output-file-location-in-update-mode" href="#Output-file-location-in-update-mode">7.1.4 Output file location in update mode</a></li>
      <li><a id="toc-Operation-modifiers" href="#Operation-modifiers">7.1.5 Operation modifiers</a></li>
      <li><a id="toc-Input-file-syntax-1" href="#Input-file-syntax-1">7.1.6 Input file syntax</a></li>
      <li><a id="toc-Output-details-2" href="#Output-details-2">7.1.7 Output details</a></li>
      <li><a id="toc-Informative-output-2" href="#Informative-output-2">7.1.8 Informative output</a></li>
    </ul></li>
  </ul></li>
  <li><a id="toc-Editing-PO-Files" href="#Editing">8 Editing PO Files</a>
  <ul class="no-bullet">
    <li><a id="toc-KDE_0027s-PO-File-Editor" href="#KBabel">8.1 KDE&rsquo;s PO File Editor</a></li>
    <li><a id="toc-GNOME_0027s-PO-File-Editor" href="#Gtranslator">8.2 GNOME&rsquo;s PO File Editor</a></li>
    <li><a id="toc-Emacs_0027s-PO-File-Editor" href="#PO-Mode">8.3 Emacs&rsquo;s PO File Editor</a>
    <ul class="no-bullet">
      <li><a id="toc-Completing-GNU-gettext-Installation" href="#Installation">8.3.1 Completing GNU <code>gettext</code> Installation</a></li>
      <li><a id="toc-Main-PO-mode-Commands" href="#Main-PO-Commands">8.3.2 Main PO mode Commands</a></li>
      <li><a id="toc-Entry-Positioning-1" href="#Entry-Positioning">8.3.3 Entry Positioning</a></li>
      <li><a id="toc-Normalizing-Strings-in-Entries" href="#Normalizing">8.3.4 Normalizing Strings in Entries</a></li>
      <li><a id="toc-Translated-Entries-1" href="#Translated-Entries">8.3.5 Translated Entries</a></li>
      <li><a id="toc-Fuzzy-Entries-1" href="#Fuzzy-Entries">8.3.6 Fuzzy Entries</a></li>
      <li><a id="toc-Untranslated-Entries-1" href="#Untranslated-Entries">8.3.7 Untranslated Entries</a></li>
      <li><a id="toc-Obsolete-Entries-1" href="#Obsolete-Entries">8.3.8 Obsolete Entries</a></li>
      <li><a id="toc-Modifying-Translations-1" href="#Modifying-Translations">8.3.9 Modifying Translations</a></li>
      <li><a id="toc-Modifying-Comments-1" href="#Modifying-Comments">8.3.10 Modifying Comments</a></li>
      <li><a id="toc-Details-of-Sub-Edition" href="#Subedit">8.3.11 Details of Sub Edition</a></li>
      <li><a id="toc-C-Sources-Context-1" href="#C-Sources-Context">8.3.12 C Sources Context</a></li>
      <li><a id="toc-Consulting-Auxiliary-PO-Files" href="#Auxiliary">8.3.13 Consulting Auxiliary PO Files</a></li>
    </ul></li>
    <li><a id="toc-Using-Translation-Compendia" href="#Compendium">8.4 Using Translation Compendia</a>
    <ul class="no-bullet">
      <li><a id="toc-Creating-Compendia-1" href="#Creating-Compendia">8.4.1 Creating Compendia</a>
      <ul class="no-bullet">
        <li><a id="toc-Concatenate-PO-Files" href="#Concatenate-PO-Files">8.4.1.1 Concatenate PO Files</a></li>
        <li><a id="toc-Extract-a-Message-Subset-from-a-PO-File" href="#Extract-a-Message-Subset-from-a-PO-File">8.4.1.2 Extract a Message Subset from a PO File</a></li>
      </ul></li>
      <li><a id="toc-Using-Compendia-1" href="#Using-Compendia">8.4.2 Using Compendia</a>
      <ul class="no-bullet">
        <li><a id="toc-Initialize-a-New-Translation-File" href="#Initialize-a-New-Translation-File">8.4.2.1 Initialize a New Translation File</a></li>
        <li><a id="toc-Update-an-Existing-Translation-File" href="#Update-an-Existing-Translation-File">8.4.2.2 Update an Existing Translation File</a></li>
      </ul></li>
    </ul></li>
  </ul></li>
  <li><a id="toc-Manipulating-PO-Files" href="#Manipulating">9 Manipulating PO Files</a>
  <ul class="no-bullet">
    <li><a id="toc-Invoking-the-msgcat-Program" href="#msgcat-Invocation">9.1 Invoking the <code>msgcat</code> Program</a>
    <ul class="no-bullet">
      <li><a id="toc-Input-file-location-3" href="#Input-file-location-3">9.1.1 Input file location</a></li>
      <li><a id="toc-Output-file-location-3" href="#Output-file-location-3">9.1.2 Output file location</a></li>
      <li><a id="toc-Message-selection" href="#Message-selection">9.1.3 Message selection</a></li>
      <li><a id="toc-Input-file-syntax-2" href="#Input-file-syntax-2">9.1.4 Input file syntax</a></li>
      <li><a id="toc-Output-details-3" href="#Output-details-3">9.1.5 Output details</a></li>
      <li><a id="toc-Informative-output-3" href="#Informative-output-3">9.1.6 Informative output</a></li>
    </ul></li>
    <li><a id="toc-Invoking-the-msgconv-Program" href="#msgconv-Invocation">9.2 Invoking the <code>msgconv</code> Program</a>
    <ul class="no-bullet">
      <li><a id="toc-Input-file-location-4" href="#Input-file-location-4">9.2.1 Input file location</a></li>
      <li><a id="toc-Output-file-location-4" href="#Output-file-location-4">9.2.2 Output file location</a></li>
      <li><a id="toc-Conversion-target" href="#Conversion-target">9.2.3 Conversion target</a></li>
      <li><a id="toc-Input-file-syntax-3" href="#Input-file-syntax-3">9.2.4 Input file syntax</a></li>
      <li><a id="toc-Output-details-4" href="#Output-details-4">9.2.5 Output details</a></li>
      <li><a id="toc-Informative-output-4" href="#Informative-output-4">9.2.6 Informative output</a></li>
    </ul></li>
    <li><a id="toc-Invoking-the-msggrep-Program" href="#msggrep-Invocation">9.3 Invoking the <code>msggrep</code> Program</a>
    <ul class="no-bullet">
      <li><a id="toc-Input-file-location-5" href="#Input-file-location-5">9.3.1 Input file location</a></li>
      <li><a id="toc-Output-file-location-5" href="#Output-file-location-5">9.3.2 Output file location</a></li>
      <li><a id="toc-Message-selection-1" href="#Message-selection-1">9.3.3 Message selection</a></li>
      <li><a id="toc-Input-file-syntax-4" href="#Input-file-syntax-4">9.3.4 Input file syntax</a></li>
      <li><a id="toc-Output-details-5" href="#Output-details-5">9.3.5 Output details</a></li>
      <li><a id="toc-Informative-output-5" href="#Informative-output-5">9.3.6 Informative output</a></li>
      <li><a id="toc-Examples" href="#Examples">9.3.7 Examples</a></li>
    </ul></li>
    <li><a id="toc-Invoking-the-msgfilter-Program" href="#msgfilter-Invocation">9.4 Invoking the <code>msgfilter</code> Program</a>
    <ul class="no-bullet">
      <li><a id="toc-Input-file-location-6" href="#Input-file-location-6">9.4.1 Input file location</a></li>
      <li><a id="toc-Output-file-location-6" href="#Output-file-location-6">9.4.2 Output file location</a></li>
      <li><a id="toc-The-filter" href="#The-filter">9.4.3 The filter</a></li>
      <li><a id="toc-Useful-filter_002doptions-when-the-filter-is-sed" href="#Useful-filter_002doptions-when-the-filter-is-sed">9.4.4 Useful <var>filter-option</var>s when the <var>filter</var> is &lsquo;<samp>sed</samp>&rsquo;</a></li>
      <li><a id="toc-Built_002din-filters" href="#Built_002din-filters">9.4.5 Built-in <var>filter</var>s</a></li>
      <li><a id="toc-Input-file-syntax-5" href="#Input-file-syntax-5">9.4.6 Input file syntax</a></li>
      <li><a id="toc-Output-details-6" href="#Output-details-6">9.4.7 Output details</a></li>
      <li><a id="toc-Informative-output-6" href="#Informative-output-6">9.4.8 Informative output</a></li>
      <li><a id="toc-Examples-1" href="#Examples-1">9.4.9 Examples</a></li>
    </ul></li>
    <li><a id="toc-Invoking-the-msguniq-Program" href="#msguniq-Invocation">9.5 Invoking the <code>msguniq</code> Program</a>
    <ul class="no-bullet">
      <li><a id="toc-Input-file-location-7" href="#Input-file-location-7">9.5.1 Input file location</a></li>
      <li><a id="toc-Output-file-location-7" href="#Output-file-location-7">9.5.2 Output file location</a></li>
      <li><a id="toc-Message-selection-2" href="#Message-selection-2">9.5.3 Message selection</a></li>
      <li><a id="toc-Input-file-syntax-6" href="#Input-file-syntax-6">9.5.4 Input file syntax</a></li>
      <li><a id="toc-Output-details-7" href="#Output-details-7">9.5.5 Output details</a></li>
      <li><a id="toc-Informative-output-7" href="#Informative-output-7">9.5.6 Informative output</a></li>
    </ul></li>
    <li><a id="toc-Invoking-the-msgcomm-Program" href="#msgcomm-Invocation">9.6 Invoking the <code>msgcomm</code> Program</a>
    <ul class="no-bullet">
      <li><a id="toc-Input-file-location-8" href="#Input-file-location-8">9.6.1 Input file location</a></li>
      <li><a id="toc-Output-file-location-8" href="#Output-file-location-8">9.6.2 Output file location</a></li>
      <li><a id="toc-Message-selection-3" href="#Message-selection-3">9.6.3 Message selection</a></li>
      <li><a id="toc-Input-file-syntax-7" href="#Input-file-syntax-7">9.6.4 Input file syntax</a></li>
      <li><a id="toc-Output-details-8" href="#Output-details-8">9.6.5 Output details</a></li>
      <li><a id="toc-Informative-output-8" href="#Informative-output-8">9.6.6 Informative output</a></li>
    </ul></li>
    <li><a id="toc-Invoking-the-msgcmp-Program" href="#msgcmp-Invocation">9.7 Invoking the <code>msgcmp</code> Program</a>
    <ul class="no-bullet">
      <li><a id="toc-Input-file-location-9" href="#Input-file-location-9">9.7.1 Input file location</a></li>
      <li><a id="toc-Operation-modifiers-1" href="#Operation-modifiers-1">9.7.2 Operation modifiers</a></li>
      <li><a id="toc-Input-file-syntax-8" href="#Input-file-syntax-8">9.7.3 Input file syntax</a></li>
      <li><a id="toc-Informative-output-9" href="#Informative-output-9">9.7.4 Informative output</a></li>
    </ul></li>
    <li><a id="toc-Invoking-the-msgattrib-Program" href="#msgattrib-Invocation">9.8 Invoking the <code>msgattrib</code> Program</a>
    <ul class="no-bullet">
      <li><a id="toc-Input-file-location-10" href="#Input-file-location-10">9.8.1 Input file location</a></li>
      <li><a id="toc-Output-file-location-9" href="#Output-file-location-9">9.8.2 Output file location</a></li>
      <li><a id="toc-Message-selection-4" href="#Message-selection-4">9.8.3 Message selection</a></li>
      <li><a id="toc-Attribute-manipulation" href="#Attribute-manipulation">9.8.4 Attribute manipulation</a></li>
      <li><a id="toc-Input-file-syntax-9" href="#Input-file-syntax-9">9.8.5 Input file syntax</a></li>
      <li><a id="toc-Output-details-9" href="#Output-details-9">9.8.6 Output details</a></li>
      <li><a id="toc-Informative-output-10" href="#Informative-output-10">9.8.7 Informative output</a></li>
    </ul></li>
    <li><a id="toc-Invoking-the-msgen-Program" href="#msgen-Invocation">9.9 Invoking the <code>msgen</code> Program</a>
    <ul class="no-bullet">
      <li><a id="toc-Input-file-location-11" href="#Input-file-location-11">9.9.1 Input file location</a></li>
      <li><a id="toc-Output-file-location-10" href="#Output-file-location-10">9.9.2 Output file location</a></li>
      <li><a id="toc-Input-file-syntax-10" href="#Input-file-syntax-10">9.9.3 Input file syntax</a></li>
      <li><a id="toc-Output-details-10" href="#Output-details-10">9.9.4 Output details</a></li>
      <li><a id="toc-Informative-output-11" href="#Informative-output-11">9.9.5 Informative output</a></li>
    </ul></li>
    <li><a id="toc-Invoking-the-msgexec-Program" href="#msgexec-Invocation">9.10 Invoking the <code>msgexec</code> Program</a>
    <ul class="no-bullet">
      <li><a id="toc-Input-file-location-12" href="#Input-file-location-12">9.10.1 Input file location</a></li>
      <li><a id="toc-Input-file-syntax-11" href="#Input-file-syntax-11">9.10.2 Input file syntax</a></li>
      <li><a id="toc-Informative-output-12" href="#Informative-output-12">9.10.3 Informative output</a></li>
    </ul></li>
    <li><a id="toc-Highlighting-parts-of-PO-files" href="#Colorizing">9.11 Highlighting parts of PO files</a>
    <ul class="no-bullet">
      <li><a id="toc-The-_002d_002dcolor-option-1" href="#The-_002d_002dcolor-option">9.11.1 The <code>--color</code> option</a></li>
      <li><a id="toc-The-environment-variable-TERM" href="#The-TERM-variable">9.11.2 The environment variable <code>TERM</code></a></li>
      <li><a id="toc-The-_002d_002dstyle-option-1" href="#The-_002d_002dstyle-option">9.11.3 The <code>--style</code> option</a></li>
      <li><a id="toc-Style-rules-for-PO-files" href="#Style-rules">9.11.4 Style rules for PO files</a></li>
      <li><a id="toc-Customizing-less-for-viewing-PO-files" href="#Customizing-less">9.11.5 Customizing <code>less</code> for viewing PO files</a></li>
    </ul></li>
    <li><a id="toc-Other-tools-for-manipulating-PO-files" href="#Other-tools">9.12 Other tools for manipulating PO files</a></li>
    <li><a id="toc-Writing-your-own-programs-that-process-PO-files" href="#libgettextpo">9.13 Writing your own programs that process PO files</a>
    <ul class="no-bullet">
      <li><a id="toc-Error-Handling-1" href="#Error-Handling">9.13.1 Error Handling</a></li>
      <li><a id="toc-po_005ffile_005ft-API-1" href="#po_005ffile_005ft-API">9.13.2 po_file_t API</a></li>
      <li><a id="toc-po_005fmessage_005fiterator_005ft-API-1" href="#po_005fmessage_005fiterator_005ft-API">9.13.3 po_message_iterator_t API</a></li>
      <li><a id="toc-po_005fmessage_005ft-API-1" href="#po_005fmessage_005ft-API">9.13.4 po_message_t API</a></li>
      <li><a id="toc-PO-Header-Entry-API-1" href="#PO-Header-Entry-API">9.13.5 PO Header Entry API</a></li>
      <li><a id="toc-po_005ffilepos_005ft-API-1" href="#po_005ffilepos_005ft-API">9.13.6 po_filepos_t API</a></li>
      <li><a id="toc-Format-Type-API-1" href="#Format-Type-API">9.13.7 Format Type API</a></li>
      <li><a id="toc-Checking-API-1" href="#Checking-API">9.13.8 Checking API</a></li>
    </ul></li>
  </ul></li>
  <li><a id="toc-Producing-Binary-MO-Files" href="#Binaries">10 Producing Binary MO Files</a>
  <ul class="no-bullet">
    <li><a id="toc-Invoking-the-msgfmt-Program" href="#msgfmt-Invocation">10.1 Invoking the <code>msgfmt</code> Program</a>
    <ul class="no-bullet">
      <li><a id="toc-Input-file-location-13" href="#Input-file-location-13">10.1.1 Input file location</a></li>
      <li><a id="toc-Operation-mode-2" href="#Operation-mode-2">10.1.2 Operation mode</a></li>
      <li><a id="toc-Output-file-location-11" href="#Output-file-location-11">10.1.3 Output file location</a></li>
      <li><a id="toc-Output-file-location-in-Java-mode" href="#Output-file-location-in-Java-mode">10.1.4 Output file location in Java mode</a></li>
      <li><a id="toc-Output-file-location-in-C_0023-mode" href="#Output-file-location-in-C_0023-mode">10.1.5 Output file location in C# mode</a></li>
      <li><a id="toc-Output-file-location-in-Tcl-mode" href="#Output-file-location-in-Tcl-mode">10.1.6 Output file location in Tcl mode</a></li>
      <li><a id="toc-Desktop-Entry-mode-operations" href="#Desktop-Entry-mode-operations">10.1.7 Desktop Entry mode operations</a></li>
      <li><a id="toc-XML-mode-operations" href="#XML-mode-operations">10.1.8 XML mode operations</a></li>
      <li><a id="toc-Input-file-syntax-12" href="#Input-file-syntax-12">10.1.9 Input file syntax</a></li>
      <li><a id="toc-Input-file-interpretation-1" href="#Input-file-interpretation-1">10.1.10 Input file interpretation</a></li>
      <li><a id="toc-Output-details-11" href="#Output-details-11">10.1.11 Output details</a></li>
      <li><a id="toc-Informative-output-13" href="#Informative-output-13">10.1.12 Informative output</a></li>
    </ul></li>
    <li><a id="toc-Invoking-the-msgunfmt-Program" href="#msgunfmt-Invocation">10.2 Invoking the <code>msgunfmt</code> Program</a>
    <ul class="no-bullet">
      <li><a id="toc-Operation-mode-3" href="#Operation-mode-3">10.2.1 Operation mode</a></li>
      <li><a id="toc-Input-file-location-14" href="#Input-file-location-14">10.2.2 Input file location</a></li>
      <li><a id="toc-Input-file-location-in-Java-mode" href="#Input-file-location-in-Java-mode">10.2.3 Input file location in Java mode</a></li>
      <li><a id="toc-Input-file-location-in-C_0023-mode" href="#Input-file-location-in-C_0023-mode">10.2.4 Input file location in C# mode</a></li>
      <li><a id="toc-Input-file-location-in-Tcl-mode" href="#Input-file-location-in-Tcl-mode">10.2.5 Input file location in Tcl mode</a></li>
      <li><a id="toc-Output-file-location-12" href="#Output-file-location-12">10.2.6 Output file location</a></li>
      <li><a id="toc-Output-details-12" href="#Output-details-12">10.2.7 Output details</a></li>
      <li><a id="toc-Informative-output-14" href="#Informative-output-14">10.2.8 Informative output</a></li>
    </ul></li>
    <li><a id="toc-The-Format-of-GNU-MO-Files" href="#MO-Files">10.3 The Format of GNU MO Files</a></li>
  </ul></li>
  <li><a id="toc-The-Programmer_0027s-View" href="#Programmers">11 The Programmer&rsquo;s View</a>
  <ul class="no-bullet">
    <li><a id="toc-About-catgets" href="#catgets">11.1 About <code>catgets</code></a>
    <ul class="no-bullet">
      <li><a id="toc-The-Interface" href="#Interface-to-catgets">11.1.1 The Interface</a></li>
      <li><a id="toc-Problems-with-the-catgets-Interface_003f_0021" href="#Problems-with-catgets">11.1.2 Problems with the <code>catgets</code> Interface?!</a></li>
    </ul></li>
    <li><a id="toc-About-gettext" href="#gettext">11.2 About <code>gettext</code></a>
    <ul class="no-bullet">
      <li><a id="toc-The-Interface-1" href="#Interface-to-gettext">11.2.1 The Interface</a></li>
      <li><a id="toc-Solving-Ambiguities" href="#Ambiguities">11.2.2 Solving Ambiguities</a></li>
      <li><a id="toc-Locating-Message-Catalog-Files" href="#Locating-Catalogs">11.2.3 Locating Message Catalog Files</a></li>
      <li><a id="toc-How-to-specify-the-output-character-set-gettext-uses" href="#Charset-conversion">11.2.4 How to specify the output character set <code>gettext</code> uses</a></li>
      <li><a id="toc-Using-contexts-for-solving-ambiguities" href="#Contexts">11.2.5 Using contexts for solving ambiguities</a></li>
      <li><a id="toc-Additional-functions-for-plural-forms" href="#Plural-forms">11.2.6 Additional functions for plural forms</a></li>
      <li><a id="toc-Optimization-of-the-_002agettext-functions" href="#Optimized-gettext">11.2.7 Optimization of the *gettext functions</a></li>
    </ul></li>
    <li><a id="toc-Comparing-the-Two-Interfaces" href="#Comparison">11.3 Comparing the Two Interfaces</a></li>
    <li><a id="toc-Using-libintl_002ea-in-own-programs" href="#Using-libintl_002ea">11.4 Using libintl.a in own programs</a></li>
    <li><a id="toc-Being-a-gettext-grok" href="#gettext-grok">11.5 Being a <code>gettext</code> grok</a></li>
    <li><a id="toc-Temporary-Notes-for-the-Programmers-Chapter" href="#Temp-Programmers">11.6 Temporary Notes for the Programmers Chapter</a>
    <ul class="no-bullet">
      <li><a id="toc-Temporary-_002d-Two-Possible-Implementations" href="#Temp-Implementations">11.6.1 Temporary - Two Possible Implementations</a></li>
      <li><a id="toc-Temporary-_002d-About-catgets" href="#Temp-catgets">11.6.2 Temporary - About <code>catgets</code></a></li>
      <li><a id="toc-Temporary-_002d-Why-a-single-implementation" href="#Temp-WSI">11.6.3 Temporary - Why a single implementation</a></li>
      <li><a id="toc-Temporary-_002d-Notes" href="#Temp-Notes">11.6.4 Temporary - Notes</a></li>
    </ul></li>
  </ul></li>
  <li><a id="toc-The-Translator_0027s-View" href="#Translators">12 The Translator&rsquo;s View</a>
  <ul class="no-bullet">
    <li><a id="toc-Introduction-0" href="#Trans-Intro-0">12.1 Introduction 0</a></li>
    <li><a id="toc-Introduction-1-1" href="#Trans-Intro-1">12.2 Introduction 1</a></li>
    <li><a id="toc-Discussions-1" href="#Discussions">12.3 Discussions</a></li>
    <li><a id="toc-Organization-1" href="#Organization">12.4 Organization</a>
    <ul class="no-bullet">
      <li><a id="toc-Central-Coordination-1" href="#Central-Coordination">12.4.1 Central Coordination</a></li>
      <li><a id="toc-National-Teams-1" href="#National-Teams">12.4.2 National Teams</a>
      <ul class="no-bullet">
        <li><a id="toc-Sub_002dCultures-1" href="#Sub_002dCultures">12.4.2.1 Sub-Cultures</a></li>
        <li><a id="toc-Organizational-Ideas-1" href="#Organizational-Ideas">12.4.2.2 Organizational Ideas</a></li>
      </ul></li>
      <li><a id="toc-Mailing-Lists-1" href="#Mailing-Lists">12.4.3 Mailing Lists</a></li>
    </ul></li>
    <li><a id="toc-Information-Flow-1" href="#Information-Flow">12.5 Information Flow</a></li>
    <li><a id="toc-Translating-plural-forms-1" href="#Translating-plural-forms">12.6 Translating plural forms</a></li>
    <li><a id="toc-Prioritizing-messages_003a-How-to-determine-which-messages-to-translate-first" href="#Prioritizing-messages">12.7 Prioritizing messages: How to determine which messages to translate first</a></li>
  </ul></li>
  <li><a id="toc-The-Maintainer_0027s-View" href="#Maintainers">13 The Maintainer&rsquo;s View</a>
  <ul class="no-bullet">
    <li><a id="toc-Flat-or-Non_002dFlat-Directory-Structures" href="#Flat-and-Non_002dFlat">13.1 Flat or Non-Flat Directory Structures</a></li>
    <li><a id="toc-Prerequisite-Works" href="#Prerequisites">13.2 Prerequisite Works</a></li>
    <li><a id="toc-Invoking-the-gettextize-Program" href="#gettextize-Invocation">13.3 Invoking the <code>gettextize</code> Program</a></li>
    <li><a id="toc-Files-You-Must-Create-or-Alter" href="#Adjusting-Files">13.4 Files You Must Create or Alter</a>
    <ul class="no-bullet">
      <li><a id="toc-POTFILES_002ein-in-po_002f" href="#po_002fPOTFILES_002ein">13.4.1 <samp>POTFILES.in</samp> in <samp>po/</samp></a></li>
      <li><a id="toc-LINGUAS-in-po_002f" href="#po_002fLINGUAS">13.4.2 <samp>LINGUAS</samp> in <samp>po/</samp></a></li>
      <li><a id="toc-Makevars-in-po_002f" href="#po_002fMakevars">13.4.3 <samp>Makevars</samp> in <samp>po/</samp></a></li>
      <li><a id="toc-Extending-Makefile-in-po_002f" href="#po_002fRules_002d_002a">13.4.4 Extending <samp>Makefile</samp> in <samp>po/</samp></a></li>
      <li><a id="toc-configure_002eac-at-top-level" href="#configure_002eac">13.4.5 <samp>configure.ac</samp> at top level</a></li>
      <li><a id="toc-config_002eguess_002c-config_002esub-at-top-level" href="#config_002eguess">13.4.6 <samp>config.guess</samp>, <samp>config.sub</samp> at top level</a></li>
      <li><a id="toc-mkinstalldirs-at-top-level" href="#mkinstalldirs">13.4.7 <samp>mkinstalldirs</samp> at top level</a></li>
      <li><a id="toc-aclocal_002em4-at-top-level" href="#aclocal">13.4.8 <samp>aclocal.m4</samp> at top level</a></li>
      <li><a id="toc-config_002eh_002ein-at-top-level" href="#config_002eh_002ein">13.4.9 <samp>config.h.in</samp> at top level</a></li>
      <li><a id="toc-Makefile_002ein-at-top-level" href="#Makefile">13.4.10 <samp>Makefile.in</samp> at top level</a></li>
      <li><a id="toc-Makefile_002ein-in-src_002f" href="#src_002fMakefile">13.4.11 <samp>Makefile.in</samp> in <samp>src/</samp></a></li>
      <li><a id="toc-gettext_002eh-in-lib_002f" href="#lib_002fgettext_002eh">13.4.12 <samp>gettext.h</samp> in <samp>lib/</samp></a></li>
    </ul></li>
    <li><a id="toc-Autoconf-macros-for-use-in-configure_002eac" href="#autoconf-macros">13.5 Autoconf macros for use in <samp>configure.ac</samp></a>
    <ul class="no-bullet">
      <li><a id="toc-AM_005fGNU_005fGETTEXT-in-gettext_002em4" href="#AM_005fGNU_005fGETTEXT">13.5.1 AM_GNU_GETTEXT in <samp>gettext.m4</samp></a></li>
      <li><a id="toc-AM_005fGNU_005fGETTEXT_005fVERSION-in-gettext_002em4" href="#AM_005fGNU_005fGETTEXT_005fVERSION">13.5.2 AM_GNU_GETTEXT_VERSION in <samp>gettext.m4</samp></a></li>
      <li><a id="toc-AM_005fGNU_005fGETTEXT_005fNEED-in-gettext_002em4" href="#AM_005fGNU_005fGETTEXT_005fNEED">13.5.3 AM_GNU_GETTEXT_NEED in <samp>gettext.m4</samp></a></li>
      <li><a id="toc-AM_005fPO_005fSUBDIRS-in-po_002em4" href="#AM_005fPO_005fSUBDIRS">13.5.4 AM_PO_SUBDIRS in <samp>po.m4</samp></a></li>
      <li><a id="toc-AM_005fXGETTEXT_005fOPTION-in-po_002em4" href="#AM_005fXGETTEXT_005fOPTION">13.5.5 AM_XGETTEXT_OPTION in <samp>po.m4</samp></a></li>
      <li><a id="toc-AM_005fICONV-in-iconv_002em4" href="#AM_005fICONV">13.5.6 AM_ICONV in <samp>iconv.m4</samp></a></li>
    </ul></li>
    <li><a id="toc-Integrating-with-Version-Control-Systems" href="#Version-Control-Issues">13.6 Integrating with Version Control Systems</a>
    <ul class="no-bullet">
      <li><a id="toc-Avoiding-version-mismatch-in-distributed-development" href="#Distributed-Development">13.6.1 Avoiding version mismatch in distributed development</a></li>
      <li><a id="toc-Files-to-put-under-version-control" href="#Files-under-Version-Control">13.6.2 Files to put under version control</a></li>
      <li><a id="toc-Put-PO-Files-under-Version-Control" href="#Translations-under-Version-Control">13.6.3 Put PO Files under Version Control</a></li>
      <li><a id="toc-Invoking-the-autopoint-Program" href="#autopoint-Invocation">13.6.4 Invoking the <code>autopoint</code> Program</a>
      <ul class="no-bullet">
        <li><a id="toc-Options" href="#Options">13.6.4.1 Options</a></li>
        <li><a id="toc-Informative-output-15" href="#Informative-output-15">13.6.4.2 Informative output</a></li>
      </ul></li>
    </ul></li>
    <li><a id="toc-Creating-a-Distribution-Tarball" href="#Release-Management">13.7 Creating a Distribution Tarball</a></li>
  </ul></li>
  <li><a id="toc-The-Installer_0027s-and-Distributor_0027s-View" href="#Installers">14 The Installer&rsquo;s and Distributor&rsquo;s View</a></li>
  <li><a id="toc-Other-Programming-Languages" href="#Programming-Languages">15 Other Programming Languages</a>
  <ul class="no-bullet">
    <li><a id="toc-The-Language-Implementor_0027s-View" href="#Language-Implementors">15.1 The Language Implementor&rsquo;s View</a></li>
    <li><a id="toc-The-Programmer_0027s-View-1" href="#Programmers-for-other-Languages">15.2 The Programmer&rsquo;s View</a></li>
    <li><a id="toc-The-Translator_0027s-View-1" href="#Translators-for-other-Languages">15.3 The Translator&rsquo;s View</a>
    <ul class="no-bullet">
      <li><a id="toc-C-Format-Strings" href="#c_002dformat">15.3.1 C Format Strings</a></li>
      <li><a id="toc-Objective-C-Format-Strings" href="#objc_002dformat">15.3.2 Objective C Format Strings</a></li>
      <li><a id="toc-Python-Format-Strings" href="#python_002dformat">15.3.3 Python Format Strings</a></li>
      <li><a id="toc-Java-Format-Strings" href="#java_002dformat">15.3.4 Java Format Strings</a></li>
      <li><a id="toc-C_0023-Format-Strings" href="#csharp_002dformat">15.3.5 C# Format Strings</a></li>
      <li><a id="toc-JavaScript-Format-Strings" href="#javascript_002dformat">15.3.6 JavaScript Format Strings</a></li>
      <li><a id="toc-Scheme-Format-Strings" href="#scheme_002dformat">15.3.7 Scheme Format Strings</a></li>
      <li><a id="toc-Lisp-Format-Strings" href="#lisp_002dformat">15.3.8 Lisp Format Strings</a></li>
      <li><a id="toc-Emacs-Lisp-Format-Strings" href="#elisp_002dformat">15.3.9 Emacs Lisp Format Strings</a></li>
      <li><a id="toc-librep-Format-Strings" href="#librep_002dformat">15.3.10 librep Format Strings</a></li>
      <li><a id="toc-Ruby-Format-Strings" href="#ruby_002dformat">15.3.11 Ruby Format Strings</a></li>
      <li><a id="toc-Shell-Format-Strings" href="#sh_002dformat">15.3.12 Shell Format Strings</a></li>
      <li><a id="toc-awk-Format-Strings" href="#awk_002dformat">15.3.13 awk Format Strings</a></li>
      <li><a id="toc-Lua-Format-Strings" href="#lua_002dformat">15.3.14 Lua Format Strings</a></li>
      <li><a id="toc-Object-Pascal-Format-Strings" href="#object_002dpascal_002dformat">15.3.15 Object Pascal Format Strings</a></li>
      <li><a id="toc-Smalltalk-Format-Strings" href="#smalltalk_002dformat">15.3.16 Smalltalk Format Strings</a></li>
      <li><a id="toc-Qt-Format-Strings" href="#qt_002dformat">15.3.17 Qt Format Strings</a></li>
      <li><a id="toc-Qt-Format-Strings-1" href="#qt_002dplural_002dformat">15.3.18 Qt Format Strings</a></li>
      <li><a id="toc-KDE-Format-Strings" href="#kde_002dformat">15.3.19 KDE Format Strings</a></li>
      <li><a id="toc-KUIT-Format-Strings" href="#kde_002dkuit_002dformat">15.3.20 KUIT Format Strings</a></li>
      <li><a id="toc-Boost-Format-Strings" href="#boost_002dformat">15.3.21 Boost Format Strings</a></li>
      <li><a id="toc-Tcl-Format-Strings" href="#tcl_002dformat">15.3.22 Tcl Format Strings</a></li>
      <li><a id="toc-Perl-Format-Strings" href="#perl_002dformat">15.3.23 Perl Format Strings</a></li>
      <li><a id="toc-PHP-Format-Strings" href="#php_002dformat">15.3.24 PHP Format Strings</a></li>
      <li><a id="toc-GCC-internal-Format-Strings" href="#gcc_002dinternal_002dformat">15.3.25 GCC internal Format Strings</a></li>
      <li><a id="toc-GFC-internal-Format-Strings" href="#gfc_002dinternal_002dformat">15.3.26 GFC internal Format Strings</a></li>
      <li><a id="toc-YCP-Format-Strings" href="#ycp_002dformat">15.3.27 YCP Format Strings</a></li>
    </ul></li>
    <li><a id="toc-The-Maintainer_0027s-View-1" href="#Maintainers-for-other-Languages">15.4 The Maintainer&rsquo;s View</a></li>
    <li><a id="toc-Individual-Programming-Languages" href="#List-of-Programming-Languages">15.5 Individual Programming Languages</a>
    <ul class="no-bullet">
      <li><a id="toc-C_002c-C_002b_002b_002c-Objective-C" href="#C">15.5.1 C, C++, Objective C</a></li>
      <li><a id="toc-Python-1" href="#Python">15.5.2 Python</a></li>
      <li><a id="toc-Java-1" href="#Java">15.5.3 Java</a></li>
      <li><a id="toc-C_0023-1" href="#C_0023">15.5.4 C#</a></li>
      <li><a id="toc-JavaScript-1" href="#JavaScript">15.5.5 JavaScript</a></li>
      <li><a id="toc-GNU-guile-_002d-Scheme" href="#Scheme">15.5.6 GNU guile - Scheme</a></li>
      <li><a id="toc-GNU-clisp-_002d-Common-Lisp" href="#Common-Lisp">15.5.7 GNU clisp - Common Lisp</a></li>
      <li><a id="toc-GNU-clisp-C-sources" href="#clisp-C">15.5.8 GNU clisp C sources</a></li>
      <li><a id="toc-Emacs-Lisp-1" href="#Emacs-Lisp">15.5.9 Emacs Lisp</a></li>
      <li><a id="toc-librep-1" href="#librep">15.5.10 librep</a></li>
      <li><a id="toc-Ruby-1" href="#Ruby">15.5.11 Ruby</a></li>
      <li><a id="toc-sh-_002d-Shell-Script" href="#sh">15.5.12 sh - Shell Script</a>
      <ul class="no-bullet">
        <li><a id="toc-Preparing-Shell-Scripts-for-Internationalization" href="#Preparing-Shell-Scripts">15.5.12.1 Preparing Shell Scripts for Internationalization</a></li>
        <li><a id="toc-Contents-of-gettext_002esh" href="#gettext_002esh">15.5.12.2 Contents of <code>gettext.sh</code></a></li>
        <li><a id="toc-Invoking-the-gettext-program" href="#gettext-Invocation">15.5.12.3 Invoking the <code>gettext</code> program</a></li>
        <li><a id="toc-Invoking-the-ngettext-program" href="#ngettext-Invocation">15.5.12.4 Invoking the <code>ngettext</code> program</a></li>
        <li><a id="toc-Invoking-the-envsubst-program" href="#envsubst-Invocation">15.5.12.5 Invoking the <code>envsubst</code> program</a></li>
        <li><a id="toc-Invoking-the-eval_005fgettext-function" href="#eval_005fgettext-Invocation">15.5.12.6 Invoking the <code>eval_gettext</code> function</a></li>
        <li><a id="toc-Invoking-the-eval_005fngettext-function" href="#eval_005fngettext-Invocation">15.5.12.7 Invoking the <code>eval_ngettext</code> function</a></li>
        <li><a id="toc-Invoking-the-eval_005fpgettext-function" href="#eval_005fpgettext-Invocation">15.5.12.8 Invoking the <code>eval_pgettext</code> function</a></li>
        <li><a id="toc-Invoking-the-eval_005fnpgettext-function" href="#eval_005fnpgettext-Invocation">15.5.12.9 Invoking the <code>eval_npgettext</code> function</a></li>
      </ul></li>
      <li><a id="toc-bash-_002d-Bourne_002dAgain-Shell-Script" href="#bash">15.5.13 bash - Bourne-Again Shell Script</a></li>
      <li><a id="toc-GNU-awk" href="#gawk">15.5.14 GNU awk</a></li>
      <li><a id="toc-Lua-1" href="#Lua">15.5.15 Lua</a></li>
      <li><a id="toc-Pascal-_002d-Free-Pascal-Compiler" href="#Pascal">15.5.16 Pascal - Free Pascal Compiler</a></li>
      <li><a id="toc-GNU-Smalltalk" href="#Smalltalk">15.5.17 GNU Smalltalk</a></li>
      <li><a id="toc-Vala-1" href="#Vala">15.5.18 Vala</a></li>
      <li><a id="toc-wxWidgets-library" href="#wxWidgets">15.5.19 wxWidgets library</a></li>
      <li><a id="toc-Tcl-_002d-Tk_0027s-scripting-language" href="#Tcl">15.5.20 Tcl - Tk&rsquo;s scripting language</a></li>
      <li><a id="toc-Perl-1" href="#Perl">15.5.21 Perl</a>
      <ul class="no-bullet">
        <li><a id="toc-General-Problems-Parsing-Perl-Code" href="#General-Problems">15.5.21.1 General Problems Parsing Perl Code</a></li>
        <li><a id="toc-Which-keywords-will-xgettext-look-for_003f" href="#Default-Keywords">15.5.21.2 Which keywords will xgettext look for?</a></li>
        <li><a id="toc-How-to-Extract-Hash-Keys" href="#Special-Keywords">15.5.21.3 How to Extract Hash Keys</a></li>
        <li><a id="toc-What-are-Strings-And-Quote_002dlike-Expressions_003f" href="#Quote_002dlike-Expressions">15.5.21.4 What are Strings And Quote-like Expressions?</a></li>
        <li><a id="toc-Invalid-Uses-Of-String-Interpolation" href="#Interpolation-I">15.5.21.5 Invalid Uses Of String Interpolation</a></li>
        <li><a id="toc-Valid-Uses-Of-String-Interpolation" href="#Interpolation-II">15.5.21.6 Valid Uses Of String Interpolation</a></li>
        <li><a id="toc-When-To-Use-Parentheses" href="#Parentheses">15.5.21.7 When To Use Parentheses</a></li>
        <li><a id="toc-How-To-Grok-with-Long-Lines" href="#Long-Lines">15.5.21.8 How To Grok with Long Lines</a></li>
        <li><a id="toc-Bugs_002c-Pitfalls_002c-And-Things-That-Do-Not-Work" href="#Perl-Pitfalls">15.5.21.9 Bugs, Pitfalls, And Things That Do Not Work</a></li>
      </ul></li>
      <li><a id="toc-PHP-Hypertext-Preprocessor" href="#PHP">15.5.22 PHP Hypertext Preprocessor</a></li>
      <li><a id="toc-Pike-1" href="#Pike">15.5.23 Pike</a></li>
      <li><a id="toc-GNU-Compiler-Collection-sources" href="#GCC_002dsource">15.5.24 GNU Compiler Collection sources</a></li>
      <li><a id="toc-YCP-_002d-YaST2-scripting-language" href="#YCP">15.5.25 YCP - YaST2 scripting language</a></li>
    </ul></li>
  </ul></li>
  <li><a id="toc-Other-Data-Formats" href="#Data-Formats">16 Other Data Formats</a>
  <ul class="no-bullet">
    <li><a id="toc-Internationalizable-Data-Formats" href="#Internationalizable-Data">16.1 Internationalizable Data Formats</a>
    <ul class="no-bullet">
      <li><a id="toc-POT-_002d-Portable-Object-Template" href="#POT">16.1.1 POT - Portable Object Template</a></li>
      <li><a id="toc-Resource-String-Table" href="#RST">16.1.2 Resource String Table</a></li>
      <li><a id="toc-Glade-_002d-GNOME-user-interface-description" href="#Glade">16.1.3 Glade - GNOME user interface description</a></li>
      <li><a id="toc-GSettings-_002d-GNOME-user-configuration-schema" href="#GSettings">16.1.4 GSettings - GNOME user configuration schema</a></li>
      <li><a id="toc-AppData-_002d-freedesktop_002eorg-application-description" href="#AppData">16.1.5 AppData - freedesktop.org application description</a></li>
      <li><a id="toc-Preparing-Rules-for-XML-Internationalization" href="#Preparing-ITS-Rules">16.1.6 Preparing Rules for XML Internationalization</a>
      <ul class="no-bullet">
        <li><a id="toc-Two-Use_002dcases-of-Translated-Strings-in-XML" href="#Two-Use_002dcases-of-Translated-Strings-in-XML">16.1.6.1 Two Use-cases of Translated Strings in XML</a></li>
      </ul></li>
    </ul></li>
    <li><a id="toc-Localized-Data-Formats" href="#Localized-Data">16.2 Localized Data Formats</a>
    <ul class="no-bullet">
      <li><a id="toc-Editable-Message-Catalogs-1" href="#Editable-Message-Catalogs">16.2.1 Editable Message Catalogs</a>
      <ul class="no-bullet">
        <li><a id="toc-PO-_002d-Portable-Object" href="#PO">16.2.1.1 PO - Portable Object</a></li>
        <li><a id="toc-Java-_002eproperties-1" href="#Java-_002eproperties">16.2.1.2 Java .properties</a></li>
        <li><a id="toc-NeXTstep_002fGNUstep-_002estrings" href="#GNUstep-_002estrings">16.2.1.3 NeXTstep/GNUstep .strings</a></li>
      </ul></li>
      <li><a id="toc-Compiled-Message-Catalogs-1" href="#Compiled-Message-Catalogs">16.2.2 Compiled Message Catalogs</a>
      <ul class="no-bullet">
        <li><a id="toc-MO-_002d-Machine-Object" href="#MO">16.2.2.1 MO - Machine Object</a></li>
        <li><a id="toc-Java-ResourceBundle-1" href="#Java-ResourceBundle">16.2.2.2 Java ResourceBundle</a></li>
        <li><a id="toc-C_0023-Satellite-Assembly-1" href="#C_0023-Satellite-Assembly">16.2.2.3 C# Satellite Assembly</a></li>
        <li><a id="toc-C_0023-Resource-1" href="#C_0023-Resource">16.2.2.4 C# Resource</a></li>
        <li><a id="toc-Tcl-message-catalog-1" href="#Tcl-message-catalog">16.2.2.5 Tcl message catalog</a></li>
        <li><a id="toc-Qt-message-catalog-1" href="#Qt-message-catalog">16.2.2.6 Qt message catalog</a></li>
      </ul></li>
      <li><a id="toc-Desktop-Entry-files" href="#Desktop-Entry">16.2.3 Desktop Entry files</a>
      <ul class="no-bullet">
        <li><a id="toc-How-to-handle-icons-in-Desktop-Entry-files" href="#Icons">16.2.3.1 How to handle icons in Desktop Entry files</a></li>
      </ul></li>
      <li><a id="toc-XML-files" href="#XML">16.2.4 XML files</a></li>
    </ul></li>
  </ul></li>
  <li><a id="toc-Concluding-Remarks" href="#Conclusion">17 Concluding Remarks</a>
  <ul class="no-bullet">
    <li><a id="toc-History-of-GNU-gettext" href="#History">17.1 History of GNU <code>gettext</code></a></li>
    <li><a id="toc-Notes-on-the-Free-Translation-Project" href="#The-original-ABOUT_002dNLS">17.2 Notes on the Free Translation Project</a>
    <ul class="no-bullet">
      <li><a id="toc-INSTALL-Matters-1" href="#INSTALL-Matters">17.2.1 INSTALL Matters</a></li>
      <li><a id="toc-Using-This-Package-1" href="#Using-This-Package">17.2.2 Using This Package</a></li>
      <li><a id="toc-Translating-Teams-1" href="#Translating-Teams">17.2.3 Translating Teams</a></li>
      <li><a id="toc-Available-Packages-1" href="#Available-Packages">17.2.4 Available Packages</a></li>
      <li><a id="toc-Using-gettext-in-new-packages" href="#Using-gettext-in-own-code">17.2.5 Using <code>gettext</code> in new packages</a></li>
    </ul></li>
    <li><a id="toc-Related-Readings" href="#References">17.3 Related Readings</a></li>
  </ul></li>
  <li><a id="toc-Language-Codes-1" href="#Language-Codes">Appendix A Language Codes</a>
  <ul class="no-bullet">
    <li><a id="toc-Usual-Language-Codes-1" href="#Usual-Language-Codes">A.1 Usual Language Codes</a></li>
    <li><a id="toc-Rare-Language-Codes-1" href="#Rare-Language-Codes">A.2 Rare Language Codes</a></li>
  </ul></li>
  <li><a id="toc-Country-Codes-1" href="#Country-Codes">Appendix B Country Codes</a></li>
  <li><a id="toc-Licenses-1" href="#Licenses">Appendix C Licenses</a>
  <ul class="no-bullet">
    <li><a id="toc-GNU-GENERAL-PUBLIC-LICENSE" href="#GNU-GPL">C.1 GNU GENERAL PUBLIC LICENSE</a></li>
    <li><a id="toc-GNU-LESSER-GENERAL-PUBLIC-LICENSE" href="#GNU-LGPL">C.2 GNU LESSER GENERAL PUBLIC LICENSE</a></li>
    <li><a id="toc-GNU-Free-Documentation-License" href="#GNU-FDL">C.3 GNU Free Documentation License</a></li>
  </ul></li>
  <li><a id="toc-Program-Index-1" href="#Program-Index" rel="index">Program Index</a></li>
  <li><a id="toc-Option-Index-1" href="#Option-Index" rel="index">Option Index</a></li>
  <li><a id="toc-Variable-Index-1" href="#Variable-Index" rel="index">Variable Index</a></li>
  <li><a id="toc-PO-Mode-Index-1" href="#PO-Mode-Index" rel="index">PO Mode Index</a></li>
  <li><a id="toc-Autoconf-Macro-Index-1" href="#Autoconf-Macro-Index" rel="index">Autoconf Macro Index</a></li>
  <li><a id="toc-General-Index" href="#Index" rel="index">General Index</a></li>
</ul>
</div>
</div>
<hr>
<div class="chapter" id="Introduction">
<div class="header">
<p>
Next: <a href="#Users" accesskey="n" rel="next">The User&rsquo;s View</a>, Previous: <a href="#Top" accesskey="p" rel="prev">GNU <code>gettext</code> utilities</a>, Up: <a href="#Top" accesskey="u" rel="up">GNU <code>gettext</code> utilities</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Program-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Introduction-1"></span><h2 class="chapter">1 Introduction</h2>

<p>This chapter explains the goals sought in the creation
of GNU <code>gettext</code> and the free Translation Project.
Then, it explains a few broad concepts around
Native Language Support, and positions message translation with regard
to other aspects of national and cultural variance, as they apply
to programs.  It also surveys those files used to convey the
translations.  It explains how the various tools interact in the
initial generation of these files, and later, how the maintenance
cycle should usually operate.
</p>
<span id="index-sex"></span>
<span id="index-he_002c-she_002c-and-they"></span>
<span id="index-she_002c-he_002c-and-they"></span>
<p>In this manual, we use <em>he</em> when speaking of the programmer or
maintainer, <em>she</em> when speaking of the translator, and <em>they</em>
when speaking of the installers or end users of the translated program.
This is only a convenience for clarifying the documentation.  It is
<em>absolutely</em> not meant to imply that some roles are more appropriate
to males or females.  Besides, as you might guess, GNU <code>gettext</code>
is meant to be useful for people using computers, whatever their sex,
race, religion or nationality!
</p>
<span id="index-bug-report-address"></span>
<p>Please submit suggestions and corrections
</p><ul>
<li> either in the bug tracker at <a href="https://savannah.gnu.org/projects/gettext">https://savannah.gnu.org/projects/gettext</a>
</li><li> or by email to <code>bug-gettext@gnu.org</code>.
</li></ul>

<p>Please include the manual&rsquo;s edition number and update date in your messages.
</p>

<ul class="section-toc">
<li><a href="#Why" accesskey="1">The Purpose of GNU <code>gettext</code></a></li>
<li><a href="#Concepts" accesskey="2">I18n, L10n, and Such</a></li>
<li><a href="#Aspects" accesskey="3">Aspects in Native Language Support</a></li>
<li><a href="#Files" accesskey="4">Files Conveying Translations</a></li>
<li><a href="#Overview" accesskey="5">Overview of GNU <code>gettext</code></a></li>
</ul>
<hr>
<div class="section" id="Why">
<div class="header">
<p>
Next: <a href="#Concepts" accesskey="n" rel="next">I18n, L10n, and Such</a>, Up: <a href="#Introduction" accesskey="u" rel="up">Introduction</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Program-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="The-Purpose-of-GNU-gettext"></span><h3 class="section">1.1 The Purpose of GNU <code>gettext</code></h3>

<p>Usually, programs are written and documented in English, and use
English at execution time to interact with users.  This is true
not only of GNU software, but also of a great deal of proprietary
and free software.  Using a common language is quite handy for
communication between developers, maintainers and users from all
countries.  On the other hand, most people are less comfortable with
English than with their own native language, and would prefer to
use their mother tongue for day to day&rsquo;s work, as far as possible.
Many would simply <em>love</em> to see their computer screen showing
a lot less of English, and far more of their own language.
</p>
<span id="index-Translation-Project"></span>
<p>However, to many people, this dream might appear so far fetched that
they may believe it is not even worth spending time thinking about
it.  They have no confidence at all that the dream might ever
become true.  Yet some have not lost hope, and have organized themselves.
The Translation Project is a formalization of this hope into a
workable structure, which has a good chance to get all of us nearer
the achievement of a truly multi-lingual set of programs.
</p>
<p>GNU <code>gettext</code> is an important step for the Translation Project,
as it is an asset on which we may build many other steps.  This package
offers to programmers, translators and even users, a well integrated
set of tools and documentation.  Specifically, the GNU <code>gettext</code>
utilities are a set of tools that provides a framework within which
other free packages may produce multi-lingual messages.  These tools
include
</p>
<ul>
<li> A set of conventions about how programs should be written to support
message catalogs.

</li><li> A directory and file naming organization for the message catalogs
themselves.

</li><li> A runtime library supporting the retrieval of translated messages.

</li><li> A few stand-alone programs to massage in various ways the sets of
translatable strings, or already translated strings.

</li><li> A library supporting the parsing and creation of files containing
translated messages.

</li><li> A special mode for Emacs<a id="DOCF1" href="#FOOT1"><sup>1</sup></a> which helps preparing these sets
and bringing them up to date.
</li></ul>

<p>GNU <code>gettext</code> is designed to minimize the impact of
internationalization on program sources, keeping this impact as small
and hardly noticeable as possible.  Internationalization has better
chances of succeeding if it is very light weighted, or at least,
appear to be so, when looking at program sources.
</p>
<p>The Translation Project also uses the GNU <code>gettext</code> distribution
as a vehicle for documenting its structure and methods.  This goes
beyond the strict technicalities of documenting the GNU <code>gettext</code>
proper.  By so doing, translators will find in a single place, as
far as possible, all they need to know for properly doing their
translating work.  Also, this supplemental documentation might also
help programmers, and even curious users, in understanding how GNU
<code>gettext</code> is related to the remainder of the Translation
Project, and consequently, have a glimpse at the <em>big picture</em>.
</p>
<hr>
</div>
<div class="section" id="Concepts">
<div class="header">
<p>
Next: <a href="#Aspects" accesskey="n" rel="next">Aspects in Native Language Support</a>, Previous: <a href="#Why" accesskey="p" rel="prev">The Purpose of GNU <code>gettext</code></a>, Up: <a href="#Introduction" accesskey="u" rel="up">Introduction</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Program-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="I18n_002c-L10n_002c-and-Such"></span><h3 class="section">1.2 I18n, L10n, and Such</h3>

<span id="index-i18n"></span>
<span id="index-l10n"></span>
<p>Two long words appear all the time when we discuss support of native
language in programs, and these words have a precise meaning, worth
being explained here, once and for all in this document.  The words are
<em>internationalization</em> and <em>localization</em>.  Many people,
tired of writing these long words over and over again, took the
habit of writing <em>i18n</em> and <em>l10n</em> instead, quoting the first
and last letter of each word, and replacing the run of intermediate
letters by a number merely telling how many such letters there are.
But in this manual, in the sake of clarity, we will patiently write
the names in full, each time&hellip;
</p>
<span id="index-internationalization"></span>
<p>By <em>internationalization</em>, one refers to the operation by which a
program, or a set of programs turned into a package, is made aware of and
able to support multiple languages.  This is a generalization process,
by which the programs are untied from calling only English strings or
other English specific habits, and connected to generic ways of doing
the same, instead.  Program developers may use various techniques to
internationalize their programs.  Some of these have been standardized.
GNU <code>gettext</code> offers one of these standards.  See <a href="#Programmers">The Programmer&rsquo;s View</a>.
</p>
<span id="index-localization"></span>
<p>By <em>localization</em>, one means the operation by which, in a set
of programs already internationalized, one gives the program all
needed information so that it can adapt itself to handle its input
and output in a fashion which is correct for some native language and
cultural habits.  This is a particularisation process, by which generic
methods already implemented in an internationalized program are used
in specific ways.  The programming environment puts several functions
to the programmers disposal which allow this runtime configuration.
The formal description of specific set of cultural habits for some
country, together with all associated translations targeted to the
same native language, is called the <em>locale</em> for this language
or country.  Users achieve localization of programs by setting proper
values to special environment variables, prior to executing those
programs, identifying which locale should be used.
</p>
<p>In fact, locale message support is only one component of the cultural
data that makes up a particular locale.  There are a whole host of
routines and functions provided to aid programmers in developing
internationalized software and which allow them to access the data
stored in a particular locale.  When someone presently refers to a
particular locale, they are obviously referring to the data stored
within that particular locale.  Similarly, if a programmer is referring
to &ldquo;accessing the locale routines&rdquo;, they are referring to the
complete suite of routines that access all of the locale&rsquo;s information.
</p>
<span id="index-NLS"></span>
<span id="index-Native-Language-Support"></span>
<span id="index-Natural-Language-Support"></span>
<p>One uses the expression <em>Native Language Support</em>, or merely NLS,
for speaking of the overall activity or feature encompassing both
internationalization and localization, allowing for multi-lingual
interactions in a program.  In a nutshell, one could say that
internationalization is the operation by which further localizations
are made possible.
</p>
<p>Also, very roughly said, when it comes to multi-lingual messages,
internationalization is usually taken care of by programmers, and
localization is usually taken care of by translators.
</p>
<hr>
</div>
<div class="section" id="Aspects">
<div class="header">
<p>
Next: <a href="#Files" accesskey="n" rel="next">Files Conveying Translations</a>, Previous: <a href="#Concepts" accesskey="p" rel="prev">I18n, L10n, and Such</a>, Up: <a href="#Introduction" accesskey="u" rel="up">Introduction</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Program-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Aspects-in-Native-Language-Support"></span><h3 class="section">1.3 Aspects in Native Language Support</h3>

<span id="index-translation-aspects"></span>
<p>For a totally multi-lingual distribution, there are many things to
translate beyond output messages.
</p>
<ul>
<li> As of today, GNU <code>gettext</code> offers a complete toolset for
translating messages output by C programs.  Perl scripts and shell
scripts will also need to be translated.  Even if there are today some hooks
by which this can be done, these hooks are not integrated as well as they
should be.

</li><li> Some programs, like <code>autoconf</code> or <code>bison</code>, are able
to produce other programs (or scripts).  Even if the generating
programs themselves are internationalized, the generated programs they
produce may need internationalization on their own, and this indirect
internationalization could be automated right from the generating
program.  In fact, quite usually, generating and generated programs
could be internationalized independently, as the effort needed is
fairly orthogonal.

</li><li> A few programs include textual tables which might need translation
themselves, independently of the strings contained in the program
itself.  For example, RFC&nbsp;1345<!-- /@w --> gives an English description for each
character which the <code>recode</code> program is able to reconstruct at execution.
Since these descriptions are extracted from the RFC by mechanical means,
translating them properly would require a prior translation of the RFC
itself.

</li><li> Almost all programs accept options, which are often worded out so to
be descriptive for the English readers; one might want to consider
offering translated versions for program options as well.

</li><li> Many programs read, interpret, compile, or are somewhat driven by
input files which are texts containing keywords, identifiers, or
replies which are inherently translatable.  For example, one may want
<code>gcc</code> to allow diacriticized characters in identifiers or use
translated keywords; &lsquo;<samp>rm -i</samp>&rsquo; might accept something else than
&lsquo;<samp>y</samp>&rsquo; or &lsquo;<samp>n</samp>&rsquo; for replies, etc.  Even if the program will
eventually make most of its output in the foreign languages, one has
to decide whether the input syntax, option values, etc., are to be
localized or not.

</li><li> The manual accompanying a package, as well as all documentation files
in the distribution, could surely be translated, too.  Translating a
manual, with the intent of later keeping up with updates, is a major
undertaking in itself, generally.

</li></ul>

<p>As we already stressed, translation is only one aspect of locales.
Other internationalization aspects are system services and are handled
in GNU <code>libc</code>.  There
are many attributes that are needed to define a country&rsquo;s cultural
conventions.  These attributes include beside the country&rsquo;s native
language, the formatting of the date and time, the representation of
numbers, the symbols for currency, etc.  These local <em>rules</em> are
termed the country&rsquo;s locale.  The locale represents the knowledge
needed to support the country&rsquo;s native attributes.
</p>
<span id="index-locale-categories"></span>
<p>There are a few major areas which may vary between countries and
hence, define what a locale must describe.  The following list helps
putting multi-lingual messages into the proper context of other tasks
related to locales.  See the GNU <code>libc</code> manual for details.
</p>
<dl compact="compact">
<dt id='index-codeset'><span><em>Characters and Codesets</em><a href='#index-codeset' class='copiable-anchor'> &para;</a></span></dt>
<dd><span id="index-encoding"></span>
<span id="index-character-encoding"></span>
<span id="index-locale-category_002c-LC_005fCTYPE"></span>

<p>The codeset most commonly used through out the USA and most English
speaking parts of the world is the ASCII codeset.  However, there are
many characters needed by various locales that are not found within
this codeset.  The 8-bit ISO&nbsp;<span class="nolinebreak">8859-1</span><!-- /@w --> code set has most of the special
characters needed to handle the major European languages.  However, in
many cases, choosing ISO&nbsp;<span class="nolinebreak">8859-1</span><!-- /@w --> is nevertheless not adequate: it
doesn&rsquo;t even handle the major European currency.  Hence each locale
will need to specify which codeset they need to use and will need
to have the appropriate character handling routines to cope with
the codeset.
</p>
</dd>
<dt id='index-currency-symbols'><span><em>Currency</em><a href='#index-currency-symbols' class='copiable-anchor'> &para;</a></span></dt>
<dd><span id="index-locale-category_002c-LC_005fMONETARY"></span>

<p>The symbols used vary from country to country as does the position
used by the symbol.  Software needs to be able to transparently
display currency figures in the native mode for each locale.
</p>
</dd>
<dt id='index-date-format'><span><em>Dates</em><a href='#index-date-format' class='copiable-anchor'> &para;</a></span></dt>
<dd><span id="index-locale-category_002c-LC_005fTIME"></span>

<p>The format of date varies between locales.  For example, Christmas day
in 1994 is written as 12/25/94 in the USA and as 25/12/94 in Australia.
Other countries might use ISO&nbsp;8601<!-- /@w --> dates, etc.
</p>
<p>Time of the day may be noted as <var>hh</var>:<var>mm</var>, <var>hh</var>.<var>mm</var>,
or otherwise.  Some locales require time to be specified in 24-hour
mode rather than as AM or PM.  Further, the nature and yearly extent
of the Daylight Saving correction vary widely between countries.
</p>
</dd>
<dt id='index-number-format'><span><em>Numbers</em><a href='#index-number-format' class='copiable-anchor'> &para;</a></span></dt>
<dd><span id="index-locale-category_002c-LC_005fNUMERIC"></span>

<p>Numbers can be represented differently in different locales.
For example, the following numbers are all written correctly for
their respective locales:
</p>
<div class="example">
<pre class="example">12,345.67       English
12.345,67       German
 12345,67       French
1,2345.67       Asia
</pre></div>

<p>Some programs could go further and use different unit systems, like
English units or Metric units, or even take into account variants
about how numbers are spelled in full.
</p>
</dd>
<dt id='index-messages'><span><em>Messages</em><a href='#index-messages' class='copiable-anchor'> &para;</a></span></dt>
<dd><span id="index-locale-category_002c-LC_005fMESSAGES"></span>

<p>The most obvious area is the language support within a locale.  This is
where GNU <code>gettext</code> provides the means for developers and users to
easily change the language that the software uses to communicate to
the user.
</p>
</dd>
</dl>

<span id="index-locale-categories-1"></span>
<p>These areas of cultural conventions are called <em>locale categories</em>.
It is an unfortunate term; <em>locale aspects</em> or <em>locale feature
categories</em> would be a better term, because each &ldquo;locale category&rdquo;
describes an area or task that requires localization.  The concrete data
that describes the cultural conventions for such an area and for a particular
culture is also called a <em>locale category</em>.  In this sense, a locale
is composed of several locale categories: the locale category describing
the codeset, the locale category describing the formatting of numbers,
the locale category containing the translated messages, and so on.
</p>
<span id="index-Linux"></span>
<p>Components of locale outside of message handling are standardized in
the ISO C standard and the POSIX:2001 standard (also known as the SUSV3
specification).  GNU <code>libc</code>
fully implements this, and most other modern systems provide a more
or less reasonable support for at least some of the missing components.
</p>
<hr>
</div>
<div class="section" id="Files">
<div class="header">
<p>
Next: <a href="#Overview" accesskey="n" rel="next">Overview of GNU <code>gettext</code></a>, Previous: <a href="#Aspects" accesskey="p" rel="prev">Aspects in Native Language Support</a>, Up: <a href="#Introduction" accesskey="u" rel="up">Introduction</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Program-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Files-Conveying-Translations"></span><h3 class="section">1.4 Files Conveying Translations</h3>

<span id="index-files_002c-_002epo-and-_002emo"></span>
<p>The letters PO in <samp>.po</samp> files means Portable Object, to
distinguish it from <samp>.mo</samp> files, where MO stands for Machine
Object.  This paradigm, as well as the PO file format, is inspired
by the NLS standard developed by Uniforum, and first implemented by
Sun in their Solaris system.
</p>
<p>PO files are meant to be read and edited by humans, and associate each
original, translatable string of a given package with its translation
in a particular target language.  A single PO file is dedicated to
a single target language.  If a package supports many languages,
there is one such PO file per language supported, and each package
has its own set of PO files.  These PO files are best created by
the <code>xgettext</code> program, and later updated or refreshed through
the <code>msgmerge</code> program.  Program <code>xgettext</code> extracts all
marked messages from a set of C files and initializes a PO file with
empty translations.  Program <code>msgmerge</code> takes care of adjusting
PO files between releases of the corresponding sources, commenting
obsolete entries, initializing new ones, and updating all source
line references.  Files ending with <samp>.pot</samp> are kind of base
translation files found in distributions, in PO file format.
</p>
<p>MO files are meant to be read by programs, and are binary in nature.
A few systems already offer tools for creating and handling MO files
as part of the Native Language Support coming with the system, but the
format of these MO files is often different from system to system,
and non-portable.  The tools already provided with these systems don&rsquo;t
support all the features of GNU <code>gettext</code>.  Therefore GNU
<code>gettext</code> uses its own format for MO files.  Files ending with
<samp>.gmo</samp> are really MO files, when it is known that these files use
the GNU format.
</p>
<hr>
</div>
<div class="section" id="Overview">
<div class="header">
<p>
Previous: <a href="#Files" accesskey="p" rel="prev">Files Conveying Translations</a>, Up: <a href="#Introduction" accesskey="u" rel="up">Introduction</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Program-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Overview-of-GNU-gettext"></span><h3 class="section">1.5 Overview of GNU <code>gettext</code></h3>

<span id="index-overview-of-gettext"></span>
<span id="index-big-picture"></span>
<span id="index-tutorial-of-gettext-usage"></span>
<p>The following diagram summarizes the relation between the files
handled by GNU <code>gettext</code> and the tools acting on these files.
It is followed by somewhat detailed explanations, which you should
read while keeping an eye on the diagram.  Having a clear understanding
of these interrelations will surely help programmers, translators
and maintainers.
</p>
<div class="example">
<pre class="example">Original C Sources ───&gt; Preparation ───&gt; Marked C Sources ───╮
                                                             │
              ╭─────────&lt;─── GNU gettext Library             │
╭─── make &lt;───┤                                              │
│             ╰─────────&lt;────────────────────┬───────────────╯
│                                            │
│   ╭─────&lt;─── PACKAGE.pot &lt;─── xgettext &lt;───╯   ╭───&lt;─── PO Compendium
│   │                                            │              ↑
│   │                                            ╰───╮          │
│   ╰───╮                                            ├───&gt; PO editor ───╮
│       ├────&gt; msgmerge ──────&gt; LANG.po ────&gt;────────╯                  │
│   ╭───╯                                                               │
│   │                                                                   │
│   ╰─────────────&lt;───────────────╮                                     │
│                                 ├─── New LANG.po &lt;────────────────────╯
│   ╭─── LANG.gmo &lt;─── msgfmt &lt;───╯
│   │
│   ╰───&gt; install ───&gt; /.../LANG/PACKAGE.mo ───╮
│                                              ├───&gt; &quot;Hello world!&quot;
╰───────&gt; install ───&gt; /.../bin/PROGRAM ───────╯
</pre></div>

<span id="index-marking-translatable-strings"></span>
<p>As a programmer, the first step to bringing GNU <code>gettext</code>
into your package is identifying, right in the C sources, those strings
which are meant to be translatable, and those which are untranslatable.
This tedious job can be done a little more comfortably using emacs PO
mode, but you can use any means familiar to you for modifying your
C sources.  Beside this some other simple, standard changes are needed to
properly initialize the translation library.  See <a href="#Sources">Preparing Program Sources</a>, for
more information about all this.
</p>
<p>For newly written software the strings of course can and should be
marked while writing it.  The <code>gettext</code> approach makes this
very easy.  Simply put the following lines at the beginning of each file
or in a central header file:
</p>
<div class="example">
<pre class="example">#define _(String) (String)
#define N_(String) String
#define textdomain(Domain)
#define bindtextdomain(Package, Directory)
</pre></div>

<p>Doing this allows you to prepare the sources for internationalization.
Later when you feel ready for the step to use the <code>gettext</code> library
simply replace these definitions by the following:
</p>
<span id="index-include-file-libintl_002eh"></span>
<div class="example">
<pre class="example">#include &lt;libintl.h&gt;
#define _(String) gettext (String)
#define gettext_noop(String) String
#define N_(String) gettext_noop (String)
</pre></div>

<span id="index-link-with-libintl"></span>
<span id="index-Linux-1"></span>
<p>and link against <samp>libintl.a</samp> or <samp>libintl.so</samp>.  Note that on
GNU systems, you don&rsquo;t need to link with <code>libintl</code> because the
<code>gettext</code> library functions are already contained in GNU libc.
That is all you have to change.
</p>
<span id="index-template-PO-file"></span>
<span id="index-files_002c-_002epot"></span>
<p>Once the C sources have been modified, the <code>xgettext</code> program
is used to find and extract all translatable strings, and create a
PO template file out of all these.  This <samp><var>package</var>.pot</samp> file
contains all original program strings.  It has sets of pointers to
exactly where in C sources each string is used.  All translations
are set to empty.  The letter <code>t</code> in <samp>.pot</samp> marks this as
a Template PO file, not yet oriented towards any particular language.
See <a href="#xgettext-Invocation">Invoking the <code>xgettext</code> Program</a>, for more details about how one calls the
<code>xgettext</code> program.  If you are <em>really</em> lazy, you might
be interested at working a lot more right away, and preparing the
whole distribution setup (see <a href="#Maintainers">The Maintainer&rsquo;s View</a>).  By doing so, you
spare yourself typing the <code>xgettext</code> command, as <code>make</code>
should now generate the proper things automatically for you!
</p>
<p>The first time through, there is no <samp><var>lang</var>.po</samp> yet, so the
<code>msgmerge</code> step may be skipped and replaced by a mere copy of
<samp><var>package</var>.pot</samp> to <samp><var>lang</var>.po</samp>, where <var>lang</var>
represents the target language.  See <a href="#Creating">Creating a New PO File</a> for details.
</p>
<p>Then comes the initial translation of messages.  Translation in
itself is a whole matter, still exclusively meant for humans,
and whose complexity far overwhelms the level of this manual.
Nevertheless, a few hints are given in some other chapter of this
manual (see <a href="#Translators">The Translator&rsquo;s View</a>).  You will also find there indications
about how to contact translating teams, or becoming part of them,
for sharing your translating concerns with others who target the same
native language.
</p>
<p>While adding the translated messages into the <samp><var>lang</var>.po</samp>
PO file, if you are not using one of the dedicated PO file editors
(see <a href="#Editing">Editing PO Files</a>), you are on your own
for ensuring that your efforts fully respect the PO file format, and quoting
conventions (see <a href="#PO-Files">The Format of PO Files</a>).  This is surely not an impossible task,
as this is the way many people have handled PO files around 1995.
On the other hand, by using a PO file editor, most details
of PO file format are taken care of for you, but you have to acquire
some familiarity with PO file editor itself.
</p>
<p>If some common translations have already been saved into a compendium
PO file, translators may use PO mode for initializing untranslated
entries from the compendium, and also save selected translations into
the compendium, updating it (see <a href="#Compendium">Using Translation Compendia</a>).  Compendium files
are meant to be exchanged between members of a given translation team.
</p>
<p>Programs, or packages of programs, are dynamic in nature: users write
bug reports and suggestion for improvements, maintainers react by
modifying programs in various ways.  The fact that a package has
already been internationalized should not make maintainers shy
of adding new strings, or modifying strings already translated.
They just do their job the best they can.  For the Translation
Project to work smoothly, it is important that maintainers do not
carry translation concerns on their already loaded shoulders, and that
translators be kept as free as possible of programming concerns.
</p>
<p>The only concern maintainers should have is carefully marking new
strings as translatable, when they should be, and do not otherwise
worry about them being translated, as this will come in proper time.
Consequently, when programs and their strings are adjusted in various
ways by maintainers, and for matters usually unrelated to translation,
<code>xgettext</code> would construct <samp><var>package</var>.pot</samp> files which are
evolving over time, so the translations carried by <samp><var>lang</var>.po</samp>
are slowly fading out of date.
</p>
<span id="index-evolution-of-packages"></span>
<p>It is important for translators (and even maintainers) to understand
that package translation is a continuous process in the lifetime of a
package, and not something which is done once and for all at the start.
After an initial burst of translation activity for a given package,
interventions are needed once in a while, because here and there,
translated entries become obsolete, and new untranslated entries
appear, needing translation.
</p>
<p>The <code>msgmerge</code> program has the purpose of refreshing an already
existing <samp><var>lang</var>.po</samp> file, by comparing it with a newer
<samp><var>package</var>.pot</samp> template file, extracted by <code>xgettext</code>
out of recent C sources.  The refreshing operation adjusts all
references to C source locations for strings, since these strings
move as programs are modified.  Also, <code>msgmerge</code> comments out as
obsolete, in <samp><var>lang</var>.po</samp>, those already translated entries
which are no longer used in the program sources (see <a href="#Obsolete-Entries">Obsolete Entries</a>).  It finally discovers new strings and inserts them in
the resulting PO file as untranslated entries (see <a href="#Untranslated-Entries">Untranslated Entries</a>).  See <a href="#msgmerge-Invocation">Invoking the <code>msgmerge</code> Program</a>, for more information about what
<code>msgmerge</code> really does.
</p>
<p>Whatever route or means taken, the goal is to obtain an updated
<samp><var>lang</var>.po</samp> file offering translations for all strings.
</p>
<p>The temporal mobility, or fluidity of PO files, is an integral part of
the translation game, and should be well understood, and accepted.
People resisting it will have a hard time participating in the
Translation Project, or will give a hard time to other participants!  In
particular, maintainers should relax and include all available official
PO files in their distributions, even if these have not recently been
updated, without exerting pressure on the translator teams to get the
job done.  The pressure should rather come
from the community of users speaking a particular language, and
maintainers should consider themselves fairly relieved of any concern
about the adequacy of translation files.  On the other hand, translators
should reasonably try updating the PO files they are responsible for,
while the package is undergoing pretest, prior to an official
distribution.
</p>
<p>Once the PO file is complete and dependable, the <code>msgfmt</code> program
is used for turning the PO file into a machine-oriented format, which
may yield efficient retrieval of translations by the programs of the
package, whenever needed at runtime (see <a href="#MO-Files">The Format of GNU MO Files</a>).  See <a href="#msgfmt-Invocation">Invoking the <code>msgfmt</code> Program</a>, for more information about all modes of execution
for the <code>msgfmt</code> program.
</p>
<p>Finally, the modified and marked C sources are compiled and linked
with the GNU <code>gettext</code> library, usually through the operation of
<code>make</code>, given a suitable <samp>Makefile</samp> exists for the project,
and the resulting executable is installed somewhere users will find it.
The MO files themselves should also be properly installed.  Given the
appropriate environment variables are set (see <a href="#Setting-the-POSIX-Locale">Setting the Locale through Environment Variables</a>),
the program should localize itself automatically, whenever it executes.
</p>
<p>The remainder of this manual has the purpose of explaining in depth the various
steps outlined above.
</p>
<hr>
</div>
</div>
<div class="chapter" id="Users">
<div class="header">
<p>
Next: <a href="#PO-Files" accesskey="n" rel="next">The Format of PO Files</a>, Previous: <a href="#Introduction" accesskey="p" rel="prev">Introduction</a>, Up: <a href="#Top" accesskey="u" rel="up">GNU <code>gettext</code> utilities</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Program-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="The-User_0027s-View"></span><h2 class="chapter">2 The User&rsquo;s View</h2>

<p>Nowadays, when users log into a computer, they usually find that all
their programs show messages in their native language &ndash; at least for
users of languages with an active free software community, like French or
German; to a lesser extent for languages with a smaller participation in
free software and the GNU project, like Hindi and Filipino.
</p>
<p>How does this work?  How can the user influence the language that is used
by the programs?  This chapter will answer it.
</p>

<ul class="section-toc">
<li><a href="#System-Installation" accesskey="1">Operating System Installation</a></li>
<li><a href="#Setting-the-GUI-Locale" accesskey="2">Setting the Locale Used by GUI Programs</a></li>
<li><a href="#Setting-the-POSIX-Locale" accesskey="3">Setting the Locale through Environment Variables</a></li>
<li><a href="#Working-in-a-Windows-console" accesskey="4">Obtaining good output in a Windows console</a></li>
<li><a href="#Installing-Localizations" accesskey="5">Installing Translations for Particular Programs</a></li>
</ul>
<hr>
<div class="section" id="System-Installation">
<div class="header">
<p>
Next: <a href="#Setting-the-GUI-Locale" accesskey="n" rel="next">Setting the Locale Used by GUI Programs</a>, Up: <a href="#Users" accesskey="u" rel="up">The User&rsquo;s View</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Program-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Operating-System-Installation"></span><h3 class="section">2.1 Operating System Installation</h3>

<p>The default language is often already specified during operating system
installation.  When the operating system is installed, the installer
typically asks for the language used for the installation process and,
separately, for the language to use in the installed system.  Some OS
installers only ask for the language once.
</p>
<p>This determines the system-wide default language for all users.  But the
installers often give the possibility to install extra localizations for
additional languages.  For example, the localizations of KDE (the K
Desktop Environment) and LibreOffice are often bundled separately, as one
installable package per language.
</p>
<p>At this point it is good to consider the intended use of the machine: If
it is a machine designated for personal use, additional localizations are
probably not necessary.  If, however, the machine is in use in an
organization or company that has international relationships, one can
consider the needs of guest users.  If you have a guest from abroad, for
a week, what could be his preferred locales?  It may be worth installing
these additional localizations ahead of time, since they cost only a bit
of disk space at this point.
</p>
<p>The system-wide default language is the locale configuration that is used
when a new user account is created.  But the user can have his own locale
configuration that is different from the one of the other users of the
same machine.  He can specify it, typically after the first login, as
described in the next section.
</p>
<hr>
</div>
<div class="section" id="Setting-the-GUI-Locale">
<div class="header">
<p>
Next: <a href="#Setting-the-POSIX-Locale" accesskey="n" rel="next">Setting the Locale through Environment Variables</a>, Previous: <a href="#System-Installation" accesskey="p" rel="prev">Operating System Installation</a>, Up: <a href="#Users" accesskey="u" rel="up">The User&rsquo;s View</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Program-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Setting-the-Locale-Used-by-GUI-Programs"></span><h3 class="section">2.2 Setting the Locale Used by GUI Programs</h3>

<p>The immediately available programs in a user&rsquo;s desktop come from a group
of programs called a &ldquo;desktop environment&rdquo;; it usually includes the window
manager, a web browser, a text editor, and more.  The most common free
desktop environments are KDE, GNOME, and Xfce.
</p>
<p>The locale used by GUI programs of the desktop environment can be specified
in a configuration screen called &ldquo;control center&rdquo;, &ldquo;language settings&rdquo;
or &ldquo;country settings&rdquo;.
</p>
<p>Individual GUI programs that are not part of the desktop environment can
have their locale specified either in a settings panel, or through environment
variables.
</p>
<p>For some programs, it is possible to specify the locale through environment
variables, possibly even to a different locale than the desktop&rsquo;s locale.
This means, instead of starting a program through a menu or from the file
system, you can start it from the command-line, after having set some
environment variables.  The environment variables can be those specified
in the next section (<a href="#Setting-the-POSIX-Locale">Setting the Locale through Environment Variables</a>); for some versions of
KDE, however, the locale is specified through a variable <code>KDE_LANG</code>,
rather than <code>LANG</code> or <code>LC_ALL</code>.
</p>
<hr>
</div>
<div class="section" id="Setting-the-POSIX-Locale">
<div class="header">
<p>
Next: <a href="#Working-in-a-Windows-console" accesskey="n" rel="next">Obtaining good output in a Windows console</a>, Previous: <a href="#Setting-the-GUI-Locale" accesskey="p" rel="prev">Setting the Locale Used by GUI Programs</a>, Up: <a href="#Users" accesskey="u" rel="up">The User&rsquo;s View</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Program-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Setting-the-Locale-through-Environment-Variables"></span><h3 class="section">2.3 Setting the Locale through Environment Variables</h3>

<p>As a user, if your language has been installed for this package, in the
simplest case, you only have to set the <code>LANG</code> environment variable
to the appropriate &lsquo;<samp><var>ll</var>_<var>CC</var></samp>&rsquo; combination.  For example,
let&rsquo;s suppose that you speak German and live in Germany.  At the shell
prompt, merely execute 
&lsquo;<samp>setenv&nbsp;LANG&nbsp;<span class="nolinebreak">de_DE</span></samp>&rsquo;<!-- /@w --> (in <code>csh</code>),
&lsquo;<samp>export&nbsp;LANG;&nbsp;<span class="nolinebreak">LANG=de_DE</span></samp>&rsquo;<!-- /@w --> (in <code>sh</code>) or
&lsquo;<samp>export&nbsp;<span class="nolinebreak">LANG=de_DE</span></samp>&rsquo;<!-- /@w --> (in <code>bash</code>).  This can be done from your
<samp>.login</samp> or <samp>.profile</samp> file, once and for all.
</p>

<ul class="section-toc">
<li><a href="#Locale-Names" accesskey="1">Locale Names</a></li>
<li><a href="#Locale-Environment-Variables" accesskey="2">Locale Environment Variables</a></li>
<li><a href="#The-LANGUAGE-variable" accesskey="3">Specifying a Priority List of Languages</a></li>
</ul>
<hr>
<div class="subsection" id="Locale-Names">
<div class="header">
<p>
Next: <a href="#Locale-Environment-Variables" accesskey="n" rel="next">Locale Environment Variables</a>, Up: <a href="#Setting-the-POSIX-Locale" accesskey="u" rel="up">Setting the Locale through Environment Variables</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Program-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Locale-Names-1"></span><h4 class="subsection">2.3.1 Locale Names</h4>

<p>A locale name usually has the form &lsquo;<samp><var>ll</var>_<var>CC</var></samp>&rsquo;.  Here
&lsquo;<samp><var>ll</var></samp>&rsquo; is an ISO&nbsp;639<!-- /@w --> two-letter language code, and
&lsquo;<samp><var>CC</var></samp>&rsquo; is an ISO&nbsp;3166<!-- /@w --> two-letter country code.  For example,
for German in Germany, <var>ll</var> is <code>de</code>, and <var>CC</var> is <code>DE</code>.
You find a list of the language codes in appendix <a href="#Language-Codes">Language Codes</a> and
a list of the country codes in appendix <a href="#Country-Codes">Country Codes</a>.
</p>
<p>You might think that the country code specification is redundant.  But in
fact, some languages have dialects in different countries.  For example,
&lsquo;<samp>de_AT</samp>&rsquo; is used for Austria, and &lsquo;<samp>pt_BR</samp>&rsquo; for Brazil.  The country
code serves to distinguish the dialects.
</p>
<p>Many locale names have an extended syntax
&lsquo;<samp><var>ll</var>_<var>CC</var>.<var>encoding</var></samp>&rsquo; that also specifies the character
encoding.  These are in use because between 2000 and 2005, most users have
switched to locales in UTF-8 encoding.  For example, the German locale on
glibc systems is nowadays &lsquo;<samp>de_DE.UTF-8</samp>&rsquo;.  The older name &lsquo;<samp>de_DE</samp>&rsquo;
still refers to the German locale as of 2000 that stores characters in
ISO-8859-1 encoding &ndash; a text encoding that cannot even accommodate the Euro
currency sign.
</p>
<p>Some locale names use &lsquo;<samp><var>ll</var>_<var>CC</var>@<var>variant</var></samp>&rsquo; instead of
&lsquo;<samp><var>ll</var>_<var>CC</var></samp>&rsquo;.  The &lsquo;<samp>@<var>variant</var></samp>&rsquo; can denote any kind of
characteristics that is not already implied by the language <var>ll</var> and
the country <var>CC</var>.  It can denote a particular monetary unit.  For example,
on glibc systems, &lsquo;<samp>de_DE@euro</samp>&rsquo; denotes the locale that uses the Euro
currency, in contrast to the older locale &lsquo;<samp>de_DE</samp>&rsquo; which implies the use
of the currency before 2002.  It can also denote a dialect of the language,
or the script used to write text (for example, &lsquo;<samp>sr_RS@latin</samp>&rsquo; uses the
Latin script, whereas &lsquo;<samp>sr_RS</samp>&rsquo; uses the Cyrillic script to write Serbian),
or the orthography rules, or similar.
</p>
<p>On other systems, some variations of this scheme are used, such as
&lsquo;<samp><var>ll</var></samp>&rsquo;.  You can get the list of locales supported by your system
for your language by running the command &lsquo;<samp>locale -a | grep '^<var>ll</var>'</samp>&rsquo;.
</p>
<p>There is also a special locale, called &lsquo;<samp>C</samp>&rsquo;.
When it is used, it disables all localization: in this locale, all programs
standardized by POSIX use English messages and an unspecified character
encoding (often US-ASCII, but sometimes also ISO-8859-1 or UTF-8, depending on
the operating system).
</p>
<hr>
</div>
<div class="subsection" id="Locale-Environment-Variables">
<div class="header">
<p>
Next: <a href="#The-LANGUAGE-variable" accesskey="n" rel="next">Specifying a Priority List of Languages</a>, Previous: <a href="#Locale-Names" accesskey="p" rel="prev">Locale Names</a>, Up: <a href="#Setting-the-POSIX-Locale" accesskey="u" rel="up">Setting the Locale through Environment Variables</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Program-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Locale-Environment-Variables-1"></span><h4 class="subsection">2.3.2 Locale Environment Variables</h4>
<span id="index-setting-up-gettext-at-run-time"></span>
<span id="index-selecting-message-language"></span>
<span id="index-language-selection"></span>

<p>A locale is composed of several <em>locale categories</em>, see <a href="#Aspects">Aspects in Native Language Support</a>.
When a program looks up locale dependent values, it does this according to
the following environment variables, in priority order:
</p>
<ol>
<li> <span id="index-LANGUAGE_002c-environment-variable"></span>
<code>LANGUAGE</code>
</li><li> <span id="index-LC_005fALL_002c-environment-variable"></span>
<code>LC_ALL</code>
</li><li> <span id="index-LC_005fCTYPE_002c-environment-variable"></span>
<span id="index-LC_005fNUMERIC_002c-environment-variable"></span>
<span id="index-LC_005fTIME_002c-environment-variable"></span>
<span id="index-LC_005fCOLLATE_002c-environment-variable"></span>
<span id="index-LC_005fMONETARY_002c-environment-variable"></span>
<span id="index-LC_005fMESSAGES_002c-environment-variable"></span>
<code>LC_xxx</code>, according to selected locale category:
<code>LC_CTYPE</code>, <code>LC_NUMERIC</code>, <code>LC_TIME</code>, <code>LC_COLLATE</code>,
<code>LC_MONETARY</code>, <code>LC_MESSAGES</code>, ...
</li><li> <span id="index-LANG_002c-environment-variable"></span>
<code>LANG</code>
</li></ol>

<p>Variables whose value is set but is empty are ignored in this lookup.
</p>
<p><code>LANG</code> is the normal environment variable for specifying a locale.
As a user, you normally set this variable (unless some of the other variables
have already been set by the system, in <samp>/etc/profile</samp> or similar
initialization files).
</p>
<p><code>LC_CTYPE</code>, <code>LC_NUMERIC</code>, <code>LC_TIME</code>, <code>LC_COLLATE</code>,
<code>LC_MONETARY</code>, <code>LC_MESSAGES</code>, and so on, are the environment
variables meant to override <code>LANG</code> and affecting a single locale
category only.  For example, assume you are a Swedish user in Spain, and you
want your programs to handle numbers and dates according to Spanish
conventions, and only the messages should be in Swedish.  Then you could
create a locale named &lsquo;<samp>sv_ES</samp>&rsquo; or &lsquo;<samp>sv_ES.UTF-8</samp>&rsquo; by use of the
<code>localedef</code> program.  But it is simpler, and achieves the same effect,
to set the <code>LANG</code> variable to <code>es_ES.UTF-8</code> and the
<code>LC_MESSAGES</code> variable to <code>sv_SE.UTF-8</code>; these two locales come
already preinstalled with the operating system.
</p>
<p><code>LC_ALL</code> is an environment variable that overrides all of these.
It is typically used in scripts that run particular programs.  For example,
<code>configure</code> scripts generated by GNU autoconf use <code>LC_ALL</code> to make
sure that the configuration tests don&rsquo;t operate in locale dependent ways.
</p>
<p>Some systems, unfortunately, set <code>LC_ALL</code> in <samp>/etc/profile</samp> or in
similar initialization files.  As a user, you therefore have to unset this
variable if you want to set <code>LANG</code> and optionally some of the other
<code>LC_xxx</code> variables.
</p>
<p>The <code>LANGUAGE</code> variable is described in the next subsection.
</p>
<hr>
</div>
<div class="subsection" id="The-LANGUAGE-variable">
<div class="header">
<p>
Previous: <a href="#Locale-Environment-Variables" accesskey="p" rel="prev">Locale Environment Variables</a>, Up: <a href="#Setting-the-POSIX-Locale" accesskey="u" rel="up">Setting the Locale through Environment Variables</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Program-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Specifying-a-Priority-List-of-Languages"></span><h4 class="subsection">2.3.3 Specifying a Priority List of Languages</h4>

<p>Not all programs have translations for all languages.  By default, an
English message is shown in place of a nonexistent translation.  If you
understand other languages, you can set up a priority list of languages.
This is done through a different environment variable, called
<code>LANGUAGE</code>.  GNU <code>gettext</code> gives preference to <code>LANGUAGE</code>
over <code>LC_ALL</code> and <code>LANG</code> for the purpose of message handling,
but you still need to have <code>LANG</code> (or <code>LC_ALL</code>) set to the primary
language; this is required by other parts of the system libraries.
For example, some Swedish users who would rather read translations in
German than English for when Swedish is not available, set <code>LANGUAGE</code>
to &lsquo;<samp>sv:de</samp>&rsquo; while leaving <code>LANG</code> to &lsquo;<samp>sv_SE</samp>&rsquo;.
</p>
<p>Special advice for Norwegian users: The language code for Norwegian
bokm&aring;l changed from &lsquo;<samp>no</samp>&rsquo; to &lsquo;<samp>nb</samp>&rsquo; recently (in 2003).
During the transition period, while some message catalogs for this language
are installed under &lsquo;<samp>nb</samp>&rsquo; and some older ones under &lsquo;<samp>no</samp>&rsquo;, it is
recommended for Norwegian users to set <code>LANGUAGE</code> to &lsquo;<samp>nb:no</samp>&rsquo; so that
both newer and older translations are used.
</p>
<p>In the <code>LANGUAGE</code> environment variable, but not in the other
environment variables, &lsquo;<samp><var>ll</var>_<var>CC</var></samp>&rsquo; combinations can be
abbreviated as &lsquo;<samp><var>ll</var></samp>&rsquo; to denote the language&rsquo;s main dialect.
For example, &lsquo;<samp>de</samp>&rsquo; is equivalent to &lsquo;<samp>de_DE</samp>&rsquo; (German as spoken in
Germany), and &lsquo;<samp>pt</samp>&rsquo; to &lsquo;<samp>pt_PT</samp>&rsquo; (Portuguese as spoken in Portugal)
in this context.
</p>
<p>Note: The variable <code>LANGUAGE</code> is ignored if the locale is set to
&lsquo;<samp>C</samp>&rsquo;.  In other words, you have to first enable localization, by setting
<code>LANG</code> (or <code>LC_ALL</code>) to a value other than &lsquo;<samp>C</samp>&rsquo;, before you can
use a language priority list through the <code>LANGUAGE</code> variable.
</p>
<hr>
</div>
</div>
<div class="section" id="Working-in-a-Windows-console">
<div class="header">
<p>
Next: <a href="#Installing-Localizations" accesskey="n" rel="next">Installing Translations for Particular Programs</a>, Previous: <a href="#Setting-the-POSIX-Locale" accesskey="p" rel="prev">Setting the Locale through Environment Variables</a>, Up: <a href="#Users" accesskey="u" rel="up">The User&rsquo;s View</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Program-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Obtaining-good-output-in-a-Windows-console"></span><h3 class="section">2.4 Obtaining good output in a Windows console</h3>
<span id="index-Windows"></span>
<span id="index-ANSI-encoding"></span>
<span id="index-OEM-encoding"></span>
<span id="index-OUTPUT_005fCHARSET_002c-environment-variable"></span>

<p>On Windows, consoles such as the one started by the <code>cmd.exe</code>
program do input and output in an encoding, called &ldquo;OEM code page&rdquo;,
that is different from the encoding that text-mode programs usually use,
called &ldquo;ANSI code page&rdquo;.  (Note: This problem does not exist for
Cygwin consoles; these consoles do input and output in the UTF-8
encoding.)  As a workaround, you may request that the programs produce
output in this &ldquo;OEM&rdquo; encoding.  To do so, set the environment variable
<code>OUTPUT_CHARSET</code> to the &ldquo;OEM&rdquo; encoding, through a command such as
</p><div class="example">
<pre class="example">set OUTPUT_CHARSET=CP850
</pre></div>
<p>Note: This has an effect only on strings looked up in message catalogs;
other categories of text are usually not affected by this setting.
Note also that this environment variable also affects output sent to a
file or to a pipe; output to a file is most often expected to be in the
&ldquo;ANSI&rdquo; or in the UTF-8 encoding.
</p>
<p>Here are examples of the &ldquo;ANSI&rdquo; and &ldquo;OEM&rdquo; code pages:
</p>
<table>
<thead><tr><th width="50%">Territories &nbsp;</th><th width="25%">&nbsp; ANSI encoding &nbsp;</th><th width="25%">&nbsp; OEM encoding</th></tr></thead>
<tr><td width="50%">Western Europe &nbsp;</td><td width="25%">&nbsp; CP1252 &nbsp;</td><td width="25%">&nbsp; CP850</td></tr>
<tr><td width="50%">Slavic countries (Latin 2) &nbsp;</td><td width="25%">&nbsp; CP1250 &nbsp;</td><td width="25%">&nbsp; CP852</td></tr>
<tr><td width="50%">Baltic countries &nbsp;</td><td width="25%">&nbsp; CP1257 &nbsp;</td><td width="25%">&nbsp; CP775</td></tr>
<tr><td width="50%">Russia &nbsp;</td><td width="25%">&nbsp; CP1251 &nbsp;</td><td width="25%">&nbsp; CP866</td></tr>
</table>

<hr>
</div>
<div class="section" id="Installing-Localizations">
<div class="header">
<p>
Previous: <a href="#Working-in-a-Windows-console" accesskey="p" rel="prev">Obtaining good output in a Windows console</a>, Up: <a href="#Users" accesskey="u" rel="up">The User&rsquo;s View</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Program-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Installing-Translations-for-Particular-Programs"></span><h3 class="section">2.5 Installing Translations for Particular Programs</h3>
<span id="index-Translation-Matrix"></span>
<span id="index-available-translations"></span>

<p>Languages are not equally well supported in all packages using GNU
<code>gettext</code>, and more translations are added over time.  Usually, you
use the translations that are shipped with the operating system
or with particular packages that you install afterwards.  But you can also
install newer localizations directly.  For doing this, you will need an
understanding where each localization file is stored on the file system.
</p>
<span id="index-ABOUT_002dNLS-file"></span>
<p>For programs that participate in the Translation Project, you can start
looking for translations here:
<a href="https://translationproject.org/team/index.html">https://translationproject.org/team/index.html</a>.
</p>
<p>For programs that are part of the KDE project, the starting point is:
<a href="https://l10n.kde.org/">https://l10n.kde.org/</a>.
</p>
<p>For programs that are part of the GNOME project, the starting point is:
<a href="https://wiki.gnome.org/TranslationProject">https://wiki.gnome.org/TranslationProject</a>.
</p>
<p>For other programs, you may check whether the program&rsquo;s source code package
contains some <samp><var>ll</var>.po</samp> files; often they are kept together in a
directory called <samp>po/</samp>.  Each <samp><var>ll</var>.po</samp> file contains the
message translations for the language whose abbreviation of <var>ll</var>.
</p>
<hr>
</div>
</div>
<div class="chapter" id="PO-Files">
<div class="header">
<p>
Next: <a href="#Sources" accesskey="n" rel="next">Preparing Program Sources</a>, Previous: <a href="#Users" accesskey="p" rel="prev">The User&rsquo;s View</a>, Up: <a href="#Top" accesskey="u" rel="up">GNU <code>gettext</code> utilities</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Program-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="The-Format-of-PO-Files"></span><h2 class="chapter">3 The Format of PO Files</h2>
<span id="index-PO-files_0027-format"></span>
<span id="index-file-format_002c-_002epo"></span>

<p>The GNU <code>gettext</code> toolset helps programmers and translators
at producing, updating and using translation files, mainly those
PO files which are textual, editable files.  This chapter explains
the format of PO files.
</p>
<p>A PO file is made up of many entries, each entry holding the relation
between an original untranslated string and its corresponding
translation.  All entries in a given PO file usually pertain
to a single project, and all translations are expressed in a single
target language.  One PO file <em>entry</em> has the following schematic
structure:
</p>
<div class="example">
<pre class="example"><var>white-space</var>
#  <var>translator-comments</var>
#. <var>extracted-comments</var>
#: <var>reference</var>&hellip;
#, <var>flag</var>&hellip;
#| msgid <var>previous-untranslated-string</var>
msgid <var>untranslated-string</var>
msgstr <var>translated-string</var>
</pre></div>

<p>The general structure of a PO file should be well understood by
the translator.  When using PO mode, very little has to be known
about the format details, as PO mode takes care of them for her.
</p>
<p>A simple entry can look like this:
</p>
<div class="example">
<pre class="example">#: lib/error.c:116
msgid &quot;Unknown system error&quot;
msgstr &quot;Error desconegut del sistema&quot;
</pre></div>

<span id="index-comments_002c-translator"></span>
<span id="index-comments_002c-automatic"></span>
<span id="index-comments_002c-extracted"></span>
<p>Entries begin with some optional white space.  Usually, when generated
through GNU <code>gettext</code> tools, there is exactly one blank line
between entries.  Then comments follow, on lines all starting with the
character <code>#</code>.  There are two kinds of comments: those which have
some white space immediately following the <code>#</code> - the <var>translator
comments</var> -, which comments are created and maintained exclusively by the
translator, and those which have some non-white character just after the
<code>#</code> - the <var>automatic comments</var> -, which comments are created and
maintained automatically by GNU <code>gettext</code> tools.  Comment lines
starting with <code>#.</code> contain comments given by the programmer, directed
at the translator; these comments are called <var>extracted comments</var>
because the <code>xgettext</code> program extracts them from the program&rsquo;s
source code.  Comment lines starting with <code>#:</code> contain references to
the program&rsquo;s source code.  Comment lines starting with <code>#,</code> contain
flags; more about these below.  Comment lines starting with <code>#|</code>
contain the previous untranslated string for which the translator gave
a translation.
</p>
<p>All comments, of either kind, are optional.
</p>
<span id="index-msgid"></span>
<span id="index-msgstr"></span>
<p>After white space and comments, entries show two strings, namely
first the untranslated string as it appears in the original program
sources, and then, the translation of this string.  The original
string is introduced by the keyword <code>msgid</code>, and the translation,
by <code>msgstr</code>.  The two strings, untranslated and translated,
are quoted in various ways in the PO file, using <code>&quot;</code>
delimiters and <code>\</code> escapes, but the translator does not really
have to pay attention to the precise quoting format, as PO mode fully
takes care of quoting for her.
</p>
<p>The <code>msgid</code> strings, as well as automatic comments, are produced
and managed by other GNU <code>gettext</code> tools, and PO mode does not
provide means for the translator to alter these.  The most she can
do is merely deleting them, and only by deleting the whole entry.
On the other hand, the <code>msgstr</code> string, as well as translator
comments, are really meant for the translator, and PO mode gives her
the full control she needs.
</p>
<p>The comment lines beginning with <code>#,</code> are special because they are
not completely ignored by the programs as comments generally are.  The
comma separated list of <var>flag</var>s is used by the <code>msgfmt</code>
program to give the user some better diagnostic messages.  Currently
there are two forms of flags defined:
</p>
<dl compact="compact">
<dt id='index-fuzzy-flag'><span><code>fuzzy</code><a href='#index-fuzzy-flag' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>This flag can be generated by the <code>msgmerge</code> program or it can be
inserted by the translator herself.  It shows that the <code>msgstr</code>
string might not be a correct translation (anymore).  Only the translator
can judge if the translation requires further modification, or is
acceptable as is.  Once satisfied with the translation, she then removes
this <code>fuzzy</code> attribute.  The <code>msgmerge</code> program inserts this
when it combined the <code>msgid</code> and <code>msgstr</code> entries after fuzzy
search only.  See <a href="#Fuzzy-Entries">Fuzzy Entries</a>.
</p>
</dd>
<dt id='index-no_002dc_002dformat-flag'><span><code>c-format</code><a href='#index-no_002dc_002dformat-flag' class='copiable-anchor'> &para;</a></span></dt>
<dd><span id="index-c_002dformat-flag"></span>
</dd>
<dt><span><code>no-c-format</code></span></dt>
<dd><p>These flags should not be added by a human.  Instead only the
<code>xgettext</code> program adds them.  In an automated PO file processing
system as proposed here, the user&rsquo;s changes would be thrown away again as
soon as the <code>xgettext</code> program generates a new template file.
</p>
<p>The <code>c-format</code> flag indicates that the untranslated string and the
translation are supposed to be C format strings.  The <code>no-c-format</code>
flag indicates that they are not C format strings, even though the untranslated
string happens to look like a C format string (with &lsquo;<samp>%</samp>&rsquo; directives).
</p>
<p>When the <code>c-format</code> flag is given for a string the <code>msgfmt</code>
program does some more tests to check the validity of the translation.
See <a href="#msgfmt-Invocation">Invoking the <code>msgfmt</code> Program</a>, <a href="#c_002dformat-Flag">Special Comments preceding Keywords</a> and <a href="#c_002dformat">C Format Strings</a>.
</p>
</dd>
<dt id='index-no_002dobjc_002dformat-flag'><span><code>objc-format</code><a href='#index-no_002dobjc_002dformat-flag' class='copiable-anchor'> &para;</a></span></dt>
<dd><span id="index-objc_002dformat-flag"></span>
</dd>
<dt><span><code>no-objc-format</code></span></dt>
<dd><p>Likewise for Objective C, see <a href="#objc_002dformat">Objective C Format Strings</a>.
</p>
</dd>
<dt id='index-no_002dpython_002dformat-flag'><span><code>python-format</code><a href='#index-no_002dpython_002dformat-flag' class='copiable-anchor'> &para;</a></span></dt>
<dd><span id="index-python_002dformat-flag"></span>
</dd>
<dt><span><code>no-python-format</code></span></dt>
<dd><p>Likewise for Python, see <a href="#python_002dformat">Python Format Strings</a>.
</p>
</dd>
<dt id='index-no_002dpython_002dbrace_002dformat-flag'><span><code>python-brace-format</code><a href='#index-no_002dpython_002dbrace_002dformat-flag' class='copiable-anchor'> &para;</a></span></dt>
<dd><span id="index-python_002dbrace_002dformat-flag"></span>
</dd>
<dt><span><code>no-python-brace-format</code></span></dt>
<dd><p>Likewise for Python brace, see <a href="#python_002dformat">Python Format Strings</a>.
</p>
</dd>
<dt id='index-no_002djava_002dformat-flag'><span><code>java-format</code><a href='#index-no_002djava_002dformat-flag' class='copiable-anchor'> &para;</a></span></dt>
<dd><span id="index-java_002dformat-flag"></span>
</dd>
<dt><span><code>no-java-format</code></span></dt>
<dd><p>Likewise for Java <code>MessageFormat</code> format strings, see <a href="#java_002dformat">Java Format Strings</a>.
</p>
</dd>
<dt id='index-no_002djava_002dprintf_002dformat-flag'><span><code>java-printf-format</code><a href='#index-no_002djava_002dprintf_002dformat-flag' class='copiable-anchor'> &para;</a></span></dt>
<dd><span id="index-java_002dprintf_002dformat-flag"></span>
</dd>
<dt><span><code>no-java-printf-format</code></span></dt>
<dd><p>Likewise for Java <code>printf</code> format strings, see <a href="#java_002dformat">Java Format Strings</a>.
</p>
</dd>
<dt id='index-no_002dcsharp_002dformat-flag'><span><code>csharp-format</code><a href='#index-no_002dcsharp_002dformat-flag' class='copiable-anchor'> &para;</a></span></dt>
<dd><span id="index-csharp_002dformat-flag"></span>
</dd>
<dt><span><code>no-csharp-format</code></span></dt>
<dd><p>Likewise for C#, see <a href="#csharp_002dformat">C# Format Strings</a>.
</p>
</dd>
<dt id='index-no_002djavascript_002dformat-flag'><span><code>javascript-format</code><a href='#index-no_002djavascript_002dformat-flag' class='copiable-anchor'> &para;</a></span></dt>
<dd><span id="index-javascript_002dformat-flag"></span>
</dd>
<dt><span><code>no-javascript-format</code></span></dt>
<dd><p>Likewise for JavaScript, see <a href="#javascript_002dformat">JavaScript Format Strings</a>.
</p>
</dd>
<dt id='index-no_002dscheme_002dformat-flag'><span><code>scheme-format</code><a href='#index-no_002dscheme_002dformat-flag' class='copiable-anchor'> &para;</a></span></dt>
<dd><span id="index-scheme_002dformat-flag"></span>
</dd>
<dt><span><code>no-scheme-format</code></span></dt>
<dd><p>Likewise for Scheme, see <a href="#scheme_002dformat">Scheme Format Strings</a>.
</p>
</dd>
<dt id='index-no_002dlisp_002dformat-flag'><span><code>lisp-format</code><a href='#index-no_002dlisp_002dformat-flag' class='copiable-anchor'> &para;</a></span></dt>
<dd><span id="index-lisp_002dformat-flag"></span>
</dd>
<dt><span><code>no-lisp-format</code></span></dt>
<dd><p>Likewise for Lisp, see <a href="#lisp_002dformat">Lisp Format Strings</a>.
</p>
</dd>
<dt id='index-no_002delisp_002dformat-flag'><span><code>elisp-format</code><a href='#index-no_002delisp_002dformat-flag' class='copiable-anchor'> &para;</a></span></dt>
<dd><span id="index-elisp_002dformat-flag"></span>
</dd>
<dt><span><code>no-elisp-format</code></span></dt>
<dd><p>Likewise for Emacs Lisp, see <a href="#elisp_002dformat">Emacs Lisp Format Strings</a>.
</p>
</dd>
<dt id='index-no_002dlibrep_002dformat-flag'><span><code>librep-format</code><a href='#index-no_002dlibrep_002dformat-flag' class='copiable-anchor'> &para;</a></span></dt>
<dd><span id="index-librep_002dformat-flag"></span>
</dd>
<dt><span><code>no-librep-format</code></span></dt>
<dd><p>Likewise for librep, see <a href="#librep_002dformat">librep Format Strings</a>.
</p>
</dd>
<dt id='index-no_002druby_002dformat-flag'><span><code>ruby-format</code><a href='#index-no_002druby_002dformat-flag' class='copiable-anchor'> &para;</a></span></dt>
<dd><span id="index-ruby_002dformat-flag"></span>
</dd>
<dt><span><code>no-ruby-format</code></span></dt>
<dd><p>Likewise for Ruby, see <a href="#ruby_002dformat">Ruby Format Strings</a>.
</p>
</dd>
<dt id='index-no_002dsh_002dformat-flag'><span><code>sh-format</code><a href='#index-no_002dsh_002dformat-flag' class='copiable-anchor'> &para;</a></span></dt>
<dd><span id="index-sh_002dformat-flag"></span>
</dd>
<dt><span><code>no-sh-format</code></span></dt>
<dd><p>Likewise for Shell, see <a href="#sh_002dformat">Shell Format Strings</a>.
</p>
</dd>
<dt id='index-no_002dawk_002dformat-flag'><span><code>awk-format</code><a href='#index-no_002dawk_002dformat-flag' class='copiable-anchor'> &para;</a></span></dt>
<dd><span id="index-awk_002dformat-flag"></span>
</dd>
<dt><span><code>no-awk-format</code></span></dt>
<dd><p>Likewise for awk, see <a href="#awk_002dformat">awk Format Strings</a>.
</p>
</dd>
<dt id='index-no_002dlua_002dformat-flag'><span><code>lua-format</code><a href='#index-no_002dlua_002dformat-flag' class='copiable-anchor'> &para;</a></span></dt>
<dd><span id="index-lua_002dformat-flag"></span>
</dd>
<dt><span><code>no-lua-format</code></span></dt>
<dd><p>Likewise for Lua, see <a href="#lua_002dformat">Lua Format Strings</a>.
</p>
</dd>
<dt id='index-no_002dobject_002dpascal_002dformat-flag'><span><code>object-pascal-format</code><a href='#index-no_002dobject_002dpascal_002dformat-flag' class='copiable-anchor'> &para;</a></span></dt>
<dd><span id="index-object_002dpascal_002dformat-flag"></span>
</dd>
<dt><span><code>no-object-pascal-format</code></span></dt>
<dd><p>Likewise for Object Pascal, see <a href="#object_002dpascal_002dformat">Object Pascal Format Strings</a>.
</p>
</dd>
<dt id='index-no_002dsmalltalk_002dformat-flag'><span><code>smalltalk-format</code><a href='#index-no_002dsmalltalk_002dformat-flag' class='copiable-anchor'> &para;</a></span></dt>
<dd><span id="index-smalltalk_002dformat-flag"></span>
</dd>
<dt><span><code>no-smalltalk-format</code></span></dt>
<dd><p>Likewise for Smalltalk, see <a href="#smalltalk_002dformat">Smalltalk Format Strings</a>.
</p>
</dd>
<dt id='index-no_002dqt_002dformat-flag'><span><code>qt-format</code><a href='#index-no_002dqt_002dformat-flag' class='copiable-anchor'> &para;</a></span></dt>
<dd><span id="index-qt_002dformat-flag"></span>
</dd>
<dt><span><code>no-qt-format</code></span></dt>
<dd><p>Likewise for Qt, see <a href="#qt_002dformat">Qt Format Strings</a>.
</p>
</dd>
<dt id='index-no_002dqt_002dplural_002dformat-flag'><span><code>qt-plural-format</code><a href='#index-no_002dqt_002dplural_002dformat-flag' class='copiable-anchor'> &para;</a></span></dt>
<dd><span id="index-qt_002dplural_002dformat-flag"></span>
</dd>
<dt><span><code>no-qt-plural-format</code></span></dt>
<dd><p>Likewise for Qt plural forms, see <a href="#qt_002dplural_002dformat">Qt Format Strings</a>.
</p>
</dd>
<dt id='index-no_002dkde_002dformat-flag'><span><code>kde-format</code><a href='#index-no_002dkde_002dformat-flag' class='copiable-anchor'> &para;</a></span></dt>
<dd><span id="index-kde_002dformat-flag"></span>
</dd>
<dt><span><code>no-kde-format</code></span></dt>
<dd><p>Likewise for KDE, see <a href="#kde_002dformat">KDE Format Strings</a>.
</p>
</dd>
<dt id='index-no_002dboost_002dformat-flag'><span><code>boost-format</code><a href='#index-no_002dboost_002dformat-flag' class='copiable-anchor'> &para;</a></span></dt>
<dd><span id="index-boost_002dformat-flag"></span>
</dd>
<dt><span><code>no-boost-format</code></span></dt>
<dd><p>Likewise for Boost, see <a href="#boost_002dformat">Boost Format Strings</a>.
</p>
</dd>
<dt id='index-no_002dtcl_002dformat-flag'><span><code>tcl-format</code><a href='#index-no_002dtcl_002dformat-flag' class='copiable-anchor'> &para;</a></span></dt>
<dd><span id="index-tcl_002dformat-flag"></span>
</dd>
<dt><span><code>no-tcl-format</code></span></dt>
<dd><p>Likewise for Tcl, see <a href="#tcl_002dformat">Tcl Format Strings</a>.
</p>
</dd>
<dt id='index-no_002dperl_002dformat-flag'><span><code>perl-format</code><a href='#index-no_002dperl_002dformat-flag' class='copiable-anchor'> &para;</a></span></dt>
<dd><span id="index-perl_002dformat-flag"></span>
</dd>
<dt><span><code>no-perl-format</code></span></dt>
<dd><p>Likewise for Perl, see <a href="#perl_002dformat">Perl Format Strings</a>.
</p>
</dd>
<dt id='index-no_002dperl_002dbrace_002dformat-flag'><span><code>perl-brace-format</code><a href='#index-no_002dperl_002dbrace_002dformat-flag' class='copiable-anchor'> &para;</a></span></dt>
<dd><span id="index-perl_002dbrace_002dformat-flag"></span>
</dd>
<dt><span><code>no-perl-brace-format</code></span></dt>
<dd><p>Likewise for Perl brace, see <a href="#perl_002dformat">Perl Format Strings</a>.
</p>
</dd>
<dt id='index-no_002dphp_002dformat-flag'><span><code>php-format</code><a href='#index-no_002dphp_002dformat-flag' class='copiable-anchor'> &para;</a></span></dt>
<dd><span id="index-php_002dformat-flag"></span>
</dd>
<dt><span><code>no-php-format</code></span></dt>
<dd><p>Likewise for PHP, see <a href="#php_002dformat">PHP Format Strings</a>.
</p>
</dd>
<dt id='index-no_002dgcc_002dinternal_002dformat-flag'><span><code>gcc-internal-format</code><a href='#index-no_002dgcc_002dinternal_002dformat-flag' class='copiable-anchor'> &para;</a></span></dt>
<dd><span id="index-gcc_002dinternal_002dformat-flag"></span>
</dd>
<dt><span><code>no-gcc-internal-format</code></span></dt>
<dd><p>Likewise for the GCC sources, see <a href="#gcc_002dinternal_002dformat">GCC internal Format Strings</a>.
</p>
</dd>
<dt id='index-no_002dgfc_002dinternal_002dformat-flag'><span><code>gfc-internal-format</code><a href='#index-no_002dgfc_002dinternal_002dformat-flag' class='copiable-anchor'> &para;</a></span></dt>
<dd><span id="index-gfc_002dinternal_002dformat-flag"></span>
</dd>
<dt><span><code>no-gfc-internal-format</code></span></dt>
<dd><p>Likewise for the GNU Fortran Compiler sources, see <a href="#gfc_002dinternal_002dformat">GFC internal Format Strings</a>.
</p>
</dd>
<dt id='index-no_002dycp_002dformat-flag'><span><code>ycp-format</code><a href='#index-no_002dycp_002dformat-flag' class='copiable-anchor'> &para;</a></span></dt>
<dd><span id="index-ycp_002dformat-flag"></span>
</dd>
<dt><span><code>no-ycp-format</code></span></dt>
<dd><p>Likewise for YCP, see <a href="#ycp_002dformat">YCP Format Strings</a>.
</p>
</dd>
</dl>

<span id="index-msgctxt"></span>
<span id="index-context_002c-in-PO-files"></span>
<p>It is also possible to have entries with a context specifier. They look like
this:
</p>
<div class="example">
<pre class="example"><var>white-space</var>
#  <var>translator-comments</var>
#. <var>extracted-comments</var>
#: <var>reference</var>&hellip;
#, <var>flag</var>&hellip;
#| msgctxt <var>previous-context</var>
#| msgid <var>previous-untranslated-string</var>
msgctxt <var>context</var>
msgid <var>untranslated-string</var>
msgstr <var>translated-string</var>
</pre></div>

<p>The context serves to disambiguate messages with the same
<var>untranslated-string</var>.  It is possible to have several entries with
the same <var>untranslated-string</var> in a PO file, provided that they each
have a different <var>context</var>.  Note that an empty <var>context</var> string
and an absent <code>msgctxt</code> line do not mean the same thing.
</p>
<span id="index-msgid_005fplural"></span>
<span id="index-plural-forms_002c-in-PO-files"></span>
<p>A different kind of entries is used for translations which involve
plural forms.
</p>
<div class="example">
<pre class="example"><var>white-space</var>
#  <var>translator-comments</var>
#. <var>extracted-comments</var>
#: <var>reference</var>&hellip;
#, <var>flag</var>&hellip;
#| msgid <var>previous-untranslated-string-singular</var>
#| msgid_plural <var>previous-untranslated-string-plural</var>
msgid <var>untranslated-string-singular</var>
msgid_plural <var>untranslated-string-plural</var>
msgstr[0] <var>translated-string-case-0</var>
...
msgstr[N] <var>translated-string-case-n</var>
</pre></div>

<p>Such an entry can look like this:
</p>
<div class="example">
<pre class="example">#: src/msgcmp.c:338 src/po-lex.c:699
#, c-format
msgid &quot;found %d fatal error&quot;
msgid_plural &quot;found %d fatal errors&quot;
msgstr[0] &quot;s'ha trobat %d error fatal&quot;
msgstr[1] &quot;s'han trobat %d errors fatals&quot;
</pre></div>

<p>Here also, a <code>msgctxt</code> context can be specified before <code>msgid</code>,
like above.
</p>
<p>Here, additional kinds of flags can be used:
</p>
<dl compact="compact">
<dt id='index-range_003a-flag'><span><code>range:</code><a href='#index-range_003a-flag' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>This flag is followed by a range of non-negative numbers, using the syntax
<code>range: <var>minimum-value</var>..<var>maximum-value</var></code>.  It designates the
possible values that the numeric parameter of the message can take.  In some
languages, translators may produce slightly better translations if they know
that the value can only take on values between 0 and 10, for example.
</p></dd>
</dl>

<p>The <var>previous-untranslated-string</var> is optionally inserted by the
<code>msgmerge</code> program, at the same time when it marks a message fuzzy.
It helps the translator to see which changes were done by the developers
on the <var>untranslated-string</var>.
</p>
<p>It happens that some lines, usually whitespace or comments, follow the
very last entry of a PO file.  Such lines are not part of any entry,
and will be dropped when the PO file is processed by the tools, or may
disturb some PO file editors.
</p>
<p>The remainder of this section may be safely skipped by those using
a PO file editor, yet it may be interesting for everybody to have a better
idea of the precise format of a PO file.  On the other hand, those
wishing to modify PO files by hand should carefully continue reading on.
</p>
<p>An empty <var>untranslated-string</var> is reserved to contain the header
entry with the meta information (see <a href="#Header-Entry">Filling in the Header Entry</a>).  This header
entry should be the first entry of the file.  The empty
<var>untranslated-string</var> is reserved for this purpose and must
not be used anywhere else.
</p>
<p>Each of <var>untranslated-string</var> and <var>translated-string</var> respects
the C syntax for a character string, including the surrounding quotes
and embedded backslashed escape sequences, except that universal character
escape sequences (<code>\u</code> and <code>\U</code>) are not allowed.  When the time
comes to write multi-line strings, one should not use escaped newlines.
Instead, a closing quote should follow the last character on the
line to be continued, and an opening quote should resume the string
at the beginning of the following PO file line.  For example:
</p>
<div class="example">
<pre class="example">msgid &quot;&quot;
&quot;Here is an example of how one might continue a very long string\n&quot;
&quot;for the common case the string represents multi-line output.\n&quot;
</pre></div>

<p>In this example, the empty string is used on the first line, to
allow better alignment of the <code>H</code> from the word &lsquo;<samp>Here</samp>&rsquo;
over the <code>f</code> from the word &lsquo;<samp>for</samp>&rsquo;.  In this example, the
<code>msgid</code> keyword is followed by three strings, which are meant
to be concatenated.  Concatenating the empty string does not change
the resulting overall string, but it is a way for us to comply with
the necessity of <code>msgid</code> to be followed by a string on the same
line, while keeping the multi-line presentation left-justified, as
we find this to be a cleaner disposition.  The empty string could have
been omitted, but only if the string starting with &lsquo;<samp>Here</samp>&rsquo; was
promoted on the first line, right after <code>msgid</code>.<a id="DOCF2" href="#FOOT2"><sup>2</sup></a> It was not really necessary
either to switch between the two last quoted strings immediately after
the newline &lsquo;<samp>\n</samp>&rsquo;, the switch could have occurred after <em>any</em>
other character, we just did it this way because it is neater.
</p>
<span id="index-newlines-in-PO-files"></span>
<p>One should carefully distinguish between end of lines marked as
&lsquo;<samp>\n</samp>&rsquo; <em>inside</em> quotes, which are part of the represented
string, and end of lines in the PO file itself, outside string quotes,
which have no incidence on the represented string.
</p>
<span id="index-comments-in-PO-files"></span>
<p>Outside strings, white lines and comments may be used freely.
Comments start at the beginning of a line with &lsquo;<samp>#</samp>&rsquo; and extend
until the end of the PO file line.  Comments written by translators
should have the initial &lsquo;<samp>#</samp>&rsquo; immediately followed by some white
space.  If the &lsquo;<samp>#</samp>&rsquo; is not immediately followed by white space,
this comment is most likely generated and managed by specialized GNU
tools, and might disappear or be replaced unexpectedly when the PO
file is given to <code>msgmerge</code>.
</p>
<p>For a PO file to be valid, no two entries without <code>msgctxt</code> may have
the same <var>untranslated-string</var> or <var>untranslated-string-singular</var>.
Similarly, no two entries may have the same <code>msgctxt</code> and the same
<var>untranslated-string</var> or <var>untranslated-string-singular</var>.
</p>
<hr>
</div>
<div class="chapter" id="Sources">
<div class="header">
<p>
Next: <a href="#Template" accesskey="n" rel="next">Making the PO Template File</a>, Previous: <a href="#PO-Files" accesskey="p" rel="prev">The Format of PO Files</a>, Up: <a href="#Top" accesskey="u" rel="up">GNU <code>gettext</code> utilities</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Program-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Preparing-Program-Sources"></span><h2 class="chapter">4 Preparing Program Sources</h2>
<span id="index-preparing-programs-for-translation"></span>


<p>For the programmer, changes to the C source code fall into three
categories.  First, you have to make the localization functions
known to all modules needing message translation.  Second, you should
properly trigger the operation of GNU <code>gettext</code> when the program
initializes, usually from the <code>main</code> function.  Last, you should
identify, adjust and mark all constant strings in your program
needing translation.
</p>

<ul class="section-toc">
<li><a href="#Importing" accesskey="1">Importing the <code>gettext</code> declaration</a></li>
<li><a href="#Triggering" accesskey="2">Triggering <code>gettext</code> Operations</a></li>
<li><a href="#Preparing-Strings" accesskey="3">Preparing Translatable Strings</a></li>
<li><a href="#Mark-Keywords" accesskey="4">How Marks Appear in Sources</a></li>
<li><a href="#Marking" accesskey="5">Marking Translatable Strings</a></li>
<li><a href="#c_002dformat-Flag" accesskey="6">Special Comments preceding Keywords</a></li>
<li><a href="#Special-cases" accesskey="7">Special Cases of Translatable Strings</a></li>
<li><a href="#Bug-Report-Address" accesskey="8">Letting Users Report Translation Bugs</a></li>
<li><a href="#Names" accesskey="9">Marking Proper Names for Translation</a></li>
<li><a href="#Libraries">Preparing Library Sources</a></li>
</ul>
<hr>
<div class="section" id="Importing">
<div class="header">
<p>
Next: <a href="#Triggering" accesskey="n" rel="next">Triggering <code>gettext</code> Operations</a>, Up: <a href="#Sources" accesskey="u" rel="up">Preparing Program Sources</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Program-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Importing-the-gettext-declaration"></span><h3 class="section">4.1 Importing the <code>gettext</code> declaration</h3>

<p>Presuming that your set of programs, or package, has been adjusted
so all needed GNU <code>gettext</code> files are available, and your
<samp>Makefile</samp> files are adjusted (see <a href="#Maintainers">The Maintainer&rsquo;s View</a>), each C module
having translated C strings should contain the line:
</p>
<span id="index-include-file-libintl_002eh-1"></span>
<div class="example">
<pre class="example">#include &lt;libintl.h&gt;
</pre></div>

<p>Similarly, each C module containing <code>printf()</code>/<code>fprintf()</code>/...
calls with a format string that could be a translated C string (even if
the C string comes from a different C module) should contain the line:
</p>
<div class="example">
<pre class="example">#include &lt;libintl.h&gt;
</pre></div>

<hr>
</div>
<div class="section" id="Triggering">
<div class="header">
<p>
Next: <a href="#Preparing-Strings" accesskey="n" rel="next">Preparing Translatable Strings</a>, Previous: <a href="#Importing" accesskey="p" rel="prev">Importing the <code>gettext</code> declaration</a>, Up: <a href="#Sources" accesskey="u" rel="up">Preparing Program Sources</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Program-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Triggering-gettext-Operations"></span><h3 class="section">4.2 Triggering <code>gettext</code> Operations</h3>

<span id="index-initialization"></span>
<p>The initialization of locale data should be done with more or less
the same code in every program, as demonstrated below:
</p>
<div class="example">
<pre class="example">int
main (int argc, char *argv[])
{
  &hellip;
  setlocale (LC_ALL, &quot;&quot;);
  bindtextdomain (PACKAGE, LOCALEDIR);
  textdomain (PACKAGE);
  &hellip;
}
</pre></div>

<p><var>PACKAGE</var> and <var>LOCALEDIR</var> should be provided either by
<samp>config.h</samp> or by the Makefile.  For now consult the <code>gettext</code>
or <code>hello</code> sources for more information.
</p>
<span id="index-locale-category_002c-LC_005fALL"></span>
<span id="index-locale-category_002c-LC_005fCTYPE-1"></span>
<p>The use of <code>LC_ALL</code> might not be appropriate for you.
<code>LC_ALL</code> includes all locale categories and especially
<code>LC_CTYPE</code>.  This latter category is responsible for determining
character classes with the <code>isalnum</code> etc. functions from
<samp>ctype.h</samp> which could especially for programs, which process some
kind of input language, be wrong.  For example this would mean that a
source code using the &ccedil; (c-cedilla character) is runnable in
France but not in the U.S.
</p>
<p>Some systems also have problems with parsing numbers using the
<code>scanf</code> functions if an other but the <code>LC_ALL</code> locale category is
used.  The standards say that additional formats but the one known in the
<code>&quot;C&quot;</code> locale might be recognized.  But some systems seem to reject
numbers in the <code>&quot;C&quot;</code> locale format.  In some situation, it might
also be a problem with the notation itself which makes it impossible to
recognize whether the number is in the <code>&quot;C&quot;</code> locale or the local
format.  This can happen if thousands separator characters are used.
Some locales define this character according to the national
conventions to <code>'.'</code> which is the same character used in the
<code>&quot;C&quot;</code> locale to denote the decimal point.
</p>
<p>So it is sometimes necessary to replace the <code>LC_ALL</code> line in the
code above by a sequence of <code>setlocale</code> lines
</p>
<div class="example">
<pre class="example">{
  &hellip;
  setlocale (LC_CTYPE, &quot;&quot;);
  setlocale (LC_MESSAGES, &quot;&quot;);
  &hellip;
}
</pre></div>

<span id="index-locale-category_002c-LC_005fCTYPE-2"></span>
<span id="index-locale-category_002c-LC_005fCOLLATE"></span>
<span id="index-locale-category_002c-LC_005fMONETARY-1"></span>
<span id="index-locale-category_002c-LC_005fNUMERIC-1"></span>
<span id="index-locale-category_002c-LC_005fTIME-1"></span>
<span id="index-locale-category_002c-LC_005fMESSAGES-1"></span>
<span id="index-locale-category_002c-LC_005fRESPONSES"></span>
<p>On all POSIX conformant systems the locale categories <code>LC_CTYPE</code>,
<code>LC_MESSAGES</code>, <code>LC_COLLATE</code>, <code>LC_MONETARY</code>,
<code>LC_NUMERIC</code>, and <code>LC_TIME</code> are available.  On some systems
which are only ISO C compliant, <code>LC_MESSAGES</code> is missing, but
a substitute for it is defined in GNU gettext&rsquo;s <code>&lt;libintl.h&gt;</code> and
in GNU gnulib&rsquo;s <code>&lt;locale.h&gt;</code>.
</p>
<p>Note that changing the <code>LC_CTYPE</code> also affects the functions
declared in the <code>&lt;ctype.h&gt;</code> standard header and some functions
declared in the <code>&lt;string.h&gt;</code> and <code>&lt;stdlib.h&gt;</code> standard headers.
If this is not
desirable in your application (for example in a compiler&rsquo;s parser),
you can use a set of substitute functions which hardwire the C locale,
such as found in the modules &lsquo;<samp>c-ctype</samp>&rsquo;, &lsquo;<samp>c-strcase</samp>&rsquo;,
&lsquo;<samp>c-strcasestr</samp>&rsquo;, &lsquo;<samp>c-strtod</samp>&rsquo;, &lsquo;<samp>c-strtold</samp>&rsquo; in the GNU gnulib
source distribution.
</p>
<p>It is also possible to switch the locale forth and back between the
environment dependent locale and the C locale, but this approach is
normally avoided because a <code>setlocale</code> call is expensive,
because it is tedious to determine the places where a locale switch
is needed in a large program&rsquo;s source, and because switching a locale
is not multithread-safe.
</p>
<hr>
</div>
<div class="section" id="Preparing-Strings">
<div class="header">
<p>
Next: <a href="#Mark-Keywords" accesskey="n" rel="next">How Marks Appear in Sources</a>, Previous: <a href="#Triggering" accesskey="p" rel="prev">Triggering <code>gettext</code> Operations</a>, Up: <a href="#Sources" accesskey="u" rel="up">Preparing Program Sources</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Program-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Preparing-Translatable-Strings"></span><h3 class="section">4.3 Preparing Translatable Strings</h3>

<span id="index-marking-strings_002c-preparations"></span>
<p>Before strings can be marked for translations, they sometimes need to
be adjusted.  Usually preparing a string for translation is done right
before marking it, during the marking phase which is described in the
next sections.  What you have to keep in mind while doing that is the
following.
</p>
<ul>
<li> Decent English style.

</li><li> Entire sentences.

</li><li> Split at paragraphs.

</li><li> Use format strings instead of string concatenation.

</li><li> Use placeholders in format strings instead of embedded URLs.

</li><li> Avoid unusual markup and unusual control characters.
</li></ul>

<p>Let&rsquo;s look at some examples of these guidelines.
</p>
<span id="Decent-English-style"></span><h4 class="subheading">Decent English style</h4>

<span id="index-style"></span>
<p>Translatable strings should be in good English style.  If slang language
with abbreviations and shortcuts is used, often translators will not
understand the message and will produce very inappropriate translations.
</p>
<div class="example">
<pre class="example">&quot;%s: is parameter\n&quot;
</pre></div>

<p>This is nearly untranslatable: Is the displayed item <em>a</em> parameter or
<em>the</em> parameter?
</p>
<div class="example">
<pre class="example">&quot;No match&quot;
</pre></div>

<p>The ambiguity in this message makes it unintelligible: Is the program
attempting to set something on fire? Does it mean &quot;The given object does
not match the template&quot;? Does it mean &quot;The template does not fit for any
of the objects&quot;?
</p>
<span id="index-ambiguities"></span>
<p>In both cases, adding more words to the message will help both the
translator and the English speaking user.
</p>
<span id="Entire-sentences"></span><h4 class="subheading">Entire sentences</h4>

<span id="index-sentences"></span>
<p>Translatable strings should be entire sentences.  It is often not possible
to translate single verbs or adjectives in a substitutable way.
</p>
<div class="example">
<pre class="example">printf (&quot;File %s is %s protected&quot;, filename, rw ? &quot;write&quot; : &quot;read&quot;);
</pre></div>

<p>Most translators will not look at the source and will thus only see the
string <code>&quot;File %s is %s protected&quot;</code>, which is unintelligible.  Change
this to
</p>
<div class="example">
<pre class="example">printf (rw ? &quot;File %s is write protected&quot; : &quot;File %s is read protected&quot;,
        filename);
</pre></div>

<p>This way the translator will not only understand the message, she will
also be able to find the appropriate grammatical construction.  A French
translator for example translates &quot;write protected&quot; like &quot;protected
against writing&quot;.
</p>
<p>Entire sentences are also important because in many languages, the
declination of some word in a sentence depends on the gender or the
number (singular/plural) of another part of the sentence.  There are
usually more interdependencies between words than in English.  The
consequence is that asking a translator to translate two half-sentences
and then combining these two half-sentences through dumb string concatenation
will not work, for many languages, even though it would work for English.
That&rsquo;s why translators need to handle entire sentences.
</p>
<p>Often sentences don&rsquo;t fit into a single line.  If a sentence is output
using two subsequent <code>printf</code> statements, like this
</p>
<div class="example">
<pre class="example">printf (&quot;Locale charset \&quot;%s\&quot; is different from\n&quot;, lcharset);
printf (&quot;input file charset \&quot;%s\&quot;.\n&quot;, fcharset);
</pre></div>

<p>the translator would have to translate two half sentences, but nothing
in the POT file would tell her that the two half sentences belong together.
It is necessary to merge the two <code>printf</code> statements so that the
translator can handle the entire sentence at once and decide at which
place to insert a line break in the translation (if at all):
</p>
<div class="example">
<pre class="example">printf (&quot;Locale charset \&quot;%s\&quot; is different from\n\
input file charset \&quot;%s\&quot;.\n&quot;, lcharset, fcharset);
</pre></div>

<p>You may now ask: how about two or more adjacent sentences? Like in this case:
</p>
<div class="example">
<pre class="example">puts (&quot;Apollo 13 scenario: Stack overflow handling failed.&quot;);
puts (&quot;On the next stack overflow we will crash!!!&quot;);
</pre></div>

<p>Should these two statements merged into a single one? I would recommend to
merge them if the two sentences are related to each other, because then it
makes it easier for the translator to understand and translate both.  On
the other hand, if one of the two messages is a stereotypic one, occurring
in other places as well, you will do a favour to the translator by not
merging the two.  (Identical messages occurring in several places are
combined by xgettext, so the translator has to handle them once only.)
</p>
<span id="Split-at-paragraphs"></span><h4 class="subheading">Split at paragraphs</h4>

<span id="index-paragraphs"></span>
<p>Translatable strings should be limited to one paragraph; don&rsquo;t let a
single message be longer than ten lines.  The reason is that when the
translatable string changes, the translator is faced with the task of
updating the entire translated string.  Maybe only a single word will
have changed in the English string, but the translator doesn&rsquo;t see that
(with the current translation tools), therefore she has to proofread
the entire message.
</p>
<span id="index-help-option"></span>
<p>Many GNU programs have a &lsquo;<samp>--help</samp>&rsquo; output that extends over several
screen pages.  It is a courtesy towards the translators to split such a
message into several ones of five to ten lines each.  While doing that,
you can also attempt to split the documented options into groups,
such as the input options, the output options, and the informative
output options.  This will help every user to find the option he is
looking for.
</p>
<span id="No-string-concatenation"></span><h4 class="subheading">No string concatenation</h4>

<span id="index-string-concatenation"></span>
<span id="index-concatenation-of-strings"></span>
<p>Hardcoded string concatenation is sometimes used to construct English
strings:
</p>
<div class="example">
<pre class="example">strcpy (s, &quot;Replace &quot;);
strcat (s, object1);
strcat (s, &quot; with &quot;);
strcat (s, object2);
strcat (s, &quot;?&quot;);
</pre></div>

<p>In order to present to the translator only entire sentences, and also
because in some languages the translator might want to swap the order
of <code>object1</code> and <code>object2</code>, it is necessary to change this
to use a format string:
</p>
<div class="example">
<pre class="example">sprintf (s, &quot;Replace %s with %s?&quot;, object1, object2);
</pre></div>

<span id="index-inttypes_002eh"></span>
<p>A similar case is compile time concatenation of strings.  The ISO C 99
include file <code>&lt;inttypes.h&gt;</code> contains a macro <code>PRId64</code> that
can be used as a formatting directive for outputting an &lsquo;<samp>int64_t</samp>&rsquo;
integer through <code>printf</code>.  It expands to a constant string, usually
&quot;d&quot; or &quot;ld&quot; or &quot;lld&quot; or something like this, depending on the platform.
Assume you have code like
</p>
<div class="example">
<pre class="example">printf (&quot;The amount is %0&quot; PRId64 &quot;\n&quot;, number);
</pre></div>

<p>The <code>gettext</code> tools and library have special support for these
<code>&lt;inttypes.h&gt;</code> macros.  You can therefore simply write
</p>
<div class="example">
<pre class="example">printf (gettext (&quot;The amount is %0&quot; PRId64 &quot;\n&quot;), number);
</pre></div>

<p>The PO file will contain the string &quot;The amount is %0&lt;PRId64&gt;\n&quot;.
The translators will provide a translation containing &quot;%0&lt;PRId64&gt;&quot;
as well, and at runtime the <code>gettext</code> function&rsquo;s result will
contain the appropriate constant string, &quot;d&quot; or &quot;ld&quot; or &quot;lld&quot;.
</p>
<p>This works only for the predefined <code>&lt;inttypes.h&gt;</code> macros.  If
you have defined your own similar macros, let&rsquo;s say &lsquo;<samp>MYPRId64</samp>&rsquo;,
that are not known to <code>xgettext</code>, the solution for this problem
is to change the code like this:
</p>
<div class="example">
<pre class="example">char buf1[100];
sprintf (buf1, &quot;%0&quot; MYPRId64, number);
printf (gettext (&quot;The amount is %s\n&quot;), buf1);
</pre></div>

<p>This means, you put the platform dependent code in one statement, and the
internationalization code in a different statement.  Note that a buffer length
of 100 is safe, because all available hardware integer types are limited to
128 bits, and to print a 128 bit integer one needs at most 54 characters,
regardless whether in decimal, octal or hexadecimal.
</p>
<span id="index-Java_002c-string-concatenation"></span>
<span id="index-C_0023_002c-string-concatenation"></span>
<p>All this applies to other programming languages as well.  For example, in
Java and C#, string concatenation is very frequently used, because it is a
compiler built-in operator.  Like in C, in Java, you would change
</p>
<div class="example">
<pre class="example">System.out.println(&quot;Replace &quot;+object1+&quot; with &quot;+object2+&quot;?&quot;);
</pre></div>

<p>into a statement involving a format string:
</p>
<div class="example">
<pre class="example">System.out.println(
    MessageFormat.format(&quot;Replace {0} with {1}?&quot;,
                         new Object[] { object1, object2 }));
</pre></div>

<p>Similarly, in C#, you would change
</p>
<div class="example">
<pre class="example">Console.WriteLine(&quot;Replace &quot;+object1+&quot; with &quot;+object2+&quot;?&quot;);
</pre></div>

<p>into a statement involving a format string:
</p>
<div class="example">
<pre class="example">Console.WriteLine(
    String.Format(&quot;Replace {0} with {1}?&quot;, object1, object2));
</pre></div>

<span id="No-embedded-URLs"></span><h4 class="subheading">No embedded URLs</h4>

<p>It is good to not embed URLs in translatable strings, for several reasons:
</p><ul>
<li> It avoids possible mistakes during copy and paste.
</li><li> Translators cannot translate the URLs or, by mistake, use the URLs from
other packages that are present in their compendium.
</li><li> When the URLs change, translators don&rsquo;t need to revisit the translation
of the string.
</li></ul>

<p>The same holds for email addresses.
</p>
<p>So, you would change
</p>
<div class="example">
<pre class="example">fputs (_(&quot;GNU GPL version 3 &lt;https://gnu.org/licenses/gpl.html&gt;\n&quot;),
       stream);
</pre></div>

<p>to
</p>
<div class="example">
<pre class="example">fprintf (stream, _(&quot;GNU GPL version 3 &lt;%s&gt;\n&quot;),
         &quot;https://gnu.org/licenses/gpl.html&quot;);
</pre></div>

<span id="No-unusual-markup"></span><h4 class="subheading">No unusual markup</h4>

<span id="index-markup"></span>
<span id="index-control-characters"></span>
<p>Unusual markup or control characters should not be used in translatable
strings.  Translators will likely not understand the particular meaning
of the markup or control characters.
</p>
<p>For example, if you have a convention that &lsquo;<samp>|</samp>&rsquo; delimits the
left-hand and right-hand part of some GUI elements, translators will
often not understand it without specific comments.  It might be
better to have the translator translate the left-hand and right-hand
part separately.
</p>
<p>Another example is the &lsquo;<samp>argp</samp>&rsquo; convention to use a single &lsquo;<samp>\v</samp>&rsquo;
(vertical tab) control character to delimit two sections inside a
string.  This is flawed.  Some translators may convert it to a simple
newline, some to blank lines.  With some PO file editors it may not be
easy to even enter a vertical tab control character.  So, you cannot
be sure that the translation will contain a &lsquo;<samp>\v</samp>&rsquo; character, at the
corresponding position.  The solution is, again, to let the translator
translate two separate strings and combine at run-time the two translated
strings with the &lsquo;<samp>\v</samp>&rsquo; required by the convention.
</p>
<p>HTML markup, however, is common enough that it&rsquo;s probably ok to use in
translatable strings.  But please bear in mind that the GNU gettext tools
don&rsquo;t verify that the translations are well-formed HTML.
</p>
<hr>
</div>
<div class="section" id="Mark-Keywords">
<div class="header">
<p>
Next: <a href="#Marking" accesskey="n" rel="next">Marking Translatable Strings</a>, Previous: <a href="#Preparing-Strings" accesskey="p" rel="prev">Preparing Translatable Strings</a>, Up: <a href="#Sources" accesskey="u" rel="up">Preparing Program Sources</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Program-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="How-Marks-Appear-in-Sources"></span><h3 class="section">4.4 How Marks Appear in Sources</h3>
<span id="index-marking-strings-that-require-translation"></span>

<p>All strings requiring translation should be marked in the C sources.  Marking
is done in such a way that each translatable string appears to be
the sole argument of some function or preprocessor macro.  There are
only a few such possible functions or macros meant for translation,
and their names are said to be marking keywords.  The marking is
attached to strings themselves, rather than to what we do with them.
This approach has more uses.  A blatant example is an error message
produced by formatting.  The format string needs translation, as
well as some strings inserted through some &lsquo;<samp>%s</samp>&rsquo; specification
in the format, while the result from <code>sprintf</code> may have so many
different instances that it is impractical to list them all in some
&lsquo;<samp>error_string_out()</samp>&rsquo; routine, say.
</p>
<p>This marking operation has two goals.  The first goal of marking
is for triggering the retrieval of the translation, at run time.
The keyword is possibly resolved into a routine able to dynamically
return the proper translation, as far as possible or wanted, for the
argument string.  Most localizable strings are found in executable
positions, that is, attached to variables or given as parameters to
functions.  But this is not universal usage, and some translatable
strings appear in structured initializations.  See <a href="#Special-cases">Special Cases of Translatable Strings</a>.
</p>
<p>The second goal of the marking operation is to help <code>xgettext</code>
at properly extracting all translatable strings when it scans a set
of program sources and produces PO file templates.
</p>
<p>The canonical keyword for marking translatable strings is
&lsquo;<samp>gettext</samp>&rsquo;, it gave its name to the whole GNU <code>gettext</code>
package.  For packages making only light use of the &lsquo;<samp>gettext</samp>&rsquo;
keyword, macro or function, it is easily used <em>as is</em>.  However,
for packages using the <code>gettext</code> interface more heavily, it
is usually more convenient to give the main keyword a shorter, less
obtrusive name.  Indeed, the keyword might appear on a lot of strings
all over the package, and programmers usually do not want nor need
their program sources to remind them forcefully, all the time, that they
are internationalized.  Further, a long keyword has the disadvantage
of using more horizontal space, forcing more indentation work on
sources for those trying to keep them within 79 or 80 columns.
</p>
<span id="index-_005f_002c-a-macro-to-mark-strings-for-translation"></span>
<p>Many packages use &lsquo;<samp>_</samp>&rsquo; (a simple underline) as a keyword,
and write &lsquo;<samp>_(&quot;Translatable string&quot;)</samp>&rsquo; instead of &lsquo;<samp>gettext
(&quot;Translatable string&quot;)</samp>&rsquo;.  Further, the coding rule, from GNU standards,
wanting that there is a space between the keyword and the opening
parenthesis is relaxed, in practice, for this particular usage.
So, the textual overhead per translatable string is reduced to
only three characters: the underline and the two parentheses.
However, even if GNU <code>gettext</code> uses this convention internally,
it does not offer it officially.  The real, genuine keyword is truly
&lsquo;<samp>gettext</samp>&rsquo; indeed.  It is fairly easy for those wanting to use
&lsquo;<samp>_</samp>&rsquo; instead of &lsquo;<samp>gettext</samp>&rsquo; to declare:
</p>
<div class="example">
<pre class="example">#include &lt;libintl.h&gt;
#define _(String) gettext (String)
</pre></div>

<p>instead of merely using &lsquo;<samp>#include &lt;libintl.h&gt;</samp>&rsquo;.
</p>
<p>The marking keywords &lsquo;<samp>gettext</samp>&rsquo; and &lsquo;<samp>_</samp>&rsquo; take the translatable
string as sole argument.  It is also possible to define marking functions
that take it at another argument position.  It is even possible to make
the marked argument position depend on the total number of arguments of
the function call; this is useful in C++.  All this is achieved using
<code>xgettext</code>&rsquo;s &lsquo;<samp>--keyword</samp>&rsquo; option.  How to pass such an option
to <code>xgettext</code>, assuming that <code>gettextize</code> is used, is described
in <a href="#po_002fMakevars"><samp>Makevars</samp> in <samp>po/</samp></a> and <a href="#AM_005fXGETTEXT_005fOPTION">AM_XGETTEXT_OPTION in <samp>po.m4</samp></a>.
</p>
<p>Note also that long strings can be split across lines, into multiple
adjacent string tokens.  Automatic string concatenation is performed
at compile time according to ISO C and ISO C++; <code>xgettext</code> also
supports this syntax.
</p>
<p>Later on, the maintenance is relatively easy.  If, as a programmer,
you add or modify a string, you will have to ask yourself if the
new or altered string requires translation, and include it within
&lsquo;<samp>_()</samp>&rsquo; if you think it should be translated.  For example, &lsquo;<samp>&quot;%s&quot;</samp>&rsquo;
is an example of string <em>not</em> requiring translation.  But
&lsquo;<samp>&quot;%s: %d&quot;</samp>&rsquo; <em>does</em> require translation, because in French, unlike
in English, it&rsquo;s customary to put a space before a colon.
</p>
<hr>
</div>
<div class="section" id="Marking">
<div class="header">
<p>
Next: <a href="#c_002dformat-Flag" accesskey="n" rel="next">Special Comments preceding Keywords</a>, Previous: <a href="#Mark-Keywords" accesskey="p" rel="prev">How Marks Appear in Sources</a>, Up: <a href="#Sources" accesskey="u" rel="up">Preparing Program Sources</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Program-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Marking-Translatable-Strings"></span><h3 class="section">4.5 Marking Translatable Strings</h3>
<span id="index-marking-strings-for-translation"></span>

<p>In PO mode, one set of features is meant more for the programmer than
for the translator, and allows him to interactively mark which strings,
in a set of program sources, are translatable, and which are not.
Even if it is a fairly easy job for a programmer to find and mark
such strings by other means, using any editor of his choice, PO mode
makes this work more comfortable.  Further, this gives translators
who feel a little like programmers, or programmers who feel a little
like translators, a tool letting them work at marking translatable
strings in the program sources, while simultaneously producing a set of
translation in some language, for the package being internationalized.
</p>
<span id="index-etags_002c-using-for-marking-strings"></span>
<p>The set of program sources, targeted by the PO mode commands describe
here, should have an Emacs tags table constructed for your project,
prior to using these PO file commands.  This is easy to do.  In any
shell window, change the directory to the root of your project, then
execute a command resembling:
</p>
<div class="example">
<pre class="example">etags src/*.[hc] lib/*.[hc]
</pre></div>

<p>presuming here you want to process all <samp>.h</samp> and <samp>.c</samp> files
from the <samp>src/</samp> and <samp>lib/</samp> directories.  This command will
explore all said files and create a <samp>TAGS</samp> file in your root
directory, somewhat summarizing the contents using a special file
format Emacs can understand.
</p>
<span id="index-TAGS_002c-and-marking-translatable-strings"></span>
<p>For packages following the GNU coding standards, there is
a make goal <code>tags</code> or <code>TAGS</code> which constructs the tag files in
all directories and for all files containing source code.
</p>
<p>Once your <samp>TAGS</samp> file is ready, the following commands assist
the programmer at marking translatable strings in his set of sources.
But these commands are necessarily driven from within a PO file
window, and it is likely that you do not even have such a PO file yet.
This is not a problem at all, as you may safely open a new, empty PO
file, mainly for using these commands.  This empty PO file will slowly
fill in while you mark strings as translatable in your program sources.
</p>
<dl compact="compact">
<dt id='index-_002c_002c-PO-Mode-command'><span><kbd>,</kbd><a href='#index-_002c_002c-PO-Mode-command' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Search through program sources for a string which looks like a
candidate for translation (<code>po-tags-search</code>).
</p>
</dd>
<dt id='index-M_002d_002c_002c-PO-Mode-command'><span><kbd>M-,</kbd><a href='#index-M_002d_002c_002c-PO-Mode-command' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Mark the last string found with &lsquo;<samp>_()</samp>&rsquo; (<code>po-mark-translatable</code>).
</p>
</dd>
<dt id='index-M_002d_002e_002c-PO-Mode-command'><span><kbd>M-.</kbd><a href='#index-M_002d_002e_002c-PO-Mode-command' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Mark the last string found with a keyword taken from a set of possible
keywords.  This command with a prefix allows some management of these
keywords (<code>po-select-mark-and-mark</code>).
</p>
</dd>
</dl>

<span id="index-po_002dtags_002dsearch_002c-PO-Mode-command"></span>
<p>The <kbd>,</kbd> (<code>po-tags-search</code>) command searches for the next
occurrence of a string which looks like a possible candidate for
translation, and displays the program source in another Emacs window,
positioned in such a way that the string is near the top of this other
window.  If the string is too big to fit whole in this window, it is
positioned so only its end is shown.  In any case, the cursor
is left in the PO file window.  If the shown string would be better
presented differently in different native languages, you may mark it
using <kbd>M-,</kbd> or <kbd>M-.</kbd>.  Otherwise, you might rather ignore it
and skip to the next string by merely repeating the <kbd>,</kbd> command.
</p>
<p>A string is a good candidate for translation if it contains a sequence
of three or more letters.  A string containing at most two letters in
a row will be considered as a candidate if it has more letters than
non-letters.  The command disregards strings containing no letters,
or isolated letters only.  It also disregards strings within comments,
or strings already marked with some keyword PO mode knows (see below).
</p>
<p>If you have never told Emacs about some <samp>TAGS</samp> file to use, the
command will request that you specify one from the minibuffer, the
first time you use the command.  You may later change your <samp>TAGS</samp>
file by using the regular Emacs command <kbd><span class="nolinebreak">M-x</span>&nbsp;<span class="nolinebreak">visit-tags-table</span></kbd><!-- /@w -->,
which will ask you to name the precise <samp>TAGS</samp> file you want
to use.  See <a data-manual="emacs" href="https://www.gnu.org/software/emacs/manual/html_mono/emacs.html#Tags">Tag Tables</a> in <cite>The Emacs Editor</cite>.
</p>
<p>Each time you use the <kbd>,</kbd> command, the search resumes from where it was
left by the previous search, and goes through all program sources,
obeying the <samp>TAGS</samp> file, until all sources have been processed.
However, by giving a prefix argument to the command (<kbd><span class="nolinebreak">C-u</span>&nbsp;,</kbd>)<!-- /@w -->, you may request that the search be restarted all over again
from the first program source; but in this case, strings that you
recently marked as translatable will be automatically skipped.
</p>
<p>Using this <kbd>,</kbd> command does not prevent using of other regular
Emacs tags commands.  For example, regular <code>tags-search</code> or
<code>tags-query-replace</code> commands may be used without disrupting the
independent <kbd>,</kbd> search sequence.  However, as implemented, the
<em>initial</em> <kbd>,</kbd> command (or the <kbd>,</kbd> command is used with a
prefix) might also reinitialize the regular Emacs tags searching to the
first tags file, this reinitialization might be considered spurious.
</p>
<span id="index-po_002dmark_002dtranslatable_002c-PO-Mode-command"></span>
<span id="index-po_002dselect_002dmark_002dand_002dmark_002c-PO-Mode-command"></span>
<p>The <kbd>M-,</kbd> (<code>po-mark-translatable</code>) command will mark the
recently found string with the &lsquo;<samp>_</samp>&rsquo; keyword.  The <kbd>M-.</kbd>
(<code>po-select-mark-and-mark</code>) command will request that you type
one keyword from the minibuffer and use that keyword for marking
the string.  Both commands will automatically create a new PO file
untranslated entry for the string being marked, and make it the
current entry (making it easy for you to immediately proceed to its
translation, if you feel like doing it right away).  It is possible
that the modifications made to the program source by <kbd>M-,</kbd> or
<kbd>M-.</kbd> render some source line longer than 80 columns, forcing you
to break and re-indent this line differently.  You may use the <kbd>O</kbd>
command from PO mode, or any other window changing command from
Emacs, to break out into the program source window, and do any
needed adjustments.  You will have to use some regular Emacs command
to return the cursor to the PO file window, if you want command
<kbd>,</kbd> for the next string, say.
</p>
<p>The <kbd>M-.</kbd> command has a few built-in speedups, so you do not
have to explicitly type all keywords all the time.  The first such
speedup is that you are presented with a <em>preferred</em> keyword,
which you may accept by merely typing <kbd><span class="key">RET</span></kbd> at the prompt.
The second speedup is that you may type any non-ambiguous prefix of the
keyword you really mean, and the command will complete it automatically
for you.  This also means that PO mode has to <em>know</em> all
your possible keywords, and that it will not accept mistyped keywords.
</p>
<p>If you reply <kbd>?</kbd> to the keyword request, the command gives a
list of all known keywords, from which you may choose.  When the
command is prefixed by an argument (<kbd><span class="nolinebreak">C-u</span>&nbsp;<span class="nolinebreak">M-.</span></kbd>)<!-- /@w -->, it inhibits
updating any program source or PO file buffer, and does some simple
keyword management instead.  In this case, the command asks for a
keyword, written in full, which becomes a new allowed keyword for
later <kbd>M-.</kbd> commands.  Moreover, this new keyword automatically
becomes the <em>preferred</em> keyword for later commands.  By typing
an already known keyword in response to <kbd><span class="nolinebreak">C-u</span>&nbsp;<span class="nolinebreak">M-.</span></kbd><!-- /@w -->, one merely
changes the <em>preferred</em> keyword and does nothing more.
</p>
<p>All keywords known for <kbd>M-.</kbd> are recognized by the <kbd>,</kbd> command
when scanning for strings, and strings already marked by any of those
known keywords are automatically skipped.  If many PO files are opened
simultaneously, each one has its own independent set of known keywords.
There is no provision in PO mode, currently, for deleting a known
keyword, you have to quit the file (maybe using <kbd>q</kbd>) and reopen
it afresh.  When a PO file is newly brought up in an Emacs window, only
&lsquo;<samp>gettext</samp>&rsquo; and &lsquo;<samp>_</samp>&rsquo; are known as keywords, and &lsquo;<samp>gettext</samp>&rsquo;
is preferred for the <kbd>M-.</kbd> command.  In fact, this is not useful to
prefer &lsquo;<samp>_</samp>&rsquo;, as this one is already built in the <kbd>M-,</kbd> command.
</p>
<hr>
</div>
<div class="section" id="c_002dformat-Flag">
<div class="header">
<p>
Next: <a href="#Special-cases" accesskey="n" rel="next">Special Cases of Translatable Strings</a>, Previous: <a href="#Marking" accesskey="p" rel="prev">Marking Translatable Strings</a>, Up: <a href="#Sources" accesskey="u" rel="up">Preparing Program Sources</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Program-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Special-Comments-preceding-Keywords"></span><h3 class="section">4.6 Special Comments preceding Keywords</h3>


<span id="index-format-strings"></span>
<p>In C programs strings are often used within calls of functions from the
<code>printf</code> family.  The special thing about these format strings is
that they can contain format specifiers introduced with <kbd>%</kbd>.  Assume
we have the code
</p>
<div class="example">
<pre class="example">printf (gettext (&quot;String `%s' has %d characters\n&quot;), s, strlen (s));
</pre></div>

<p>A possible German translation for the above string might be:
</p>
<div class="example">
<pre class="example">&quot;%d Zeichen lang ist die Zeichenkette `%s'&quot;
</pre></div>

<p>A C programmer, even if he cannot speak German, will recognize that
there is something wrong here.  The order of the two format specifiers
is changed but of course the arguments in the <code>printf</code> don&rsquo;t have.
This will most probably lead to problems because now the length of the
string is regarded as the address.
</p>
<p>To prevent errors at runtime caused by translations, the <code>msgfmt</code>
tool can check statically whether the arguments in the original and the
translation string match in type and number.  If this is not the case
and the &lsquo;<samp>-c</samp>&rsquo; option has been passed to <code>msgfmt</code>, <code>msgfmt</code>
will give an error and refuse to produce a MO file.  Thus consistent
use of &lsquo;<samp>msgfmt -c</samp>&rsquo; will catch the error, so that it cannot cause
problems at runtime.
</p>
<p>If the word order in the above German translation would be correct one
would have to write
</p>
<div class="example">
<pre class="example">&quot;%2$d Zeichen lang ist die Zeichenkette `%1$s'&quot;
</pre></div>

<p>The routines in <code>msgfmt</code> know about this special notation.
</p>
<p>Because not all strings in a program will be format strings, it is not
useful for <code>msgfmt</code> to test all the strings in the <samp>.po</samp> file.
This might cause problems because the string might contain what looks
like a format specifier, but the string is not used in <code>printf</code>.
</p>
<p>Therefore <code>xgettext</code> adds a special tag to those messages it
thinks might be a format string.  There is no absolute rule for this,
only a heuristic.  In the <samp>.po</samp> file the entry is marked using the
<code>c-format</code> flag in the <code>#,</code> comment line (see <a href="#PO-Files">The Format of PO Files</a>).
</p>
<span id="index-c_002dformat_002c-and-xgettext"></span>
<span id="index-no_002dc_002dformat_002c-and-xgettext"></span>
<p>The careful reader now might say that this again can cause problems.
The heuristic might guess it wrong.  This is true and therefore
<code>xgettext</code> knows about a special kind of comment which lets
the programmer take over the decision.  If in the same line as or
the immediately preceding line to the <code>gettext</code> keyword
the <code>xgettext</code> program finds a comment containing the words
<code>xgettext:c-format</code>, it will mark the string in any case with
the <code>c-format</code> flag.  This kind of comment should be used when
<code>xgettext</code> does not recognize the string as a format string but
it really is one and it should be tested.  Please note that when the
comment is in the same line as the <code>gettext</code> keyword, it must be
before the string to be translated.
</p>
<p>This situation happens quite often.  The <code>printf</code> function is often
called with strings which do not contain a format specifier.  Of course
one would normally use <code>fputs</code> but it does happen.  In this case
<code>xgettext</code> does not recognize this as a format string but what
happens if the translation introduces a valid format specifier?  The
<code>printf</code> function will try to access one of the parameters but none
exists because the original code does not pass any parameters.
</p>
<p><code>xgettext</code> of course could make a wrong decision the other way
round, i.e. a string marked as a format string actually is not a format
string.  In this case the <code>msgfmt</code> might give too many warnings and
would prevent translating the <samp>.po</samp> file.  The method to prevent
this wrong decision is similar to the one used above, only the comment
to use must contain the string <code>xgettext:no-c-format</code>.
</p>
<p>If a string is marked with <code>c-format</code> and this is not correct the
user can find out who is responsible for the decision.  See
<a href="#xgettext-Invocation">Invoking the <code>xgettext</code> Program</a> to see how the <code>--debug</code> option can be
used for solving this problem.
</p>
<hr>
</div>
<div class="section" id="Special-cases">
<div class="header">
<p>
Next: <a href="#Bug-Report-Address" accesskey="n" rel="next">Letting Users Report Translation Bugs</a>, Previous: <a href="#c_002dformat-Flag" accesskey="p" rel="prev">Special Comments preceding Keywords</a>, Up: <a href="#Sources" accesskey="u" rel="up">Preparing Program Sources</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Program-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Special-Cases-of-Translatable-Strings"></span><h3 class="section">4.7 Special Cases of Translatable Strings</h3>

<span id="index-marking-string-initializers"></span>
<p>The attentive reader might now point out that it is not always possible
to mark translatable string with <code>gettext</code> or something like this.
Consider the following case:
</p>
<div class="example">
<pre class="example">{
  static const char *messages[] = {
    &quot;some very meaningful message&quot;,
    &quot;and another one&quot;
  };
  const char *string;
  &hellip;
  string
    = index &gt; 1 ? &quot;a default message&quot; : messages[index];

  fputs (string);
  &hellip;
}
</pre></div>

<p>While it is no problem to mark the string <code>&quot;a default message&quot;</code> it
is not possible to mark the string initializers for <code>messages</code>.
What is to be done?  We have to fulfill two tasks.  First we have to mark the
strings so that the <code>xgettext</code> program (see <a href="#xgettext-Invocation">Invoking the <code>xgettext</code> Program</a>)
can find them, and second we have to translate the string at runtime
before printing them.
</p>
<p>The first task can be fulfilled by creating a new keyword, which names a
no-op.  For the second we have to mark all access points to a string
from the array.  So one solution can look like this:
</p>
<div class="example">
<pre class="example">#define gettext_noop(String) String

{
  static const char *messages[] = {
    gettext_noop (&quot;some very meaningful message&quot;),
    gettext_noop (&quot;and another one&quot;)
  };
  const char *string;
  &hellip;
  string
    = index &gt; 1 ? gettext (&quot;a default message&quot;) : gettext (messages[index]);

  fputs (string);
  &hellip;
}
</pre></div>

<p>Please convince yourself that the string which is written by
<code>fputs</code> is translated in any case.  How to get <code>xgettext</code> know
the additional keyword <code>gettext_noop</code> is explained in <a href="#xgettext-Invocation">Invoking the <code>xgettext</code> Program</a>.
</p>
<p>The above is of course not the only solution.  You could also come along
with the following one:
</p>
<div class="example">
<pre class="example">#define gettext_noop(String) String

{
  static const char *messages[] = {
    gettext_noop (&quot;some very meaningful message&quot;),
    gettext_noop (&quot;and another one&quot;)
  };
  const char *string;
  &hellip;
  string
    = index &gt; 1 ? gettext_noop (&quot;a default message&quot;) : messages[index];

  fputs (gettext (string));
  &hellip;
}
</pre></div>

<p>But this has a drawback.  The programmer has to take care that
he uses <code>gettext_noop</code> for the string <code>&quot;a default message&quot;</code>.
A use of <code>gettext</code> could have in rare cases unpredictable results.
</p>
<p>One advantage is that you need not make control flow analysis to make
sure the output is really translated in any case.  But this analysis is
generally not very difficult.  If it should be in any situation you can
use this second method in this situation.
</p>
<hr>
</div>
<div class="section" id="Bug-Report-Address">
<div class="header">
<p>
Next: <a href="#Names" accesskey="n" rel="next">Marking Proper Names for Translation</a>, Previous: <a href="#Special-cases" accesskey="p" rel="prev">Special Cases of Translatable Strings</a>, Up: <a href="#Sources" accesskey="u" rel="up">Preparing Program Sources</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Program-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Letting-Users-Report-Translation-Bugs"></span><h3 class="section">4.8 Letting Users Report Translation Bugs</h3>

<p>Code sometimes has bugs, but translations sometimes have bugs too.  The
users need to be able to report them.  Reporting translation bugs to the
programmer or maintainer of a package is not very useful, since the
maintainer must never change a translation, except on behalf of the
translator.  Hence the translation bugs must be reported to the
translators.
</p>
<p>Here is a way to organize this so that the maintainer does not need to
forward translation bug reports, nor even keep a list of the addresses of
the translators or their translation teams.
</p>
<p>Every program has a place where is shows the bug report address.  For
GNU programs, it is the code which handles the &ldquo;&ndash;help&rdquo; option,
typically in a function called &ldquo;usage&rdquo;.  In this place, instruct the
translator to add her own bug reporting address.  For example, if that
code has a statement
</p>
<div class="example">
<pre class="example">printf (_(&quot;Report bugs to &lt;%s&gt;.\n&quot;), PACKAGE_BUGREPORT);
</pre></div>

<p>you can add some translator instructions like this:
</p>
<div class="example">
<pre class="example">/* TRANSLATORS: The placeholder indicates the bug-reporting address
   for this package.  Please add _another line_ saying
   &quot;Report translation bugs to &lt;...&gt;\n&quot; with the address for translation
   bugs (typically your translation team's web or email address).  */
printf (_(&quot;Report bugs to &lt;%s&gt;.\n&quot;), PACKAGE_BUGREPORT);
</pre></div>

<p>These will be extracted by &lsquo;<samp>xgettext</samp>&rsquo;, leading to a .pot file that
contains this:
</p>
<div class="example">
<pre class="example">#. TRANSLATORS: The placeholder indicates the bug-reporting address
#. for this package.  Please add _another line_ saying
#. &quot;Report translation bugs to &lt;...&gt;\n&quot; with the address for translation
#. bugs (typically your translation team's web or email address).
#: src/hello.c:178
#, c-format
msgid &quot;Report bugs to &lt;%s&gt;.\n&quot;
msgstr &quot;&quot;
</pre></div>

<hr>
</div>
<div class="section" id="Names">
<div class="header">
<p>
Next: <a href="#Libraries" accesskey="n" rel="next">Preparing Library Sources</a>, Previous: <a href="#Bug-Report-Address" accesskey="p" rel="prev">Letting Users Report Translation Bugs</a>, Up: <a href="#Sources" accesskey="u" rel="up">Preparing Program Sources</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Program-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Marking-Proper-Names-for-Translation"></span><h3 class="section">4.9 Marking Proper Names for Translation</h3>

<p>Should names of persons, cities, locations etc. be marked for translation
or not?  People who only know languages that can be written with Latin
letters (English, Spanish, French, German, etc.) are tempted to say &ldquo;no&rdquo;,
because names usually do not change when transported between these languages.
However, in general when translating from one script to another, names
are translated too, usually phonetically or by transliteration.  For
example, Russian or Greek names are converted to the Latin alphabet when
being translated to English, and English or French names are converted
to the Katakana script when being translated to Japanese.  This is
necessary because the speakers of the target language in general cannot
read the script the name is originally written in.
</p>
<p>As a programmer, you should therefore make sure that names are marked
for translation, with a special comment telling the translators that it
is a proper name and how to pronounce it.  In its simple form, it looks
like this:
</p>
<div class="example">
<pre class="example">printf (_(&quot;Written by %s.\n&quot;),
        /* TRANSLATORS: This is a proper name.  See the gettext
           manual, section Names.  Note this is actually a non-ASCII
           name: The first name is (with Unicode escapes)
           &quot;Fran\u00e7ois&quot; or (with HTML entities) &quot;Fran&amp;ccedil;ois&quot;.
           Pronunciation is like &quot;fraa-swa pee-nar&quot;.  */
        _(&quot;Francois Pinard&quot;));
</pre></div>

<p>The GNU gnulib library offers a module &lsquo;<samp>propername</samp>&rsquo;
(<a href="https://www.gnu.org/software/gnulib/MODULES.html#module=propername">https://www.gnu.org/software/gnulib/MODULES.html#module=propername</a>)
which takes care to automatically append the original name, in parentheses,
to the translated name.  For names that cannot be written in ASCII, it
also frees the translator from the task of entering the appropriate non-ASCII
characters if no script change is needed.  In this more comfortable form,
it looks like this:
</p>
<div class="example">
<pre class="example">printf (_(&quot;Written by %s and %s.\n&quot;),
        proper_name (&quot;Ulrich Drepper&quot;),
        /* TRANSLATORS: This is a proper name.  See the gettext
           manual, section Names.  Note this is actually a non-ASCII
           name: The first name is (with Unicode escapes)
           &quot;Fran\u00e7ois&quot; or (with HTML entities) &quot;Fran&amp;ccedil;ois&quot;.
           Pronunciation is like &quot;fraa-swa pee-nar&quot;.  */
        proper_name_utf8 (&quot;Francois Pinard&quot;, &quot;Fran\303\247ois Pinard&quot;));
</pre></div>

<p>You can also write the original name directly in Unicode (rather than with
Unicode escapes or HTML entities) and denote the pronunciation using the
International Phonetic Alphabet (see
<a href="https://en.wikipedia.org/wiki/International_Phonetic_Alphabet">https://en.wikipedia.org/wiki/International_Phonetic_Alphabet</a>).
</p>
<p>As a translator, you should use some care when translating names, because
it is frustrating if people see their names mutilated or distorted.
</p>
<p>If your language uses the Latin script, all you need to do is to reproduce
the name as perfectly as you can within the usual character set of your
language.  In this particular case, this means to provide a translation
containing the c-cedilla character.  If your language uses a different
script and the people speaking it don&rsquo;t usually read Latin words, it means
transliteration.  If the programmer used the simple case, you should still
give, in parentheses, the original writing of the name &ndash; for the sake of
the people that do read the Latin script.  If the programmer used the
&lsquo;<samp>propername</samp>&rsquo; module mentioned above, you don&rsquo;t need to give the original
writing of the name in parentheses, because the program will already do so.
Here is an example, using Greek as the target script:
</p>
<div class="example">
<pre class="example">#. This is a proper name.  See the gettext
#. manual, section Names.  Note this is actually a non-ASCII
#. name: The first name is (with Unicode escapes)
#. &quot;Fran\u00e7ois&quot; or (with HTML entities) &quot;Fran&amp;ccedil;ois&quot;.
#. Pronunciation is like &quot;fraa-swa pee-nar&quot;.
msgid &quot;Francois Pinard&quot;
msgstr &quot;\phi\rho\alpha\sigma\omicron\alpha \pi\iota\nu\alpha\rho&quot;
       &quot; (Francois Pinard)&quot;
</pre></div>

<p>Because translation of names is such a sensitive domain, it is a good
idea to test your translation before submitting it.
</p>
<hr>
</div>
<div class="section" id="Libraries">
<div class="header">
<p>
Previous: <a href="#Names" accesskey="p" rel="prev">Marking Proper Names for Translation</a>, Up: <a href="#Sources" accesskey="u" rel="up">Preparing Program Sources</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Program-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Preparing-Library-Sources"></span><h3 class="section">4.10 Preparing Library Sources</h3>

<p>When you are preparing a library, not a program, for the use of
<code>gettext</code>, only a few details are different.  Here we assume that
the library has a translation domain and a POT file of its own.  (If
it uses the translation domain and POT file of the main program, then
the previous sections apply without changes.)
</p>
<ol>
<li> The library code doesn&rsquo;t call <code>setlocale (LC_ALL, &quot;&quot;)</code>.  It&rsquo;s the
responsibility of the main program to set the locale.  The library&rsquo;s
documentation should mention this fact, so that developers of programs
using the library are aware of it.

</li><li> The library code doesn&rsquo;t call <code>textdomain (PACKAGE)</code>, because it
would interfere with the text domain set by the main program.

</li><li> The initialization code for a program was

<div class="example">
<pre class="example">  setlocale (LC_ALL, &quot;&quot;);
  bindtextdomain (PACKAGE, LOCALEDIR);
  textdomain (PACKAGE);
</pre></div>

<p>For a library it is reduced to
</p>
<div class="example">
<pre class="example">  bindtextdomain (PACKAGE, LOCALEDIR);
</pre></div>

<p>If your library&rsquo;s API doesn&rsquo;t already have an initialization function,
you need to create one, containing at least the <code>bindtextdomain</code>
invocation.  However, you usually don&rsquo;t need to export and document this
initialization function: It is sufficient that all entry points of the
library call the initialization function if it hasn&rsquo;t been called before.
The typical idiom used to achieve this is a static boolean variable that
indicates whether the initialization function has been called.  If the
library is meant to be used in multithreaded applications, this variable
needs to be marked <code>volatile</code>, so that its value get propagated
between threads. Like this:
</p>
<div class="example">
<pre class="example">static volatile bool libfoo_initialized;

static void
libfoo_initialize (void)
{
  bindtextdomain (PACKAGE, LOCALEDIR);
  libfoo_initialized = true;
}

/* This function is part of the exported API.  */
struct foo *
create_foo (...)
{
  /* Must ensure the initialization is performed.  */
  if (!libfoo_initialized)
    libfoo_initialize ();
  ...
}

/* This function is part of the exported API.  The argument must be
   non-NULL and have been created through create_foo().  */
int
foo_refcount (struct foo *argument)
{
  /* No need to invoke the initialization function here, because
     create_foo() must already have been called before.  */
  ...
}
</pre></div>

<p>The more general solution for initialization functions, POSIX
<code>pthread_once</code>, is not needed in this case.
</p>
</li><li> The usual declaration of the &lsquo;<samp>_</samp>&rsquo; macro in each source file was

<div class="example">
<pre class="example">#include &lt;libintl.h&gt;
#define _(String) gettext (String)
</pre></div>

<p>for a program.  For a library, which has its own translation domain,
it reads like this:
</p>
<div class="example">
<pre class="example">#include &lt;libintl.h&gt;
#define _(String) dgettext (PACKAGE, String)
</pre></div>

<p>In other words, <code>dgettext</code> is used instead of <code>gettext</code>.
Similarly, the <code>dngettext</code> function should be used in place of the
<code>ngettext</code> function.
</p></li></ol>

<hr>
</div>
</div>
<div class="chapter" id="Template">
<div class="header">
<p>
Next: <a href="#Creating" accesskey="n" rel="next">Creating a New PO File</a>, Previous: <a href="#Sources" accesskey="p" rel="prev">Preparing Program Sources</a>, Up: <a href="#Top" accesskey="u" rel="up">GNU <code>gettext</code> utilities</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Program-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Making-the-PO-Template-File"></span><h2 class="chapter">5 Making the PO Template File</h2>
<span id="index-PO-template-file"></span>

<p>After preparing the sources, the programmer creates a PO template file.
This section explains how to use <code>xgettext</code> for this purpose.
</p>
<p><code>xgettext</code> creates a file named <samp><var>domainname</var>.po</samp>.  You
should then rename it to <samp><var>domainname</var>.pot</samp>.  (Why doesn&rsquo;t
<code>xgettext</code> create it under the name <samp><var>domainname</var>.pot</samp>
right away?  The answer is: for historical reasons.  When <code>xgettext</code>
was specified, the distinction between a PO file and PO file template
was fuzzy, and the suffix &lsquo;<samp>.pot</samp>&rsquo; wasn&rsquo;t in use at that time.)
</p>


<ul class="section-toc">
<li><a href="#xgettext-Invocation" accesskey="1">Invoking the <code>xgettext</code> Program</a></li>
</ul>
<hr>
<div class="section" id="xgettext-Invocation">
<div class="header">
<p>
Up: <a href="#Template" accesskey="u" rel="up">Making the PO Template File</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Program-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Invoking-the-xgettext-Program"></span><h3 class="section">5.1 Invoking the <code>xgettext</code> Program</h3>


<span id="index-xgettext"></span>
<span id="index-xgettext-program_002c-usage"></span>
<div class="example">
<pre class="example">xgettext [<var>option</var>] [<var>inputfile</var>] &hellip;
</pre></div>

<p>The <code>xgettext</code> program extracts translatable strings from given
input files.
</p>
<ul class="section-toc">
<li><a href="#Input-file-location" accesskey="1">Input file location</a></li>
<li><a href="#Output-file-location" accesskey="2">Output file location</a></li>
<li><a href="#Choice-of-input-file-language" accesskey="3">Choice of input file language</a></li>
<li><a href="#Input-file-interpretation" accesskey="4">Input file interpretation</a></li>
<li><a href="#Operation-mode" accesskey="5">Operation mode</a></li>
<li><a href="#Language-specific-options" accesskey="6">Language specific options</a></li>
<li><a href="#Output-details" accesskey="7">Output details</a></li>
<li><a href="#Informative-output" accesskey="8">Informative output</a></li>
</ul>
<div class="subsection" id="Input-file-location">
<h4 class="subsection">5.1.1 Input file location</h4>

<dl compact="compact">
<dt><span>&lsquo;<samp><var>inputfile</var> &hellip;</samp>&rsquo;</span></dt>
<dd><p>Input files.
</p>
</dd>
<dt id='index-_002df_002c-xgettext-option'><span>&lsquo;<samp>-f <var>file</var></samp>&rsquo;<a href='#index-_002df_002c-xgettext-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--files-from=<var>file</var></samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dfiles_002dfrom_002c-xgettext-option"></span>
<p>Read the names of the input files from <var>file</var> instead of getting
them from the command line.
</p>
</dd>
<dt id='index-_002dD_002c-xgettext-option'><span>&lsquo;<samp>-D <var>directory</var></samp>&rsquo;<a href='#index-_002dD_002c-xgettext-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--directory=<var>directory</var></samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002ddirectory_002c-xgettext-option"></span>
<p>Add <var>directory</var> to the list of directories.  Source files are
searched relative to this list of directories.  The resulting <samp>.po</samp>
file will be written relative to the current directory, though.
</p>
</dd>
</dl>

<p>If <var>inputfile</var> is &lsquo;<samp>-</samp>&rsquo;, standard input is read.
</p>
</div>
<div class="subsection" id="Output-file-location">
<h4 class="subsection">5.1.2 Output file location</h4>

<dl compact="compact">
<dt id='index-_002dd_002c-xgettext-option'><span>&lsquo;<samp>-d <var>name</var></samp>&rsquo;<a href='#index-_002dd_002c-xgettext-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--default-domain=<var>name</var></samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002ddefault_002ddomain_002c-xgettext-option"></span>
<p>Use <samp><var>name</var>.po</samp> for output (instead of <samp>messages.po</samp>).
</p>
</dd>
<dt id='index-_002do_002c-xgettext-option'><span>&lsquo;<samp>-o <var>file</var></samp>&rsquo;<a href='#index-_002do_002c-xgettext-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--output=<var>file</var></samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002doutput_002c-xgettext-option"></span>
<p>Write output to specified file (instead of <samp><var>name</var>.po</samp> or
<samp>messages.po</samp>).
</p>
</dd>
<dt id='index-_002dp_002c-xgettext-option'><span>&lsquo;<samp>-p <var>dir</var></samp>&rsquo;<a href='#index-_002dp_002c-xgettext-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--output-dir=<var>dir</var></samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002doutput_002ddir_002c-xgettext-option"></span>
<p>Output files will be placed in directory <var>dir</var>.
</p>
</dd>
</dl>

<span id="index-output-to-stdout_002c-xgettext"></span>
<p>If the output <var>file</var> is &lsquo;<samp>-</samp>&rsquo; or &lsquo;<samp>/dev/stdout</samp>&rsquo;, the output
is written to standard output.
</p>
</div>
<div class="subsection" id="Choice-of-input-file-language">
<h4 class="subsection">5.1.3 Choice of input file language</h4>

<dl compact="compact">
<dt id='index-_002dL_002c-xgettext-option'><span>&lsquo;<samp>-L <var>name</var></samp>&rsquo;<a href='#index-_002dL_002c-xgettext-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--language=<var>name</var></samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dlanguage_002c-xgettext-option"></span>
<span id="index-supported-languages_002c-xgettext"></span>
<p>Specifies the language of the input files.  The supported languages
are <code>C</code>, <code>C++</code>, <code>ObjectiveC</code>, <code>PO</code>, <code>Shell</code>,
<code>Python</code>, <code>Lisp</code>, <code>EmacsLisp</code>, <code>librep</code>, <code>Scheme</code>,
<code>Smalltalk</code>, <code>Java</code>, <code>JavaProperties</code>, <code>C#</code>, <code>awk</code>,
<code>YCP</code>, <code>Tcl</code>, <code>Perl</code>, <code>PHP</code>, <code>Ruby</code>,
<code>GCC-source</code>, <code>NXStringTable</code>, <code>RST</code>, <code>RSJ</code>, <code>Glade</code>,
<code>Lua</code>, <code>JavaScript</code>, <code>Vala</code>, <code>GSettings</code>, <code>Desktop</code>.
</p>
</dd>
<dt id='index-_002dC_002c-xgettext-option'><span>&lsquo;<samp>-C</samp>&rsquo;<a href='#index-_002dC_002c-xgettext-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--c++</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dc_002b_002b_002c-xgettext-option"></span>
<p>This is a shorthand for <code>--language=C++</code>.
</p>
</dd>
</dl>

<p>By default the language is guessed depending on the input file name
extension.
</p>
</div>
<div class="subsection" id="Input-file-interpretation">
<h4 class="subsection">5.1.4 Input file interpretation</h4>

<dl compact="compact">
<dt id='index-_002d_002dfrom_002dcode_002c-xgettext-option'><span>&lsquo;<samp>--from-code=<var>name</var></samp>&rsquo;<a href='#index-_002d_002dfrom_002dcode_002c-xgettext-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Specifies the encoding of the input files.  This option is needed only
if some untranslated message strings or their corresponding comments
contain non-ASCII characters.  Note that Tcl and Glade input files are
always assumed to be in UTF-8, regardless of this option.
</p>
</dd>
</dl>

<p>By default the input files are assumed to be in ASCII.
</p>
</div>
<div class="subsection" id="Operation-mode">
<h4 class="subsection">5.1.5 Operation mode</h4>

<dl compact="compact">
<dt id='index-_002dj_002c-xgettext-option'><span>&lsquo;<samp>-j</samp>&rsquo;<a href='#index-_002dj_002c-xgettext-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--join-existing</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002djoin_002dexisting_002c-xgettext-option"></span>
<p>Join messages with existing file.
</p>
</dd>
<dt id='index-_002dx_002c-xgettext-option'><span>&lsquo;<samp>-x <var>file</var></samp>&rsquo;<a href='#index-_002dx_002c-xgettext-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--exclude-file=<var>file</var></samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dexclude_002dfile_002c-xgettext-option"></span>
<p>Entries from <var>file</var> are not extracted.  <var>file</var> should be a PO or
POT file.
</p>
</dd>
<dt id='index-_002dc_002c-xgettext-option'><span>&lsquo;<samp>-c[<var>tag</var>]</samp>&rsquo;<a href='#index-_002dc_002c-xgettext-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--add-comments[=<var>tag</var>]</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dadd_002dcomments_002c-xgettext-option"></span>
<p>Place comment blocks starting with <var>tag</var> and preceding keyword lines
in the output file.  Without a <var>tag</var>, the option means to put <em>all</em>
comment blocks preceding keyword lines in the output file.
</p>
<p>Note that comment blocks supposed to be extracted must be adjacent to
keyword lines.  For example, in the following C source code:
</p>
<div class="example">
<pre class="example">/* This is the first comment.  */
gettext (&quot;foo&quot;);

/* This is the second comment: not extracted  */
gettext (
  &quot;bar&quot;);

gettext (
  /* This is the third comment.  */
  &quot;baz&quot;);
</pre></div>

<p>The second comment line will not be extracted, because there is one
blank line between the comment line and the keyword.
</p>
</dd>
<dt id='index-_002d_002dcheck_002c-xgettext-option'><span>&lsquo;<samp>--check[=<var>CHECK</var>]</samp>&rsquo;<a href='#index-_002d_002dcheck_002c-xgettext-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><span id="index-supported-syntax-checks_002c-xgettext"></span>
<p>Perform a syntax check on msgid and msgid_plural.  The supported checks
are:
</p>
<dl compact="compact">
<dt><span>&lsquo;<samp>ellipsis-unicode</samp>&rsquo;</span></dt>
<dd><p>Prefer Unicode ellipsis character over ASCII <code>...</code>
</p>
</dd>
<dt><span>&lsquo;<samp>space-ellipsis</samp>&rsquo;</span></dt>
<dd><p>Prohibit whitespace before an ellipsis character
</p>
</dd>
<dt><span>&lsquo;<samp>quote-unicode</samp>&rsquo;</span></dt>
<dd><p>Prefer Unicode quotation marks over ASCII <code>&quot;'`</code>
</p>
</dd>
<dt><span>&lsquo;<samp>bullet-unicode</samp>&rsquo;</span></dt>
<dd><p>Prefer Unicode bullet character over ASCII <code>*</code> or <code>-</code>
</p>
</dd>
</dl>

<p>The option has an effect on all input files.  To enable or disable
checks for a certain string, you can mark it with an <code>xgettext:</code>
special comment in the source file.  For example, if you specify the
<code>--check=space-ellipsis</code> option, but want to suppress the check on
a particular string, add the following comment:
</p>
<div class="example">
<pre class="example">/* xgettext: no-space-ellipsis-check */
gettext (&quot;We really want a space before ellipsis here ...&quot;);
</pre></div>

<p>The <code>xgettext:</code> comment can be followed by flags separated with a
comma.  The possible flags are of the form &lsquo;<samp>[no-]<var>name</var>-check</samp>&rsquo;,
where <var>name</var> is the name of a valid syntax check.  If a flag is
prefixed by <code>no-</code>, the meaning is negated.
</p>
<p>Some tests apply the checks to each sentence within the msgid, rather
than the whole string.  xgettext detects the end of sentence by
performing a pattern match, which usually looks for a period followed by
a certain number of spaces.  The number is specified with the
<code>--sentence-end</code> option.
</p>
</dd>
<dt id='index-_002d_002dsentence_002dend_002c-xgettext-option'><span>&lsquo;<samp>--sentence-end[=<var>TYPE</var>]</samp>&rsquo;<a href='#index-_002d_002dsentence_002dend_002c-xgettext-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><span id="index-sentence-end-markers_002c-xgettext"></span>
<p>The supported values are:
</p>
<dl compact="compact">
<dt><span>&lsquo;<samp>single-space</samp>&rsquo;</span></dt>
<dd><p>Expect at least one whitespace after a period
</p>
</dd>
<dt><span>&lsquo;<samp>double-space</samp>&rsquo;</span></dt>
<dd><p>Expect at least two whitespaces after a period
</p>
</dd>
</dl>

</dd>
</dl>

</div>
<div class="subsection" id="Language-specific-options">
<h4 class="subsection">5.1.6 Language specific options</h4>

<dl compact="compact">
<dt id='index-_002da_002c-xgettext-option'><span>&lsquo;<samp>-a</samp>&rsquo;<a href='#index-_002da_002c-xgettext-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--extract-all</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dextract_002dall_002c-xgettext-option"></span>
<p>Extract all strings.
</p>
<p>This option has an effect with most languages, namely C, C++, ObjectiveC,
Shell, Python, Lisp, EmacsLisp, librep, Java, C#, awk, Tcl, Perl, PHP,
GCC-source, Glade, Lua, JavaScript, Vala, GSettings.
</p>
</dd>
<dt id='index-_002dk_002c-xgettext-option'><span>&lsquo;<samp>-k[<var>keywordspec</var>]</samp>&rsquo;<a href='#index-_002dk_002c-xgettext-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--keyword[=<var>keywordspec</var>]</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dkeyword_002c-xgettext-option"></span>
<p>Specify <var>keywordspec</var> as an additional keyword to be looked for.
Without a <var>keywordspec</var>, the option means to not use default keywords.
</p>
<span id="index-adding-keywords_002c-xgettext"></span>
<span id="index-context_002c-argument-specification-in-xgettext"></span>
<p>If <var>keywordspec</var> is a C identifier <var>id</var>, <code>xgettext</code> looks
for strings in the first argument of each call to the function or macro
<var>id</var>.  If <var>keywordspec</var> is of the form
&lsquo;<samp><var>id</var>:<var>argnum</var></samp>&rsquo;, <code>xgettext</code> looks for strings in the
<var>argnum</var>th argument of the call.  If <var>keywordspec</var> is of the form
&lsquo;<samp><var>id</var>:<var>argnum1</var>,<var>argnum2</var></samp>&rsquo;, <code>xgettext</code> looks for
strings in the <var>argnum1</var>st argument and in the <var>argnum2</var>nd argument
of the call, and treats them as singular/plural variants for a message
with plural handling.  Also, if <var>keywordspec</var> is of the form
&lsquo;<samp><var>id</var>:<var>contextargnum</var>c,<var>argnum</var></samp>&rsquo; or
&lsquo;<samp><var>id</var>:<var>argnum</var>,<var>contextargnum</var>c</samp>&rsquo;, <code>xgettext</code> treats
strings in the <var>contextargnum</var>th argument as a context specifier.
And, as a special-purpose support for GNOME, if <var>keywordspec</var> is of the
form &lsquo;<samp><var>id</var>:<var>argnum</var>g</samp>&rsquo;, <code>xgettext</code> recognizes the
<var>argnum</var>th argument as a string with context, using the GNOME <code>glib</code>
syntax &lsquo;<samp>&quot;msgctxt|msgid&quot;</samp>&rsquo;.
<br>
Furthermore, if <var>keywordspec</var> is of the form
&lsquo;<samp><var>id</var>:&hellip;,<var>totalnumargs</var>t</samp>&rsquo;, <code>xgettext</code> recognizes this
argument specification only if the number of actual arguments is equal to
<var>totalnumargs</var>.  This is useful for disambiguating overloaded function
calls in C++.
<br>
Finally, if <var>keywordspec</var> is of the form
&lsquo;<samp><var>id</var>:<var>argnum</var>...,&quot;<var>xcomment</var>&quot;</samp>&rsquo;, <code>xgettext</code>, when
extracting a message from the specified argument strings, adds an extracted
comment <var>xcomment</var> to the message.  Note that when used through a normal
shell command line, the double-quotes around the <var>xcomment</var> need to be
escaped.
</p>
<p>This option has an effect with most languages, namely C, C++, ObjectiveC,
Shell, Python, Lisp, EmacsLisp, librep, Java, C#, awk, Tcl, Perl, PHP,
GCC-source, Glade, Lua, JavaScript, Vala, GSettings, Desktop.
</p>
<p>The default keyword specifications, which are always looked for if not
explicitly disabled, are language dependent.  They are:
</p>
<ul>
<li> For C, C++, and GCC-source: <code>gettext</code>, <code>dgettext:2</code>,
<code>dcgettext:2</code>, <code>ngettext:1,2</code>, <code>dngettext:2,3</code>,
<code>dcngettext:2,3</code>, <code>gettext_noop</code>, and <code>pgettext:1c,2</code>,
<code>dpgettext:2c,3</code>, <code>dcpgettext:2c,3</code>, <code>npgettext:1c,2,3</code>,
<code>dnpgettext:2c,3,4</code>, <code>dcnpgettext:2c,3,4</code>.

</li><li> For Objective C: Like for C, and also <code>NSLocalizedString</code>, <code>_</code>,
<code>NSLocalizedStaticString</code>, <code>__</code>.

</li><li> For Shell scripts: <code>gettext</code>, <code>ngettext:1,2</code>, <code>eval_gettext</code>,
<code>eval_ngettext:1,2</code>, <code>eval_pgettext:1c,2</code>,
<code>eval_npgettext:1c,2,3</code>.

</li><li> For Python: <code>gettext</code>, <code>ugettext</code>, <code>dgettext:2</code>,
<code>ngettext:1,2</code>, <code>ungettext:1,2</code>, <code>dngettext:2,3</code>, <code>_</code>.

</li><li> For Lisp: <code>gettext</code>, <code>ngettext:1,2</code>, <code>gettext-noop</code>.

</li><li> For EmacsLisp: <code>_</code>.

</li><li> For librep: <code>_</code>.

</li><li> For Scheme: <code>gettext</code>, <code>ngettext:1,2</code>, <code>gettext-noop</code>.

</li><li> For Java: <code>GettextResource.gettext:2</code>,
<code>GettextResource.ngettext:2,3</code>, <code>GettextResource.pgettext:2c,3</code>,
<code>GettextResource.npgettext:2c,3,4</code>, <code>gettext</code>, <code>ngettext:1,2</code>,
<code>pgettext:1c,2</code>, <code>npgettext:1c,2,3</code>, <code>getString</code>.

</li><li> For C#: <code>GetString</code>, <code>GetPluralString:1,2</code>,
<code>GetParticularString:1c,2</code>, <code>GetParticularPluralString:1c,2,3</code>.

</li><li> For awk: <code>dcgettext</code>, <code>dcngettext:1,2</code>.

</li><li> For Tcl: <code>::msgcat::mc</code>.

</li><li> For Perl: <code>gettext</code>, <code>%gettext</code>, <code>$gettext</code>, <code>dgettext:2</code>,
<code>dcgettext:2</code>, <code>ngettext:1,2</code>, <code>dngettext:2,3</code>,
<code>dcngettext:2,3</code>, <code>gettext_noop</code>.

</li><li> For PHP: <code>_</code>, <code>gettext</code>, <code>dgettext:2</code>, <code>dcgettext:2</code>,
<code>ngettext:1,2</code>, <code>dngettext:2,3</code>, <code>dcngettext:2,3</code>.

</li><li> For Glade 1: <code>label</code>, <code>title</code>, <code>text</code>, <code>format</code>,
<code>copyright</code>, <code>comments</code>, <code>preview_text</code>, <code>tooltip</code>.

</li><li> For Lua: <code>_</code>, <code>gettext.gettext</code>, <code>gettext.dgettext:2</code>,
<code>gettext.dcgettext:2</code>, <code>gettext.ngettext:1,2</code>,
<code>gettext.dngettext:2,3</code>, <code>gettext.dcngettext:2,3</code>.

</li><li> For JavaScript: <code>_</code>, <code>gettext</code>, <code>dgettext:2</code>,
<code>dcgettext:2</code>, <code>ngettext:1,2</code>, <code>dngettext:2,3</code>,
<code>pgettext:1c,2</code>, <code>dpgettext:2c,3</code>.

</li><li> For Vala: <code>_</code>, <code>Q_</code>, <code>N_</code>, <code>NC_</code>, <code>dgettext:2</code>,
<code>dcgettext:2</code>, <code>ngettext:1,2</code>, <code>dngettext:2,3</code>,
<code>dpgettext:2c,3</code>, <code>dpgettext2:2c,3</code>.

</li><li> For Desktop: <code>Name</code>, <code>GenericName</code>, <code>Comment</code>,
<code>Keywords</code>.
</li></ul>

<p>To disable the default keyword specifications, the option &lsquo;<samp>-k</samp>&rsquo; or
&lsquo;<samp>--keyword</samp>&rsquo; or &lsquo;<samp>--keyword=</samp>&rsquo;, without a <var>keywordspec</var>, can be
used.
</p>
</dd>
<dt id='index-_002d_002dflag_002c-xgettext-option'><span>&lsquo;<samp>--flag=<var>word</var>:<var>arg</var>:<var>flag</var></samp>&rsquo;<a href='#index-_002d_002dflag_002c-xgettext-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Specifies additional flags for strings occurring as part of the <var>arg</var>th
argument of the function <var>word</var>.  The possible flags are the possible
format string indicators, such as &lsquo;<samp>c-format</samp>&rsquo;, and their negations,
such as &lsquo;<samp>no-c-format</samp>&rsquo;, possibly prefixed with &lsquo;<samp>pass-</samp>&rsquo;.
<br>
<span id="index-function-attribute_002c-_005f_005fformat_005f_005f"></span>
The meaning of <code>--flag=<var>function</var>:<var>arg</var>:<var>lang</var>-format</code>
is that in language <var>lang</var>, the specified <var>function</var> expects as
<var>arg</var>th argument a format string.  (For those of you familiar with
GCC function attributes, <code>--flag=<var>function</var>:<var>arg</var>:c-format</code> is
roughly equivalent to the declaration
&lsquo;<samp>__attribute__ ((__format__ (__printf__, <var>arg</var>, ...)))</samp>&rsquo; attached
to <var>function</var> in a C source file.)
For example, if you use the &lsquo;<samp>error</samp>&rsquo; function from GNU libc, you can
specify its behaviour through <code>--flag=error:3:c-format</code>.  The effect of
this specification is that <code>xgettext</code> will mark as format strings all
<code>gettext</code> invocations that occur as <var>arg</var>th argument of
<var>function</var>.
This is useful when such strings contain no format string directives:
together with the checks done by &lsquo;<samp>msgfmt -c</samp>&rsquo; it will ensure that
translators cannot accidentally use format string directives that would
lead to a crash at runtime.
<br>
<span id="index-function-attribute_002c-_005f_005fformat_005farg_005f_005f"></span>
The meaning of <code>--flag=<var>function</var>:<var>arg</var>:pass-<var>lang</var>-format</code>
is that in language <var>lang</var>, if the <var>function</var> call occurs in a
position that must yield a format string, then its <var>arg</var>th argument
must yield a format string of the same type as well.  (If you know GCC
function attributes, the <code>--flag=<var>function</var>:<var>arg</var>:pass-c-format</code>
option is roughly equivalent to the declaration
&lsquo;<samp>__attribute__ ((__format_arg__ (<var>arg</var>)))</samp>&rsquo; attached to <var>function</var>
in a C source file.)
For example, if you use the &lsquo;<samp>_</samp>&rsquo; shortcut for the <code>gettext</code> function,
you should use <code>--flag=_:1:pass-c-format</code>.  The effect of this
specification is that <code>xgettext</code> will propagate a format string
requirement for a <code>_(&quot;string&quot;)</code> call to its first argument, the literal
<code>&quot;string&quot;</code>, and thus mark it as a format string.
This is useful when such strings contain no format string directives:
together with the checks done by &lsquo;<samp>msgfmt -c</samp>&rsquo; it will ensure that
translators cannot accidentally use format string directives that would
lead to a crash at runtime.
<br>
This option has an effect with most languages, namely C, C++, ObjectiveC,
Shell, Python, Lisp, EmacsLisp, librep, Scheme, Java, C#, awk, YCP, Tcl, Perl, PHP,
GCC-source, Lua, JavaScript, Vala.
</p>
</dd>
<dt id='index-_002dT_002c-xgettext-option'><span>&lsquo;<samp>-T</samp>&rsquo;<a href='#index-_002dT_002c-xgettext-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--trigraphs</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dtrigraphs_002c-xgettext-option"></span>
<span id="index-C-trigraphs"></span>
<p>Understand ANSI C trigraphs for input.
<br>
This option has an effect only with the languages C, C++, ObjectiveC.
</p>
</dd>
<dt id='index-_002d_002dqt_002c-xgettext-option'><span>&lsquo;<samp>--qt</samp>&rsquo;<a href='#index-_002d_002dqt_002c-xgettext-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><span id="index-Qt-format-strings"></span>
<p>Recognize Qt format strings.
<br>
This option has an effect only with the language C++.
</p>
</dd>
<dt id='index-_002d_002dkde_002c-xgettext-option'><span>&lsquo;<samp>--kde</samp>&rsquo;<a href='#index-_002d_002dkde_002c-xgettext-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><span id="index-KDE-format-strings"></span>
<p>Recognize KDE 4 format strings.
<br>
This option has an effect only with the language C++.
</p>
</dd>
<dt id='index-_002d_002dboost_002c-xgettext-option'><span>&lsquo;<samp>--boost</samp>&rsquo;<a href='#index-_002d_002dboost_002c-xgettext-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><span id="index-Boost-format-strings"></span>
<p>Recognize Boost format strings.
<br>
This option has an effect only with the language C++.
</p>
</dd>
<dt id='index-_002d_002ddebug_002c-xgettext-option'><span>&lsquo;<samp>--debug</samp>&rsquo;<a href='#index-_002d_002ddebug_002c-xgettext-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><span id="index-debugging-messages-marked-as-format-strings"></span>
<p>Use the flags <code>c-format</code> and <code>possible-c-format</code> to show who was
responsible for marking a message as a format string.  The latter form is
used if the <code>xgettext</code> program decided, the former form is used if
the programmer prescribed it.
</p>
<p>By default only the <code>c-format</code> form is used.  The translator should
not have to care about these details.
</p>
</dd>
</dl>

<p>This implementation of <code>xgettext</code> is able to process a few awkward
cases, like strings in preprocessor macros, ANSI concatenation of
adjacent strings, and escaped end of lines for continued strings.
</p>
</div>
<div class="subsection" id="Output-details">
<h4 class="subsection">5.1.7 Output details</h4>


<dl compact="compact">
<dt id='index-_002d_002dcolor_002c-xgettext-option'><span>&lsquo;<samp>--color</samp>&rsquo;<a href='#index-_002d_002dcolor_002c-xgettext-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--color=<var>when</var></samp>&rsquo;</span></dt>
<dd><p>Specify whether or when to use colors and other text attributes.
See <a href="#The-_002d_002dcolor-option">The <code>--color</code> option</a> for details.
</p>
</dd>
<dt id='index-_002d_002dstyle_002c-xgettext-option'><span>&lsquo;<samp>--style=<var>style_file</var></samp>&rsquo;<a href='#index-_002d_002dstyle_002c-xgettext-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Specify the CSS style rule file to use for <code>--color</code>.
See <a href="#The-_002d_002dstyle-option">The <code>--style</code> option</a> for details.
</p>
</dd>
<dt id='index-_002d_002dforce_002dpo_002c-xgettext-option'><span>&lsquo;<samp>--force-po</samp>&rsquo;<a href='#index-_002d_002dforce_002dpo_002c-xgettext-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Always write an output file even if no message is defined.
</p>
</dd>
<dt id='index-_002di_002c-xgettext-option'><span>&lsquo;<samp>-i</samp>&rsquo;<a href='#index-_002di_002c-xgettext-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--indent</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dindent_002c-xgettext-option"></span>
<p>Write the .po file using indented style.
</p>
</dd>
<dt id='index-_002d_002dno_002dlocation_002c-xgettext-option'><span>&lsquo;<samp>--no-location</samp>&rsquo;<a href='#index-_002d_002dno_002dlocation_002c-xgettext-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Do not write &lsquo;<samp>#: <var>filename</var>:<var>line</var></samp>&rsquo; lines.  Note that using
this option makes it harder for technically skilled translators to understand
each message&rsquo;s context.
</p>
</dd>
<dt id='index-_002dn_002c-xgettext-option'><span>&lsquo;<samp>-n</samp>&rsquo;<a href='#index-_002dn_002c-xgettext-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--add-location=<var>type</var></samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dadd_002dlocation_002c-xgettext-option"></span>
<p>Generate &lsquo;<samp>#: <var>filename</var>:<var>line</var></samp>&rsquo; lines (default).
</p>
<p>The optional <var>type</var> can be either &lsquo;<samp>full</samp>&rsquo;, &lsquo;<samp>file</samp>&rsquo;, or
&lsquo;<samp>never</samp>&rsquo;.  If it is not given or &lsquo;<samp>full</samp>&rsquo;, it generates the
lines with both file name and line number.  If it is &lsquo;<samp>file</samp>&rsquo;, the
line number part is omitted.  If it is &lsquo;<samp>never</samp>&rsquo;, it completely
suppresses the lines (same as <code>--no-location</code>).
</p>
</dd>
<dt id='index-_002d_002dstrict_002c-xgettext-option'><span>&lsquo;<samp>--strict</samp>&rsquo;<a href='#index-_002d_002dstrict_002c-xgettext-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Write out a strict Uniforum conforming PO file.  Note that this
Uniforum format should be avoided because it doesn&rsquo;t support the
GNU extensions.
</p>
</dd>
<dt id='index-_002d_002dproperties_002doutput_002c-xgettext-option'><span>&lsquo;<samp>--properties-output</samp>&rsquo;<a href='#index-_002d_002dproperties_002doutput_002c-xgettext-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Write out a Java ResourceBundle in Java <code>.properties</code> syntax.  Note
that this file format doesn&rsquo;t support plural forms and silently drops
obsolete messages.
</p>
</dd>
<dt id='index-_002d_002dstringtable_002doutput_002c-xgettext-option'><span>&lsquo;<samp>--stringtable-output</samp>&rsquo;<a href='#index-_002d_002dstringtable_002doutput_002c-xgettext-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Write out a NeXTstep/GNUstep localized resource file in <code>.strings</code> syntax.
Note that this file format doesn&rsquo;t support plural forms.
</p>
</dd>
<dt id='index-_002d_002dits_002c-xgettext-option'><span>&lsquo;<samp>--its=<var>file</var></samp>&rsquo;<a href='#index-_002d_002dits_002c-xgettext-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Use ITS rules defined in <var>file</var>.
Note that this is only effective with XML files.
</p>
</dd>
<dt id='index-_002d_002ditstool_002c-xgettext-option'><span>&lsquo;<samp>--itstool</samp>&rsquo;<a href='#index-_002d_002ditstool_002c-xgettext-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Write out comments recognized by itstool (<a href="http://itstool.org">http://itstool.org</a>).
Note that this is only effective with XML files.
</p>
</dd>
<dt id='index-_002dw_002c-xgettext-option'><span>&lsquo;<samp>-w <var>number</var></samp>&rsquo;<a href='#index-_002dw_002c-xgettext-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--width=<var>number</var></samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dwidth_002c-xgettext-option"></span>
<p>Set the output page width.  Long strings in the output files will be
split across multiple lines in order to ensure that each line&rsquo;s width
(= number of screen columns) is less or equal to the given <var>number</var>.
</p>
</dd>
<dt id='index-_002d_002dno_002dwrap_002c-xgettext-option'><span>&lsquo;<samp>--no-wrap</samp>&rsquo;<a href='#index-_002d_002dno_002dwrap_002c-xgettext-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Do not break long message lines.  Message lines whose width exceeds the
output page width will not be split into several lines.  Only file reference
lines which are wider than the output page width will be split.
</p>
</dd>
<dt id='index-_002ds_002c-xgettext-option'><span>&lsquo;<samp>-s</samp>&rsquo;<a href='#index-_002ds_002c-xgettext-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--sort-output</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dsort_002doutput_002c-xgettext-option"></span>
<span id="index-sorting-output-of-xgettext"></span>
<p>Generate sorted output.  Note that using this option makes it much harder
for the translator to understand each message&rsquo;s context.
</p>
</dd>
<dt id='index-_002dF_002c-xgettext-option'><span>&lsquo;<samp>-F</samp>&rsquo;<a href='#index-_002dF_002c-xgettext-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--sort-by-file</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dsort_002dby_002dfile_002c-xgettext-option"></span>
<p>Sort output by file location.
</p>
</dd>
<dt id='index-_002d_002domit_002dheader_002c-xgettext-option'><span>&lsquo;<samp>--omit-header</samp>&rsquo;<a href='#index-_002d_002domit_002dheader_002c-xgettext-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Don&rsquo;t write header with &lsquo;<samp>msgid &quot;&quot;</samp>&rsquo; entry.
</p>
<span id="index-testing-_002epo-files-for-equivalence"></span>
<p>This is useful for testing purposes because it eliminates a source
of variance for generated <code>.gmo</code> files.  With <code>--omit-header</code>,
two invocations of <code>xgettext</code> on the same files with the same
options at different times are guaranteed to produce the same results.
</p>
<p>Note that using this option will lead to an error if the resulting file
would not entirely be in ASCII.
</p>
</dd>
<dt id='index-_002d_002dcopyright_002dholder_002c-xgettext-option'><span>&lsquo;<samp>--copyright-holder=<var>string</var></samp>&rsquo;<a href='#index-_002d_002dcopyright_002dholder_002c-xgettext-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Set the copyright holder in the output.  <var>string</var> should be the
copyright holder of the surrounding package.  (Note that the msgstr
strings, extracted from the package&rsquo;s sources, belong to the copyright
holder of the package.)  Translators are expected to transfer or disclaim
the copyright for their translations, so that package maintainers can
distribute them without legal risk.  If <var>string</var> is empty, the output
files are marked as being in the public domain; in this case, the translators
are expected to disclaim their copyright, again so that package maintainers
can distribute them without legal risk.
</p>
<p>The default value for <var>string</var> is the Free Software Foundation, Inc.,
simply because <code>xgettext</code> was first used in the GNU project.
</p>
</dd>
<dt id='index-_002d_002dforeign_002duser_002c-xgettext-option'><span>&lsquo;<samp>--foreign-user</samp>&rsquo;<a href='#index-_002d_002dforeign_002duser_002c-xgettext-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Omit FSF copyright in output.  This option is equivalent to
&lsquo;<samp>--copyright-holder=''</samp>&rsquo;.  It can be useful for packages outside the GNU
project that want their translations to be in the public domain.
</p>
</dd>
<dt id='index-_002d_002dpackage_002dname_002c-xgettext-option'><span>&lsquo;<samp>--package-name=<var>package</var></samp>&rsquo;<a href='#index-_002d_002dpackage_002dname_002c-xgettext-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Set the package name in the header of the output.
</p>
</dd>
<dt id='index-_002d_002dpackage_002dversion_002c-xgettext-option'><span>&lsquo;<samp>--package-version=<var>version</var></samp>&rsquo;<a href='#index-_002d_002dpackage_002dversion_002c-xgettext-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Set the package version in the header of the output.  This option has an
effect only if the &lsquo;<samp>--package-name</samp>&rsquo; option is also used.
</p>
</dd>
<dt id='index-_002d_002dmsgid_002dbugs_002daddress_002c-xgettext-option'><span>&lsquo;<samp>--msgid-bugs-address=<var>email@address</var></samp>&rsquo;<a href='#index-_002d_002dmsgid_002dbugs_002daddress_002c-xgettext-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Set the reporting address for msgid bugs.  This is the email address or URL
to which the translators shall report bugs in the untranslated strings:
</p>
<ul class="no-bullet">
<li>- Strings which are not entire sentences; see the maintainer guidelines
in <a href="#Preparing-Strings">Preparing Translatable Strings</a>.
</li><li>- Strings which use unclear terms or require additional context to be
understood.
</li><li>- Strings which make invalid assumptions about notation of date, time or
money.
</li><li>- Pluralisation problems.
</li><li>- Incorrect English spelling.
</li><li>- Incorrect formatting.
</li></ul>

<p>It can be your email address, or a mailing list address where translators
can write to without being subscribed, or the URL of a web page through
which the translators can contact you.
</p>
<p>The default value is empty, which means that translators will be clueless!
Don&rsquo;t forget to specify this option.
</p>
</dd>
<dt id='index-_002dm_002c-xgettext-option'><span>&lsquo;<samp>-m[<var>string</var>]</samp>&rsquo;<a href='#index-_002dm_002c-xgettext-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--msgstr-prefix[=<var>string</var>]</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dmsgstr_002dprefix_002c-xgettext-option"></span>
<p>Use <var>string</var> (or &quot;&quot; if not specified) as prefix for msgstr values.
</p>
</dd>
<dt id='index-_002dM_002c-xgettext-option'><span>&lsquo;<samp>-M[<var>string</var>]</samp>&rsquo;<a href='#index-_002dM_002c-xgettext-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--msgstr-suffix[=<var>string</var>]</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dmsgstr_002dsuffix_002c-xgettext-option"></span>
<p>Use <var>string</var> (or &quot;&quot; if not specified) as suffix for msgstr values.
</p>
</dd>
</dl>

</div>
<div class="subsection" id="Informative-output">
<h4 class="subsection">5.1.8 Informative output</h4>

<dl compact="compact">
<dt id='index-_002dh_002c-xgettext-option'><span>&lsquo;<samp>-h</samp>&rsquo;<a href='#index-_002dh_002c-xgettext-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--help</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dhelp_002c-xgettext-option"></span>
<p>Display this help and exit.
</p>
</dd>
<dt id='index-_002dV_002c-xgettext-option'><span>&lsquo;<samp>-V</samp>&rsquo;<a href='#index-_002dV_002c-xgettext-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--version</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dversion_002c-xgettext-option"></span>
<p>Output version information and exit.
</p>
</dd>
<dt id='index-_002dv_002c-xgettext-option'><span>&lsquo;<samp>-v</samp>&rsquo;<a href='#index-_002dv_002c-xgettext-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--verbose</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dverbose_002c-xgettext-option"></span>
<p>Increase verbosity level.
</p>
</dd>
</dl>

<hr>
</div>
</div>
</div>
<div class="chapter" id="Creating">
<div class="header">
<p>
Next: <a href="#Updating" accesskey="n" rel="next">Updating Existing PO Files</a>, Previous: <a href="#Template" accesskey="p" rel="prev">Making the PO Template File</a>, Up: <a href="#Top" accesskey="u" rel="up">GNU <code>gettext</code> utilities</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Program-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Creating-a-New-PO-File"></span><h2 class="chapter">6 Creating a New PO File</h2>
<span id="index-creating-a-new-PO-file"></span>

<p>When starting a new translation, the translator creates a file called
<samp><var>LANG</var>.po</samp>, as a copy of the <samp><var>package</var>.pot</samp> template
file with modifications in the initial comments (at the beginning of the file)
and in the header entry (the first entry, near the beginning of the file).
</p>
<p>The easiest way to do so is by use of the &lsquo;<samp>msginit</samp>&rsquo; program.
For example:
</p>
<div class="example">
<pre class="example">$ cd <var>PACKAGE</var>-<var>VERSION</var>
$ cd po
$ msginit
</pre></div>

<p>The alternative way is to do the copy and modifications by hand.
To do so, the translator copies <samp><var>package</var>.pot</samp> to
<samp><var>LANG</var>.po</samp>.  Then she modifies the initial comments and
the header entry of this file.
</p>

<ul class="section-toc">
<li><a href="#msginit-Invocation" accesskey="1">Invoking the <code>msginit</code> Program</a></li>
<li><a href="#Header-Entry" accesskey="2">Filling in the Header Entry</a></li>
</ul>
<hr>
<div class="section" id="msginit-Invocation">
<div class="header">
<p>
Next: <a href="#Header-Entry" accesskey="n" rel="next">Filling in the Header Entry</a>, Up: <a href="#Creating" accesskey="u" rel="up">Creating a New PO File</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Program-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Invoking-the-msginit-Program"></span><h3 class="section">6.1 Invoking the <code>msginit</code> Program</h3>


<span id="index-msginit"></span>
<span id="index-msginit-program_002c-usage"></span>
<div class="example">
<pre class="example">msginit [<var>option</var>]
</pre></div>

<span id="index-create-new-PO-file"></span>
<span id="index-initialize-new-PO-file"></span>
<p>The <code>msginit</code> program creates a new PO file, initializing the meta
information with values from the user&rsquo;s environment.
</p>
<p>Here are more details.  The following header fields of a PO file are
automatically filled, when possible.
</p>
<dl compact="compact">
<dt><span>&lsquo;<samp>Project-Id-Version</samp>&rsquo;</span></dt>
<dd><p>The value is guessed from the <code>configure</code> script or any other files
in the current directory.
</p>
</dd>
<dt><span>&lsquo;<samp>PO-Revision-Date</samp>&rsquo;</span></dt>
<dd><p>The value is taken from the <code>PO-Creation-Data</code> in the input POT
file, or the current date is used.
</p>
</dd>
<dt><span>&lsquo;<samp>Last-Translator</samp>&rsquo;</span></dt>
<dd><p>The value is taken from user&rsquo;s password file entry and the mailer
configuration files.
</p>
</dd>
<dt><span>&lsquo;<samp>Language-Team, Language</samp>&rsquo;</span></dt>
<dd><p>These values are set according to the current locale and the predefined
list of translation teams.
</p>
</dd>
<dt><span>&lsquo;<samp>MIME-Version, Content-Type, Content-Transfer-Encoding</samp>&rsquo;</span></dt>
<dd><p>These values are set according to the content of the POT file and the
current locale.  If the POT file contains charset=UTF-8, it means that
the POT file contains non-ASCII characters, and we keep the UTF-8
encoding.  Otherwise, when the POT file is plain ASCII, we use the
locale&rsquo;s encoding.
</p>
</dd>
<dt><span>&lsquo;<samp>Plural-Forms</samp>&rsquo;</span></dt>
<dd><p>The value is first looked up from the embedded table.
</p>
<p>As an experimental feature, you can instruct <code>msginit</code> to use the
information from Unicode CLDR, by setting the <code>GETTEXTCLDRDIR</code>
environment variable.  The program will look for a file named
<code>common/supplemental/plurals.xml</code> under that directory.  You can
get the CLDR data from <a href="http://cldr.unicode.org/">http://cldr.unicode.org/</a>.
</p>
</dd>
</dl>

<ul class="section-toc">
<li><a href="#Input-file-location-1" accesskey="1">Input file location</a></li>
<li><a href="#Output-file-location-1" accesskey="2">Output file location</a></li>
<li><a href="#Input-file-syntax" accesskey="3">Input file syntax</a></li>
<li><a href="#Output-details-1" accesskey="4">Output details</a></li>
<li><a href="#Informative-output-1" accesskey="5">Informative output</a></li>
</ul>
<div class="subsection" id="Input-file-location-1">
<h4 class="subsection">6.1.1 Input file location</h4>

<dl compact="compact">
<dt id='index-_002di_002c-msginit-option'><span>&lsquo;<samp>-i <var>inputfile</var></samp>&rsquo;<a href='#index-_002di_002c-msginit-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--input=<var>inputfile</var></samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dinput_002c-msginit-option"></span>
<p>Input POT file.
</p>
</dd>
</dl>

<p>If no <var>inputfile</var> is given, the current directory is searched for the
POT file.  If it is &lsquo;<samp>-</samp>&rsquo;, standard input is read.
</p>
</div>
<div class="subsection" id="Output-file-location-1">
<h4 class="subsection">6.1.2 Output file location</h4>

<dl compact="compact">
<dt id='index-_002do_002c-msginit-option'><span>&lsquo;<samp>-o <var>file</var></samp>&rsquo;<a href='#index-_002do_002c-msginit-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--output-file=<var>file</var></samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002doutput_002dfile_002c-msginit-option"></span>
<p>Write output to specified PO file.
</p>
</dd>
</dl>

<p>If no output file is given, it depends on the &lsquo;<samp>--locale</samp>&rsquo; option or the
user&rsquo;s locale setting.  If it is &lsquo;<samp>-</samp>&rsquo;, the results are written to
standard output.
</p>
</div>
<div class="subsection" id="Input-file-syntax">
<h4 class="subsection">6.1.3 Input file syntax</h4>

<dl compact="compact">
<dt id='index-_002dP_002c-msginit-option'><span>&lsquo;<samp>-P</samp>&rsquo;<a href='#index-_002dP_002c-msginit-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--properties-input</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dproperties_002dinput_002c-msginit-option"></span>
<p>Assume the input file is a Java ResourceBundle in Java <code>.properties</code>
syntax, not in PO file syntax.
</p>
</dd>
<dt id='index-_002d_002dstringtable_002dinput_002c-msginit-option'><span>&lsquo;<samp>--stringtable-input</samp>&rsquo;<a href='#index-_002d_002dstringtable_002dinput_002c-msginit-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Assume the input file is a NeXTstep/GNUstep localized resource file in
<code>.strings</code> syntax, not in PO file syntax.
</p>
</dd>
</dl>

</div>
<div class="subsection" id="Output-details-1">
<h4 class="subsection">6.1.4 Output details</h4>

<dl compact="compact">
<dt id='index-_002dl_002c-msginit-option'><span>&lsquo;<samp>-l <var>ll_CC[.encoding]</var></samp>&rsquo;<a href='#index-_002dl_002c-msginit-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--locale=<var>ll_CC[.encoding]</var></samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dlocale_002c-msginit-option"></span>
<p>Set target locale.  <var>ll</var> should be a language code, and <var>CC</var> should
be a country code.  The optional part <var>.encoding</var> specifies the encoding
of the locale; most often this part is <code>.UTF-8</code>.
The command &lsquo;<samp>locale -a</samp>&rsquo; can be used to output a list
of all installed locales.  The default is the user&rsquo;s locale setting.
</p>
</dd>
<dt id='index-_002d_002dno_002dtranslator_002c-msginit-option'><span>&lsquo;<samp>--no-translator</samp>&rsquo;<a href='#index-_002d_002dno_002dtranslator_002c-msginit-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Declares that the PO file will not have a human translator and is instead
automatically generated.
</p>
</dd>
<dt id='index-_002d_002dcolor_002c-msginit-option'><span>&lsquo;<samp>--color</samp>&rsquo;<a href='#index-_002d_002dcolor_002c-msginit-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--color=<var>when</var></samp>&rsquo;</span></dt>
<dd><p>Specify whether or when to use colors and other text attributes.
See <a href="#The-_002d_002dcolor-option">The <code>--color</code> option</a> for details.
</p>
</dd>
<dt id='index-_002d_002dstyle_002c-msginit-option'><span>&lsquo;<samp>--style=<var>style_file</var></samp>&rsquo;<a href='#index-_002d_002dstyle_002c-msginit-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Specify the CSS style rule file to use for <code>--color</code>.
See <a href="#The-_002d_002dstyle-option">The <code>--style</code> option</a> for details.
</p>
</dd>
<dt id='index-_002dp_002c-msginit-option'><span>&lsquo;<samp>-p</samp>&rsquo;<a href='#index-_002dp_002c-msginit-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--properties-output</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dproperties_002doutput_002c-msginit-option"></span>
<p>Write out a Java ResourceBundle in Java <code>.properties</code> syntax.  Note
that this file format doesn&rsquo;t support plural forms and silently drops
obsolete messages.
</p>
</dd>
<dt id='index-_002d_002dstringtable_002doutput_002c-msginit-option'><span>&lsquo;<samp>--stringtable-output</samp>&rsquo;<a href='#index-_002d_002dstringtable_002doutput_002c-msginit-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Write out a NeXTstep/GNUstep localized resource file in <code>.strings</code> syntax.
Note that this file format doesn&rsquo;t support plural forms.
</p>
</dd>
<dt id='index-_002dw_002c-msginit-option'><span>&lsquo;<samp>-w <var>number</var></samp>&rsquo;<a href='#index-_002dw_002c-msginit-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--width=<var>number</var></samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dwidth_002c-msginit-option"></span>
<p>Set the output page width.  Long strings in the output files will be
split across multiple lines in order to ensure that each line&rsquo;s width
(= number of screen columns) is less or equal to the given <var>number</var>.
</p>
</dd>
<dt id='index-_002d_002dno_002dwrap_002c-msginit-option'><span>&lsquo;<samp>--no-wrap</samp>&rsquo;<a href='#index-_002d_002dno_002dwrap_002c-msginit-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Do not break long message lines.  Message lines whose width exceeds the
output page width will not be split into several lines.  Only file reference
lines which are wider than the output page width will be split.
</p>
</dd>
</dl>

</div>
<div class="subsection" id="Informative-output-1">
<h4 class="subsection">6.1.5 Informative output</h4>

<dl compact="compact">
<dt id='index-_002dh_002c-msginit-option'><span>&lsquo;<samp>-h</samp>&rsquo;<a href='#index-_002dh_002c-msginit-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--help</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dhelp_002c-msginit-option"></span>
<p>Display this help and exit.
</p>
</dd>
<dt id='index-_002dV_002c-msginit-option'><span>&lsquo;<samp>-V</samp>&rsquo;<a href='#index-_002dV_002c-msginit-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--version</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dversion_002c-msginit-option"></span>
<p>Output version information and exit.
</p>
</dd>
</dl>

<hr>
</div>
</div>
<div class="section" id="Header-Entry">
<div class="header">
<p>
Previous: <a href="#msginit-Invocation" accesskey="p" rel="prev">Invoking the <code>msginit</code> Program</a>, Up: <a href="#Creating" accesskey="u" rel="up">Creating a New PO File</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Program-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Filling-in-the-Header-Entry"></span><h3 class="section">6.2 Filling in the Header Entry</h3>
<span id="index-header-entry-of-a-PO-file"></span>

<p>The initial comments &quot;SOME DESCRIPTIVE TITLE&quot;, &quot;YEAR&quot; and
&quot;FIRST AUTHOR &lt;EMAIL@ADDRESS&gt;, YEAR&quot; ought to be replaced by sensible
information.  This can be done in any text editor; if Emacs is used
and it switched to PO mode automatically (because it has recognized
the file&rsquo;s suffix), you can disable it by typing <kbd>M-x fundamental-mode</kbd>.
</p>
<p>Modifying the header entry can already be done using PO mode: in Emacs,
type <kbd>M-x po-mode RET</kbd> and then <kbd>RET</kbd> again to start editing the
entry.  You should fill in the following fields.
</p>
<dl compact="compact">
<dt><span>Project-Id-Version</span></dt>
<dd><p>This is the name and version of the package.  Fill it in if it has not
already been filled in by <code>xgettext</code>.
</p>
</dd>
<dt><span>Report-Msgid-Bugs-To</span></dt>
<dd><p>This has already been filled in by <code>xgettext</code>.  It contains an email
address or URL where you can report bugs in the untranslated strings:
</p>
<ul class="no-bullet">
<li>- Strings which are not entire sentences, see the maintainer guidelines
in <a href="#Preparing-Strings">Preparing Translatable Strings</a>.
</li><li>- Strings which use unclear terms or require additional context to be
understood.
</li><li>- Strings which make invalid assumptions about notation of date, time or
money.
</li><li>- Pluralisation problems.
</li><li>- Incorrect English spelling.
</li><li>- Incorrect formatting.
</li></ul>

</dd>
<dt><span>POT-Creation-Date</span></dt>
<dd><p>This has already been filled in by <code>xgettext</code>.
</p>
</dd>
<dt><span>PO-Revision-Date</span></dt>
<dd><p>You don&rsquo;t need to fill this in.  It will be filled by the PO file editor
when you save the file.
</p>
</dd>
<dt><span>Last-Translator</span></dt>
<dd><p>Fill in your name and email address (without double quotes).
</p>
</dd>
<dt><span>Language-Team</span></dt>
<dd><p>Fill in the English name of the language, and the email address or
homepage URL of the language team you are part of.
</p>
<p>Before starting a translation, it is a good idea to get in touch with
your translation team, not only to make sure you don&rsquo;t do duplicated work,
but also to coordinate difficult linguistic issues.
</p>
<span id="index-list-of-translation-teams_002c-where-to-find"></span>
<p>In the Free Translation Project, each translation team has its own mailing
list.  The up-to-date list of teams can be found at the Free Translation
Project&rsquo;s homepage, <a href="https://translationproject.org/">https://translationproject.org/</a>, in the &quot;Teams&quot;
area.
</p>
</dd>
<dt><span>Language</span></dt>
<dd><p>Fill in the language code of the language.  This can be in one of three
forms:
</p>
<ul class="no-bullet">
<li>- &lsquo;<samp><var>ll</var></samp>&rsquo;, an ISO&nbsp;639<!-- /@w --> two-letter language code (lowercase).
See <a href="#Language-Codes">Language Codes</a> for the list of codes.

</li><li>- &lsquo;<samp><var>ll</var>_<var>CC</var></samp>&rsquo;, where &lsquo;<samp><var>ll</var></samp>&rsquo; is an ISO&nbsp;639<!-- /@w --> two-letter
language code (lowercase) and &lsquo;<samp><var>CC</var></samp>&rsquo; is an ISO&nbsp;3166<!-- /@w --> two-letter
country code (uppercase).  The country code specification is not redundant:
Some languages have dialects in different countries.  For example,
&lsquo;<samp>de_AT</samp>&rsquo; is used for Austria, and &lsquo;<samp>pt_BR</samp>&rsquo; for Brazil.  The country
code serves to distinguish the dialects. See <a href="#Language-Codes">Language Codes</a> and
<a href="#Country-Codes">Country Codes</a> for the lists of codes.

</li><li>- &lsquo;<samp><var>ll</var>_<var>CC</var>@<var>variant</var></samp>&rsquo;, where &lsquo;<samp><var>ll</var></samp>&rsquo; is an
ISO&nbsp;639<!-- /@w --> two-letter language code (lowercase), &lsquo;<samp><var>CC</var></samp>&rsquo; is an
ISO&nbsp;3166<!-- /@w --> two-letter country code (uppercase), and &lsquo;<samp><var>variant</var></samp>&rsquo; is
a variant designator. The variant designator (lowercase) can be a script
designator, such as &lsquo;<samp>latin</samp>&rsquo; or &lsquo;<samp>cyrillic</samp>&rsquo;.
</li></ul>

<p>The naming convention &lsquo;<samp><var>ll</var>_<var>CC</var></samp>&rsquo; is also the way locales are
named on systems based on GNU libc.  But there are three important differences:
</p>
<ul>
<li> In this PO file field, but not in locale names, &lsquo;<samp><var>ll</var>_<var>CC</var></samp>&rsquo;
combinations denoting a language&rsquo;s main dialect are abbreviated as
&lsquo;<samp><var>ll</var></samp>&rsquo;.  For example, &lsquo;<samp>de</samp>&rsquo; is equivalent to &lsquo;<samp>de_DE</samp>&rsquo;
(German as spoken in Germany), and &lsquo;<samp>pt</samp>&rsquo; to &lsquo;<samp>pt_PT</samp>&rsquo; (Portuguese as
spoken in Portugal) in this context.

</li><li> In this PO file field, suffixes like &lsquo;<samp>.<var>encoding</var></samp>&rsquo; are not used.

</li><li> In this PO file field, variant designators that are not relevant to message
translation, such as &lsquo;<samp>@euro</samp>&rsquo;, are not used.
</li></ul>

<p>So, if your locale name is &lsquo;<samp>de_DE.UTF-8</samp>&rsquo;, the language specification in
PO files is just &lsquo;<samp>de</samp>&rsquo;.
</p>
</dd>
<dt id='index-encoding-of-PO-files'><span>Content-Type<a href='#index-encoding-of-PO-files' class='copiable-anchor'> &para;</a></span></dt>
<dd><span id="index-charset-of-PO-files"></span>
<p>Replace &lsquo;<samp>CHARSET</samp>&rsquo; with the character encoding used for your language,
in your locale, or UTF-8.  This field is needed for correct operation of the
<code>msgmerge</code> and <code>msgfmt</code> programs, as well as for users whose
locale&rsquo;s character encoding differs from yours (see <a href="#Charset-conversion">How to specify the output character set <code>gettext</code> uses</a>).
</p>
<span id="index-locale-program"></span>
<p>You get the character encoding of your locale by running the shell command
&lsquo;<samp>locale charmap</samp>&rsquo;.  If the result is &lsquo;<samp>C</samp>&rsquo; or &lsquo;<samp>ANSI_X3.4-1968</samp>&rsquo;,
which is equivalent to &lsquo;<samp>ASCII</samp>&rsquo; (= &lsquo;<samp>US-ASCII</samp>&rsquo;), it means that your
locale is not correctly configured.  In this case, ask your translation
team which charset to use.  &lsquo;<samp>ASCII</samp>&rsquo; is not usable for any language
except Latin.
</p>
<span id="index-encoding-list"></span>
<p>Because the PO files must be portable to operating systems with less advanced
internationalization facilities, the character encodings that can be used
are limited to those supported by both GNU <code>libc</code> and GNU
<code>libiconv</code>.  These are:
<code>ASCII</code>, <code>ISO-8859-1</code>, <code>ISO-8859-2</code>, <code>ISO-8859-3</code>,
<code>ISO-8859-4</code>, <code>ISO-8859-5</code>, <code>ISO-8859-6</code>, <code>ISO-8859-7</code>,
<code>ISO-8859-8</code>, <code>ISO-8859-9</code>, <code>ISO-8859-13</code>, <code>ISO-8859-14</code>,
<code>ISO-8859-15</code>,
<code>KOI8-R</code>, <code>KOI8-U</code>, <code>KOI8-T</code>,
<code>CP850</code>, <code>CP866</code>, <code>CP874</code>,
<code>CP932</code>, <code>CP949</code>, <code>CP950</code>, <code>CP1250</code>, <code>CP1251</code>,
<code>CP1252</code>, <code>CP1253</code>, <code>CP1254</code>, <code>CP1255</code>, <code>CP1256</code>,
<code>CP1257</code>, <code>GB2312</code>, <code>EUC-JP</code>, <code>EUC-KR</code>, <code>EUC-TW</code>,
<code>BIG5</code>, <code>BIG5-HKSCS</code>, <code>GBK</code>, <code>GB18030</code>, <code>SHIFT_JIS</code>,
<code>JOHAB</code>, <code>TIS-620</code>, <code>VISCII</code>, <code>GEORGIAN-PS</code>, <code>UTF-8</code>.
</p>
<span id="index-Linux-2"></span>
<p>In the GNU system, the following encodings are frequently used for the
corresponding languages.
</p>
<span id="index-encoding-for-your-language"></span>
<ul>
<li> <code>ISO-8859-1</code> for
Afrikaans, Albanian, Basque, Breton, Catalan, Cornish, Danish, Dutch,
English, Estonian, Faroese, Finnish, French, Galician, German,
Greenlandic, Icelandic, Indonesian, Irish, Italian, Malay, Manx,
Norwegian, Occitan, Portuguese, Spanish, Swedish, Tagalog, Uzbek,
Walloon,
</li><li> <code>ISO-8859-2</code> for
Bosnian, Croatian, Czech, Hungarian, Polish, Romanian, Serbian, Slovak,
Slovenian,
</li><li> <code>ISO-8859-3</code> for Maltese,
</li><li> <code>ISO-8859-5</code> for Macedonian, Serbian,
</li><li> <code>ISO-8859-6</code> for Arabic,
</li><li> <code>ISO-8859-7</code> for Greek,
</li><li> <code>ISO-8859-8</code> for Hebrew,
</li><li> <code>ISO-8859-9</code> for Turkish,
</li><li> <code>ISO-8859-13</code> for Latvian, Lithuanian, Maori,
</li><li> <code>ISO-8859-14</code> for Welsh,
</li><li> <code>ISO-8859-15</code> for
Basque, Catalan, Dutch, English, Finnish, French, Galician, German, Irish,
Italian, Portuguese, Spanish, Swedish, Walloon,
</li><li> <code>KOI8-R</code> for Russian,
</li><li> <code>KOI8-U</code> for Ukrainian,
</li><li> <code>KOI8-T</code> for Tajik,
</li><li> <code>CP1251</code> for Bulgarian, Belarusian,
</li><li> <code>GB2312</code>, <code>GBK</code>, <code>GB18030</code>
for simplified writing of Chinese,
</li><li> <code>BIG5</code>, <code>BIG5-HKSCS</code>
for traditional writing of Chinese,
</li><li> <code>EUC-JP</code> for Japanese,
</li><li> <code>EUC-KR</code> for Korean,
</li><li> <code>TIS-620</code> for Thai,
</li><li> <code>GEORGIAN-PS</code> for Georgian,
</li><li> <code>UTF-8</code> for any language, including those listed above.
</li></ul>

<span id="index-quote-characters_002c-use-in-PO-files"></span>
<span id="index-quotation-marks"></span>
<p>When single quote characters or double quote characters are used in
translations for your language, and your locale&rsquo;s encoding is one of the
ISO-8859-* charsets, it is best if you create your PO files in UTF-8
encoding, instead of your locale&rsquo;s encoding.  This is because in UTF-8
the real quote characters can be represented (single quote characters:
U+2018, U+2019, double quote characters: U+201C, U+201D), whereas none of
ISO-8859-* charsets has them all.  Users in UTF-8 locales will see the
real quote characters, whereas users in ISO-8859-* locales will see the
vertical apostrophe and the vertical double quote instead (because that&rsquo;s
what the character set conversion will transliterate them to).
</p>
<span id="index-xmodmap-program_002c-and-typing-quotation-marks"></span>
<p>To enter such quote characters under X11, you can change your keyboard
mapping using the <code>xmodmap</code> program.  The X11 names of the quote
characters are &quot;leftsinglequotemark&quot;, &quot;rightsinglequotemark&quot;,
&quot;leftdoublequotemark&quot;, &quot;rightdoublequotemark&quot;, &quot;singlelowquotemark&quot;,
&quot;doublelowquotemark&quot;.
</p>
<p>Note that only recent versions of GNU Emacs support the UTF-8 encoding:
Emacs 20 with Mule-UCS, and Emacs 21.  As of January 2001, XEmacs doesn&rsquo;t
support the UTF-8 encoding.
</p>
<p>The character encoding name can be written in either upper or lower case.
Usually upper case is preferred.
</p>
</dd>
<dt><span>Content-Transfer-Encoding</span></dt>
<dd><p>Set this to <code>8bit</code>.
</p>
</dd>
<dt><span>Plural-Forms</span></dt>
<dd><p>This field is optional.  It is only needed if the PO file has plural forms.
You can find them by searching for the &lsquo;<samp>msgid_plural</samp>&rsquo; keyword.  The
format of the plural forms field is described in <a href="#Plural-forms">Additional functions for plural forms</a> and
<a href="#Translating-plural-forms">Translating plural forms</a>.
</p></dd>
</dl>

<hr>
</div>
</div>
<div class="chapter" id="Updating">
<div class="header">
<p>
Next: <a href="#Editing" accesskey="n" rel="next">Editing PO Files</a>, Previous: <a href="#Creating" accesskey="p" rel="prev">Creating a New PO File</a>, Up: <a href="#Top" accesskey="u" rel="up">GNU <code>gettext</code> utilities</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Program-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Updating-Existing-PO-Files"></span><h2 class="chapter">7 Updating Existing PO Files</h2>


<ul class="section-toc">
<li><a href="#msgmerge-Invocation" accesskey="1">Invoking the <code>msgmerge</code> Program</a></li>
</ul>
<hr>
<div class="section" id="msgmerge-Invocation">
<div class="header">
<p>
Up: <a href="#Updating" accesskey="u" rel="up">Updating Existing PO Files</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Program-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Invoking-the-msgmerge-Program"></span><h3 class="section">7.1 Invoking the <code>msgmerge</code> Program</h3>


<span id="index-msgmerge"></span>
<span id="index-msgmerge-program_002c-usage"></span>
<div class="example">
<pre class="example">msgmerge [<var>option</var>] <var>def</var>.po <var>ref</var>.pot
</pre></div>

<p>The <code>msgmerge</code> program merges two Uniforum style .po files together.
The <var>def</var>.po file is an existing PO file with translations which will
be taken over to the newly created file as long as they still match;
comments will be preserved, but extracted comments and file positions will
be discarded.  The <var>ref</var>.pot file is the last created PO file with
up-to-date source references but old translations, or a PO Template file
(generally created by <code>xgettext</code>); any translations or comments
in the file will be discarded, however dot comments and file positions
will be preserved.  Where an exact match cannot be found, fuzzy matching
is used to produce better results.
</p>
<ul class="section-toc">
<li><a href="#Input-file-location-2" accesskey="1">Input file location</a></li>
<li><a href="#Operation-mode-1" accesskey="2">Operation mode</a></li>
<li><a href="#Output-file-location-2" accesskey="3">Output file location</a></li>
<li><a href="#Output-file-location-in-update-mode" accesskey="4">Output file location in update mode</a></li>
<li><a href="#Operation-modifiers" accesskey="5">Operation modifiers</a></li>
<li><a href="#Input-file-syntax-1" accesskey="6">Input file syntax</a></li>
<li><a href="#Output-details-2" accesskey="7">Output details</a></li>
<li><a href="#Informative-output-2" accesskey="8">Informative output</a></li>
</ul>
<div class="subsection" id="Input-file-location-2">
<h4 class="subsection">7.1.1 Input file location</h4>

<dl compact="compact">
<dt><span>&lsquo;<samp><var>def</var>.po</samp>&rsquo;</span></dt>
<dd><p>Translations referring to old sources.
</p>
</dd>
<dt><span>&lsquo;<samp><var>ref</var>.pot</samp>&rsquo;</span></dt>
<dd><p>References to the new sources.
</p>
</dd>
<dt id='index-_002dD_002c-msgmerge-option'><span>&lsquo;<samp>-D <var>directory</var></samp>&rsquo;<a href='#index-_002dD_002c-msgmerge-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--directory=<var>directory</var></samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002ddirectory_002c-msgmerge-option"></span>
<p>Add <var>directory</var> to the list of directories.  Source files are
searched relative to this list of directories.  The resulting <samp>.po</samp>
file will be written relative to the current directory, though.
</p>
</dd>
<dt id='index-_002dC_002c-msgmerge-option'><span>&lsquo;<samp>-C <var>file</var></samp>&rsquo;<a href='#index-_002dC_002c-msgmerge-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--compendium=<var>file</var></samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dcompendium_002c-msgmerge-option"></span>
<p>Specify an additional library of message translations.  See <a href="#Compendium">Using Translation Compendia</a>.
This option may be specified more than once.
</p>
</dd>
</dl>

</div>
<div class="subsection" id="Operation-mode-1">
<h4 class="subsection">7.1.2 Operation mode</h4>

<dl compact="compact">
<dt id='index-_002dU_002c-msgmerge-option'><span>&lsquo;<samp>-U</samp>&rsquo;<a href='#index-_002dU_002c-msgmerge-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--update</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dupdate_002c-msgmerge-option"></span>
<p>Update <var>def</var>.po.  Do nothing if <var>def</var>.po is already up to date.
</p>
</dd>
</dl>

</div>
<div class="subsection" id="Output-file-location-2">
<h4 class="subsection">7.1.3 Output file location</h4>

<dl compact="compact">
<dt id='index-_002do_002c-msgmerge-option'><span>&lsquo;<samp>-o <var>file</var></samp>&rsquo;<a href='#index-_002do_002c-msgmerge-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--output-file=<var>file</var></samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002doutput_002dfile_002c-msgmerge-option"></span>
<p>Write output to specified file.
</p>
</dd>
</dl>

<span id="index-standard-output_002c-and-msgmerge-program"></span>
<p>The results are written to standard output if no output file is specified
or if it is &lsquo;<samp>-</samp>&rsquo;.
</p>
</div>
<div class="subsection" id="Output-file-location-in-update-mode">
<h4 class="subsection">7.1.4 Output file location in update mode</h4>

<p>The result is written back to <var>def</var>.po.
</p>
<dl compact="compact">
<dt id='index-_002d_002dbackup_002c-msgmerge-option'><span>&lsquo;<samp>--backup=<var>control</var></samp>&rsquo;<a href='#index-_002d_002dbackup_002c-msgmerge-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><span id="index-backup-old-file_002c-and-msgmerge-program"></span>
<p>Make a backup of <var>def</var>.po
</p>
</dd>
<dt id='index-_002d_002dsuffix_002c-msgmerge-option'><span>&lsquo;<samp>--suffix=<var>suffix</var></samp>&rsquo;<a href='#index-_002d_002dsuffix_002c-msgmerge-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Override the usual backup suffix.
</p>
</dd>
</dl>

<span id="index-version-control-for-backup-files_002c-msgmerge"></span>
<p>The version control method may be selected via the <code>--backup</code> option
or through the <code>VERSION_CONTROL</code> environment variable.  Here are the
values:
</p>
<dl compact="compact">
<dt><span>&lsquo;<samp>none</samp>&rsquo;</span></dt>
<dt><span>&lsquo;<samp>off</samp>&rsquo;</span></dt>
<dd><p>Never make backups (even if <code>--backup</code> is given).
</p>
</dd>
<dt><span>&lsquo;<samp>numbered</samp>&rsquo;</span></dt>
<dt><span>&lsquo;<samp>t</samp>&rsquo;</span></dt>
<dd><p>Make numbered backups.
</p>
</dd>
<dt><span>&lsquo;<samp>existing</samp>&rsquo;</span></dt>
<dt><span>&lsquo;<samp>nil</samp>&rsquo;</span></dt>
<dd><p>Make numbered backups if numbered backups for this file already exist,
otherwise make simple backups.
</p>
</dd>
<dt><span>&lsquo;<samp>simple</samp>&rsquo;</span></dt>
<dt><span>&lsquo;<samp>never</samp>&rsquo;</span></dt>
<dd><p>Always make simple backups.
</p>
</dd>
</dl>

<p>The backup suffix is &lsquo;<samp>~</samp>&rsquo;, unless set with <code>--suffix</code> or the
<code>SIMPLE_BACKUP_SUFFIX</code> environment variable.
</p>
</div>
<div class="subsection" id="Operation-modifiers">
<h4 class="subsection">7.1.5 Operation modifiers</h4>

<dl compact="compact">
<dt id='index-_002dm_002c-msgmerge-option'><span>&lsquo;<samp>-m</samp>&rsquo;<a href='#index-_002dm_002c-msgmerge-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--multi-domain</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dmulti_002ddomain_002c-msgmerge-option"></span>
<p>Apply <var>ref</var>.pot to each of the domains in <var>def</var>.po.
</p>
</dd>
<dt id='index-_002d_002dfor_002dmsgfmt_002c-msgmerge-option'><span>&lsquo;<samp>--for-msgfmt</samp>&rsquo;<a href='#index-_002d_002dfor_002dmsgfmt_002c-msgmerge-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Produce a PO file meant for <code>msgfmt</code> only, not for a translator.
This option omits untranslated messages, fuzzy messages (except the header
entry), and obsolete messages from the output.  Also, it omits translator
comments and &lsquo;<samp>#: <var>filename</var>:<var>line</var></samp>&rsquo; lines from the output.
In particular, this option implies &lsquo;<samp>--no-fuzzy-matching</samp>&rsquo;.
</p>
</dd>
<dt id='index-_002dN_002c-msgmerge-option'><span>&lsquo;<samp>-N</samp>&rsquo;<a href='#index-_002dN_002c-msgmerge-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--no-fuzzy-matching</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dno_002dfuzzy_002dmatching_002c-msgmerge-option"></span>
<p>Do not use fuzzy matching when an exact match is not found.  This may speed
up the operation considerably.
</p>
</dd>
<dt id='index-_002d_002dprevious_002c-msgmerge-option'><span>&lsquo;<samp>--previous</samp>&rsquo;<a href='#index-_002d_002dprevious_002c-msgmerge-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Keep the previous msgids of translated messages, marked with &lsquo;<samp>#|</samp>&rsquo;, when
adding the fuzzy marker to such messages.
</p></dd>
</dl>

</div>
<div class="subsection" id="Input-file-syntax-1">
<h4 class="subsection">7.1.6 Input file syntax</h4>

<dl compact="compact">
<dt id='index-_002dP_002c-msgmerge-option'><span>&lsquo;<samp>-P</samp>&rsquo;<a href='#index-_002dP_002c-msgmerge-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--properties-input</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dproperties_002dinput_002c-msgmerge-option"></span>
<p>Assume the input files are Java ResourceBundles in Java <code>.properties</code>
syntax, not in PO file syntax.
</p>
</dd>
<dt id='index-_002d_002dstringtable_002dinput_002c-msgmerge-option'><span>&lsquo;<samp>--stringtable-input</samp>&rsquo;<a href='#index-_002d_002dstringtable_002dinput_002c-msgmerge-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Assume the input files are NeXTstep/GNUstep localized resource files in
<code>.strings</code> syntax, not in PO file syntax.
</p>
</dd>
</dl>

</div>
<div class="subsection" id="Output-details-2">
<h4 class="subsection">7.1.7 Output details</h4>


<dl compact="compact">
<dt id='index-_002d_002dlang_002c-msgmerge-option'><span>&lsquo;<samp>--lang=<var>catalogname</var></samp>&rsquo;<a href='#index-_002d_002dlang_002c-msgmerge-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Specify the &lsquo;<samp>Language</samp>&rsquo; field to be used in the header entry.  See
<a href="#Header-Entry">Filling in the Header Entry</a> for the meaning of this field.  Note: The
&lsquo;<samp>Language-Team</samp>&rsquo; and &lsquo;<samp>Plural-Forms</samp>&rsquo; fields are left unchanged.
If this option is not specified, the &lsquo;<samp>Language</samp>&rsquo; field is inferred, as
best as possible, from the &lsquo;<samp>Language-Team</samp>&rsquo; field.
</p>
</dd>
<dt id='index-_002d_002dcolor_002c-msgmerge-option'><span>&lsquo;<samp>--color</samp>&rsquo;<a href='#index-_002d_002dcolor_002c-msgmerge-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--color=<var>when</var></samp>&rsquo;</span></dt>
<dd><p>Specify whether or when to use colors and other text attributes.
See <a href="#The-_002d_002dcolor-option">The <code>--color</code> option</a> for details.
</p>
</dd>
<dt id='index-_002d_002dstyle_002c-msgmerge-option'><span>&lsquo;<samp>--style=<var>style_file</var></samp>&rsquo;<a href='#index-_002d_002dstyle_002c-msgmerge-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Specify the CSS style rule file to use for <code>--color</code>.
See <a href="#The-_002d_002dstyle-option">The <code>--style</code> option</a> for details.
</p>
</dd>
<dt id='index-_002d_002dforce_002dpo_002c-msgmerge-option'><span>&lsquo;<samp>--force-po</samp>&rsquo;<a href='#index-_002d_002dforce_002dpo_002c-msgmerge-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Always write an output file even if it contains no message.
</p>
</dd>
<dt id='index-_002di_002c-msgmerge-option'><span>&lsquo;<samp>-i</samp>&rsquo;<a href='#index-_002di_002c-msgmerge-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--indent</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dindent_002c-msgmerge-option"></span>
<p>Write the .po file using indented style.
</p>
</dd>
<dt id='index-_002d_002dno_002dlocation_002c-msgmerge-option'><span>&lsquo;<samp>--no-location</samp>&rsquo;<a href='#index-_002d_002dno_002dlocation_002c-msgmerge-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Do not write &lsquo;<samp>#: <var>filename</var>:<var>line</var></samp>&rsquo; lines.
</p>
</dd>
<dt id='index-_002d_002dadd_002dlocation_002c-msgmerge-option'><span>&lsquo;<samp>-n</samp>&rsquo;<a href='#index-_002d_002dadd_002dlocation_002c-msgmerge-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--add-location=<var>type</var></samp>&rsquo;</span></dt>
<dd><p>Generate &lsquo;<samp>#: <var>filename</var>:<var>line</var></samp>&rsquo; lines (default).
</p>
<p>The optional <var>type</var> can be either &lsquo;<samp>full</samp>&rsquo;, &lsquo;<samp>file</samp>&rsquo;, or
&lsquo;<samp>never</samp>&rsquo;.  If it is not given or &lsquo;<samp>full</samp>&rsquo;, it generates the
lines with both file name and line number.  If it is &lsquo;<samp>file</samp>&rsquo;, the
line number part is omitted.  If it is &lsquo;<samp>never</samp>&rsquo;, it completely
suppresses the lines (same as <code>--no-location</code>).
</p>
</dd>
<dt id='index-_002d_002dstrict_002c-msgmerge-option'><span>&lsquo;<samp>--strict</samp>&rsquo;<a href='#index-_002d_002dstrict_002c-msgmerge-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Write out a strict Uniforum conforming PO file.  Note that this
Uniforum format should be avoided because it doesn&rsquo;t support the
GNU extensions.
</p>
</dd>
<dt id='index-_002dp_002c-msgmerge-option'><span>&lsquo;<samp>-p</samp>&rsquo;<a href='#index-_002dp_002c-msgmerge-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--properties-output</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dproperties_002doutput_002c-msgmerge-option"></span>
<p>Write out a Java ResourceBundle in Java <code>.properties</code> syntax.  Note
that this file format doesn&rsquo;t support plural forms and silently drops
obsolete messages.
</p>
</dd>
<dt id='index-_002d_002dstringtable_002doutput_002c-msgmerge-option'><span>&lsquo;<samp>--stringtable-output</samp>&rsquo;<a href='#index-_002d_002dstringtable_002doutput_002c-msgmerge-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Write out a NeXTstep/GNUstep localized resource file in <code>.strings</code> syntax.
Note that this file format doesn&rsquo;t support plural forms.
</p>
</dd>
<dt id='index-_002dw_002c-msgmerge-option'><span>&lsquo;<samp>-w <var>number</var></samp>&rsquo;<a href='#index-_002dw_002c-msgmerge-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--width=<var>number</var></samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dwidth_002c-msgmerge-option"></span>
<p>Set the output page width.  Long strings in the output files will be
split across multiple lines in order to ensure that each line&rsquo;s width
(= number of screen columns) is less or equal to the given <var>number</var>.
</p>
</dd>
<dt id='index-_002d_002dno_002dwrap_002c-msgmerge-option'><span>&lsquo;<samp>--no-wrap</samp>&rsquo;<a href='#index-_002d_002dno_002dwrap_002c-msgmerge-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Do not break long message lines.  Message lines whose width exceeds the
output page width will not be split into several lines.  Only file reference
lines which are wider than the output page width will be split.
</p>
</dd>
<dt id='index-_002ds_002c-msgmerge-option'><span>&lsquo;<samp>-s</samp>&rsquo;<a href='#index-_002ds_002c-msgmerge-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--sort-output</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dsort_002doutput_002c-msgmerge-option"></span>
<span id="index-sorting-msgmerge-output"></span>
<p>Generate sorted output.  Note that using this option makes it much harder
for the translator to understand each message&rsquo;s context.
</p>
</dd>
<dt id='index-_002dF_002c-msgmerge-option'><span>&lsquo;<samp>-F</samp>&rsquo;<a href='#index-_002dF_002c-msgmerge-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--sort-by-file</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dsort_002dby_002dfile_002c-msgmerge-option"></span>
<p>Sort output by file location.
</p>
</dd>
</dl>

</div>
<div class="subsection" id="Informative-output-2">
<h4 class="subsection">7.1.8 Informative output</h4>

<dl compact="compact">
<dt id='index-_002dh_002c-msgmerge-option'><span>&lsquo;<samp>-h</samp>&rsquo;<a href='#index-_002dh_002c-msgmerge-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--help</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dhelp_002c-msgmerge-option"></span>
<p>Display this help and exit.
</p>
</dd>
<dt id='index-_002dV_002c-msgmerge-option'><span>&lsquo;<samp>-V</samp>&rsquo;<a href='#index-_002dV_002c-msgmerge-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--version</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dversion_002c-msgmerge-option"></span>
<p>Output version information and exit.
</p>
</dd>
<dt id='index-_002dv_002c-msgmerge-option'><span>&lsquo;<samp>-v</samp>&rsquo;<a href='#index-_002dv_002c-msgmerge-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--verbose</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dverbose_002c-msgmerge-option"></span>
<p>Increase verbosity level.
</p>
</dd>
<dt id='index-_002dq_002c-msgmerge-option'><span>&lsquo;<samp>-q</samp>&rsquo;<a href='#index-_002dq_002c-msgmerge-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--quiet</samp>&rsquo;</span></dt>
<dt><span>&lsquo;<samp>--silent</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dquiet_002c-msgmerge-option"></span>
<span id="index-_002d_002dsilent_002c-msgmerge-option"></span>
<p>Suppress progress indicators.
</p>
</dd>
</dl>

<hr>
</div>
</div>
</div>
<div class="chapter" id="Editing">
<div class="header">
<p>
Next: <a href="#Manipulating" accesskey="n" rel="next">Manipulating PO Files</a>, Previous: <a href="#Updating" accesskey="p" rel="prev">Updating Existing PO Files</a>, Up: <a href="#Top" accesskey="u" rel="up">GNU <code>gettext</code> utilities</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Program-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Editing-PO-Files"></span><h2 class="chapter">8 Editing PO Files</h2>
<span id="index-Editing-PO-Files"></span>


<ul class="section-toc">
<li><a href="#KBabel" accesskey="1">KDE&rsquo;s PO File Editor</a></li>
<li><a href="#Gtranslator" accesskey="2">GNOME&rsquo;s PO File Editor</a></li>
<li><a href="#PO-Mode" accesskey="3">Emacs&rsquo;s PO File Editor</a></li>
<li><a href="#Compendium" accesskey="4">Using Translation Compendia</a></li>
</ul>
<hr>
<div class="section" id="KBabel">
<div class="header">
<p>
Next: <a href="#Gtranslator" accesskey="n" rel="next">GNOME&rsquo;s PO File Editor</a>, Up: <a href="#Editing" accesskey="u" rel="up">Editing PO Files</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Program-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="KDE_0027s-PO-File-Editor"></span><h3 class="section">8.1 KDE&rsquo;s PO File Editor</h3>
<span id="index-KDE-PO-file-editor"></span>

<hr>
</div>
<div class="section" id="Gtranslator">
<div class="header">
<p>
Next: <a href="#PO-Mode" accesskey="n" rel="next">Emacs&rsquo;s PO File Editor</a>, Previous: <a href="#KBabel" accesskey="p" rel="prev">KDE&rsquo;s PO File Editor</a>, Up: <a href="#Editing" accesskey="u" rel="up">Editing PO Files</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Program-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="GNOME_0027s-PO-File-Editor"></span><h3 class="section">8.2 GNOME&rsquo;s PO File Editor</h3>
<span id="index-GNOME-PO-file-editor"></span>

<hr>
</div>
<div class="section" id="PO-Mode">
<div class="header">
<p>
Next: <a href="#Compendium" accesskey="n" rel="next">Using Translation Compendia</a>, Previous: <a href="#Gtranslator" accesskey="p" rel="prev">GNOME&rsquo;s PO File Editor</a>, Up: <a href="#Editing" accesskey="u" rel="up">Editing PO Files</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Program-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Emacs_0027s-PO-File-Editor"></span><h3 class="section">8.3 Emacs&rsquo;s PO File Editor</h3>
<span id="index-Emacs-PO-Mode"></span>


<p>For those of you being
the lucky users of Emacs, PO mode has been specifically created
for providing a cozy environment for editing or modifying PO files.
While editing a PO file, PO mode allows for the easy browsing of
auxiliary and compendium PO files, as well as for following references into
the set of C program sources from which PO files have been derived.
It has a few special features, among which are the interactive marking
of program strings as translatable, and the validation of PO files
with easy repositioning to PO file lines showing errors.
</p>
<p>For the beginning, besides main PO mode commands
(see <a href="#Main-PO-Commands">Main PO mode Commands</a>), you should know how to move between entries
(see <a href="#Entry-Positioning">Entry Positioning</a>), and how to handle untranslated entries
(see <a href="#Untranslated-Entries">Untranslated Entries</a>).
</p>

<ul class="section-toc">
<li><a href="#Installation" accesskey="1">Completing GNU <code>gettext</code> Installation</a></li>
<li><a href="#Main-PO-Commands" accesskey="2">Main PO mode Commands</a></li>
<li><a href="#Entry-Positioning" accesskey="3">Entry Positioning</a></li>
<li><a href="#Normalizing" accesskey="4">Normalizing Strings in Entries</a></li>
<li><a href="#Translated-Entries" accesskey="5">Translated Entries</a></li>
<li><a href="#Fuzzy-Entries" accesskey="6">Fuzzy Entries</a></li>
<li><a href="#Untranslated-Entries" accesskey="7">Untranslated Entries</a></li>
<li><a href="#Obsolete-Entries" accesskey="8">Obsolete Entries</a></li>
<li><a href="#Modifying-Translations" accesskey="9">Modifying Translations</a></li>
<li><a href="#Modifying-Comments">Modifying Comments</a></li>
<li><a href="#Subedit">Details of Sub Edition</a></li>
<li><a href="#C-Sources-Context">C Sources Context</a></li>
<li><a href="#Auxiliary">Consulting Auxiliary PO Files</a></li>
</ul>
<hr>
<div class="subsection" id="Installation">
<div class="header">
<p>
Next: <a href="#Main-PO-Commands" accesskey="n" rel="next">Main PO mode Commands</a>, Up: <a href="#PO-Mode" accesskey="u" rel="up">Emacs&rsquo;s PO File Editor</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Program-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Completing-GNU-gettext-Installation"></span><h4 class="subsection">8.3.1 Completing GNU <code>gettext</code> Installation</h4>

<span id="index-installing-gettext"></span>
<span id="index-gettext-installation"></span>
<p>Once you have received, unpacked, configured and compiled the GNU
<code>gettext</code> distribution, the &lsquo;<samp>make install</samp>&rsquo; command puts in
place the programs <code>xgettext</code>, <code>msgfmt</code>, <code>gettext</code>, and
<code>msgmerge</code>, as well as their available message catalogs.  To
top off a comfortable installation, you might also want to make the
PO mode available to your Emacs users.
</p>
<span id="index-_002eemacs-customizations"></span>
<span id="index-installing-PO-mode"></span>
<p>During the installation of the PO mode, you might want to modify your
file <samp>.emacs</samp>, once and for all, so it contains a few lines looking
like:
</p>
<div class="example">
<pre class="example">(setq auto-mode-alist
      (cons '(&quot;\\.po\\'\\|\\.po\\.&quot; . po-mode) auto-mode-alist))
(autoload 'po-mode &quot;po-mode&quot; &quot;Major mode for translators to edit PO files&quot; t)
</pre></div>

<p>Later, whenever you edit some <samp>.po</samp>
file, or any file having the string &lsquo;<samp>.po.</samp>&rsquo; within its name,
Emacs loads <samp>po-mode.elc</samp> (or <samp>po-mode.el</samp>) as needed, and
automatically activates PO mode commands for the associated buffer.
The string <em>PO</em> appears in the mode line for any buffer for
which PO mode is active.  Many PO files may be active at once in a
single Emacs session.
</p>
<p>If you are using Emacs version 20 or newer, and have already installed
the appropriate international fonts on your system, you may also tell
Emacs how to determine automatically the coding system of every PO file.
This will often (but not always) cause the necessary fonts to be loaded
and used for displaying the translations on your Emacs screen.  For this
to happen, add the lines:
</p>
<div class="example">
<pre class="example">(modify-coding-system-alist 'file &quot;\\.po\\'\\|\\.po\\.&quot;
                            'po-find-file-coding-system)
(autoload 'po-find-file-coding-system &quot;po-mode&quot;)
</pre></div>

<p>to your <samp>.emacs</samp> file.  If, with this, you still see boxes instead
of international characters, try a different font set (via Shift Mouse
button 1).
</p>
<hr>
</div>
<div class="subsection" id="Main-PO-Commands">
<div class="header">
<p>
Next: <a href="#Entry-Positioning" accesskey="n" rel="next">Entry Positioning</a>, Previous: <a href="#Installation" accesskey="p" rel="prev">Completing GNU <code>gettext</code> Installation</a>, Up: <a href="#PO-Mode" accesskey="u" rel="up">Emacs&rsquo;s PO File Editor</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Program-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Main-PO-mode-Commands"></span><h4 class="subsection">8.3.2 Main PO mode Commands</h4>

<span id="index-PO-mode-_0028Emacs_0029-commands"></span>
<span id="index-commands"></span>
<p>After setting up Emacs with something similar to the lines in
<a href="#Installation">Completing GNU <code>gettext</code> Installation</a>, PO mode is activated for a window when Emacs finds a
PO file in that window.  This puts the window read-only and establishes a
po-mode-map, which is a genuine Emacs mode, in a way that is not derived
from text mode in any way.  Functions found on <code>po-mode-hook</code>,
if any, will be executed.
</p>
<p>When PO mode is active in a window, the letters &lsquo;<samp>PO</samp>&rsquo; appear
in the mode line for that window.  The mode line also displays how
many entries of each kind are held in the PO file.  For example,
the string &lsquo;<samp>132t+3f+10u+2o</samp>&rsquo; would tell the translator that the
PO mode contains 132 translated entries (see <a href="#Translated-Entries">Translated Entries</a>,
3 fuzzy entries (see <a href="#Fuzzy-Entries">Fuzzy Entries</a>), 10 untranslated entries
(see <a href="#Untranslated-Entries">Untranslated Entries</a>) and 2 obsolete entries (see <a href="#Obsolete-Entries">Obsolete Entries</a>).  Zero-coefficients items are not shown.  So, in this example, if
the fuzzy entries were unfuzzied, the untranslated entries were translated
and the obsolete entries were deleted, the mode line would merely display
&lsquo;<samp>145t</samp>&rsquo; for the counters.
</p>
<p>The main PO commands are those which do not fit into the other categories of
subsequent sections.  These allow for quitting PO mode or for managing windows
in special ways.
</p>
<dl compact="compact">
<dt id='index-_005f_002c-PO-Mode-command'><span><kbd>_</kbd><a href='#index-_005f_002c-PO-Mode-command' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Undo last modification to the PO file (<code>po-undo</code>).
</p>
</dd>
<dt id='index-Q_002c-PO-Mode-command'><span><kbd>Q</kbd><a href='#index-Q_002c-PO-Mode-command' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Quit processing and save the PO file (<code>po-quit</code>).
</p>
</dd>
<dt id='index-q_002c-PO-Mode-command'><span><kbd>q</kbd><a href='#index-q_002c-PO-Mode-command' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Quit processing, possibly after confirmation (<code>po-confirm-and-quit</code>).
</p>
</dd>
<dt id='index-0_002c-PO-Mode-command'><span><kbd>0</kbd><a href='#index-0_002c-PO-Mode-command' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Temporary leave the PO file window (<code>po-other-window</code>).
</p>
</dd>
<dt id='index-_003f_002c-PO-Mode-command'><span><kbd>?</kbd><a href='#index-_003f_002c-PO-Mode-command' class='copiable-anchor'> &para;</a></span></dt>
<dt><span><kbd>h</kbd></span></dt>
<dd><span id="index-h_002c-PO-Mode-command"></span>
<p>Show help about PO mode (<code>po-help</code>).
</p>
</dd>
<dt id='index-_003d_002c-PO-Mode-command'><span><kbd>=</kbd><a href='#index-_003d_002c-PO-Mode-command' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Give some PO file statistics (<code>po-statistics</code>).
</p>
</dd>
<dt id='index-V_002c-PO-Mode-command'><span><kbd>V</kbd><a href='#index-V_002c-PO-Mode-command' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Batch validate the format of the whole PO file (<code>po-validate</code>).
</p>
</dd>
</dl>

<span id="index-_005f_002c-PO-Mode-command-1"></span>
<span id="index-po_002dundo_002c-PO-Mode-command"></span>
<p>The command <kbd>_</kbd> (<code>po-undo</code>) interfaces to the Emacs
<em>undo</em> facility.  See <a data-manual="emacs" href="https://www.gnu.org/software/emacs/manual/html_mono/emacs.html#Undo">Undoing Changes</a> in <cite>The Emacs
Editor</cite>.  Each time <kbd>_</kbd> is typed, modifications which the translator
did to the PO file are undone a little more.  For the purpose of
undoing, each PO mode command is atomic.  This is especially true for
the <kbd><span class="key">RET</span></kbd> command: the whole edition made by using a single
use of this command is undone at once, even if the edition itself
implied several actions.  However, while in the editing window, one
can undo the edition work quite parsimoniously.
</p>
<span id="index-Q_002c-PO-Mode-command-1"></span>
<span id="index-q_002c-PO-Mode-command-1"></span>
<span id="index-po_002dquit_002c-PO-Mode-command"></span>
<span id="index-po_002dconfirm_002dand_002dquit_002c-PO-Mode-command"></span>
<p>The commands <kbd>Q</kbd> (<code>po-quit</code>) and <kbd>q</kbd>
(<code>po-confirm-and-quit</code>) are used when the translator is done with the
PO file.  The former is a bit less verbose than the latter.  If the file
has been modified, it is saved to disk first.  In both cases, and prior to
all this, the commands check if any untranslated messages remain in the
PO file and, if so, the translator is asked if she really wants to leave
off working with this PO file.  This is the preferred way of getting rid
of an Emacs PO file buffer.  Merely killing it through the usual command
<kbd><span class="nolinebreak">C-x</span>&nbsp;k</kbd><!-- /@w --> (<code>kill-buffer</code>) is not the tidiest way to proceed.
</p>
<span id="index-0_002c-PO-Mode-command-1"></span>
<span id="index-po_002dother_002dwindow_002c-PO-Mode-command"></span>
<p>The command <kbd>0</kbd> (<code>po-other-window</code>) is another, softer way,
to leave PO mode, temporarily.  It just moves the cursor to some other
Emacs window, and pops one if necessary.  For example, if the translator
just got PO mode to show some source context in some other, she might
discover some apparent bug in the program source that needs correction.
This command allows the translator to change sex, become a programmer,
and have the cursor right into the window containing the program she
(or rather <em>he</em>) wants to modify.  By later getting the cursor back
in the PO file window, or by asking Emacs to edit this file once again,
PO mode is then recovered.
</p>
<span id="index-_003f_002c-PO-Mode-command-1"></span>
<span id="index-h_002c-PO-Mode-command-1"></span>
<span id="index-po_002dhelp_002c-PO-Mode-command"></span>
<p>The command <kbd>h</kbd> (<code>po-help</code>) displays a summary of all available PO
mode commands.  The translator should then type any character to resume
normal PO mode operations.  The command <kbd>?</kbd> has the same effect
as <kbd>h</kbd>.
</p>
<span id="index-_003d_002c-PO-Mode-command-1"></span>
<span id="index-po_002dstatistics_002c-PO-Mode-command"></span>
<p>The command <kbd>=</kbd> (<code>po-statistics</code>) computes the total number of
entries in the PO file, the ordinal of the current entry (counted from
1), the number of untranslated entries, the number of obsolete entries,
and displays all these numbers.
</p>
<span id="index-V_002c-PO-Mode-command-1"></span>
<span id="index-po_002dvalidate_002c-PO-Mode-command"></span>
<p>The command <kbd>V</kbd> (<code>po-validate</code>) launches <code>msgfmt</code> in
checking and verbose
mode over the current PO file.  This command first offers to save the
current PO file on disk.  The <code>msgfmt</code> tool, from GNU <code>gettext</code>,
has the purpose of creating a MO file out of a PO file, and PO mode uses
the features of this program for checking the overall format of a PO file,
as well as all individual entries.
</p>
<span id="index-next_002derror_002c-stepping-through-PO-file-validation-results"></span>
<p>The program <code>msgfmt</code> runs asynchronously with Emacs, so the
translator regains control immediately while her PO file is being studied.
Error output is collected in the Emacs &lsquo;<samp>*compilation*</samp>&rsquo; buffer,
displayed in another window.  The regular Emacs command <kbd>C-x`</kbd>
(<code>next-error</code>), as well as other usual compile commands, allow the
translator to reposition quickly to the offending parts of the PO file.
Once the cursor is on the line in error, the translator may decide on
any PO mode action which would help correcting the error.
</p>
<hr>
</div>
<div class="subsection" id="Entry-Positioning">
<div class="header">
<p>
Next: <a href="#Normalizing" accesskey="n" rel="next">Normalizing Strings in Entries</a>, Previous: <a href="#Main-PO-Commands" accesskey="p" rel="prev">Main PO mode Commands</a>, Up: <a href="#PO-Mode" accesskey="u" rel="up">Emacs&rsquo;s PO File Editor</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Program-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Entry-Positioning-1"></span><h4 class="subsection">8.3.3 Entry Positioning</h4>

<span id="index-current-entry-of-a-PO-file"></span>
<p>The cursor in a PO file window is almost always part of
an entry.  The only exceptions are the special case when the cursor
is after the last entry in the file, or when the PO file is
empty.  The entry where the cursor is found to be is said to be the
current entry.  Many PO mode commands operate on the current entry,
so moving the cursor does more than allowing the translator to browse
the PO file, this also selects on which entry commands operate.
</p>
<span id="index-moving-through-a-PO-file"></span>
<p>Some PO mode commands alter the position of the cursor in a specialized
way.  A few of those special purpose positioning are described here,
the others are described in following sections (for a complete list try
<kbd>C-h m</kbd>):
</p>
<dl compact="compact">
<dt id='index-_002e_002c-PO-Mode-command'><span><kbd>.</kbd><a href='#index-_002e_002c-PO-Mode-command' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Redisplay the current entry (<code>po-current-entry</code>).
</p>
</dd>
<dt id='index-n_002c-PO-Mode-command'><span><kbd>n</kbd><a href='#index-n_002c-PO-Mode-command' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Select the entry after the current one (<code>po-next-entry</code>).
</p>
</dd>
<dt id='index-p_002c-PO-Mode-command'><span><kbd>p</kbd><a href='#index-p_002c-PO-Mode-command' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Select the entry before the current one (<code>po-previous-entry</code>).
</p>
</dd>
<dt id='index-_003c_002c-PO-Mode-command'><span><kbd>&lt;</kbd><a href='#index-_003c_002c-PO-Mode-command' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Select the first entry in the PO file (<code>po-first-entry</code>).
</p>
</dd>
<dt id='index-_003e_002c-PO-Mode-command'><span><kbd>&gt;</kbd><a href='#index-_003e_002c-PO-Mode-command' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Select the last entry in the PO file (<code>po-last-entry</code>).
</p>
</dd>
<dt id='index-m_002c-PO-Mode-command'><span><kbd>m</kbd><a href='#index-m_002c-PO-Mode-command' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Record the location of the current entry for later use
(<code>po-push-location</code>).
</p>
</dd>
<dt id='index-r_002c-PO-Mode-command'><span><kbd>r</kbd><a href='#index-r_002c-PO-Mode-command' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Return to a previously saved entry location (<code>po-pop-location</code>).
</p>
</dd>
<dt id='index-x_002c-PO-Mode-command'><span><kbd>x</kbd><a href='#index-x_002c-PO-Mode-command' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Exchange the current entry location with the previously saved one
(<code>po-exchange-location</code>).
</p>
</dd>
</dl>

<span id="index-_002e_002c-PO-Mode-command-1"></span>
<span id="index-po_002dcurrent_002dentry_002c-PO-Mode-command"></span>
<p>Any Emacs command able to reposition the cursor may be used
to select the current entry in PO mode, including commands which
move by characters, lines, paragraphs, screens or pages, and search
commands.  However, there is a kind of standard way to display the
current entry in PO mode, which usual Emacs commands moving
the cursor do not especially try to enforce.  The command <kbd>.</kbd>
(<code>po-current-entry</code>) has the sole purpose of redisplaying the
current entry properly, after the current entry has been changed by
means external to PO mode, or the Emacs screen otherwise altered.
</p>
<p>It is yet to be decided if PO mode helps the translator, or otherwise
irritates her, by forcing a rigid window disposition while she
is doing her work.  We originally had quite precise ideas about
how windows should behave, but on the other hand, anyone used to
Emacs is often happy to keep full control.  Maybe a fixed window
disposition might be offered as a PO mode option that the translator
might activate or deactivate at will, so it could be offered on an
experimental basis.  If nobody feels a real need for using it, or
a compulsion for writing it, we should drop this whole idea.
The incentive for doing it should come from translators rather than
programmers, as opinions from an experienced translator are surely
more worth to me than opinions from programmers <em>thinking</em> about
how <em>others</em> should do translation.
</p>
<span id="index-n_002c-PO-Mode-command-1"></span>
<span id="index-po_002dnext_002dentry_002c-PO-Mode-command"></span>
<span id="index-p_002c-PO-Mode-command-1"></span>
<span id="index-po_002dprevious_002dentry_002c-PO-Mode-command"></span>
<p>The commands <kbd>n</kbd> (<code>po-next-entry</code>) and <kbd>p</kbd>
(<code>po-previous-entry</code>) move the cursor the entry following,
or preceding, the current one.  If <kbd>n</kbd> is given while the
cursor is on the last entry of the PO file, or if <kbd>p</kbd>
is given while the cursor is on the first entry, no move is done.
</p>
<span id="index-_003c_002c-PO-Mode-command-1"></span>
<span id="index-po_002dfirst_002dentry_002c-PO-Mode-command"></span>
<span id="index-_003e_002c-PO-Mode-command-1"></span>
<span id="index-po_002dlast_002dentry_002c-PO-Mode-command"></span>
<p>The commands <kbd>&lt;</kbd> (<code>po-first-entry</code>) and <kbd>&gt;</kbd>
(<code>po-last-entry</code>) move the cursor to the first entry, or last
entry, of the PO file.  When the cursor is located past the last
entry in a PO file, most PO mode commands will return an error saying
&lsquo;<samp>After last entry</samp>&rsquo;.  Moreover, the commands <kbd>&lt;</kbd> and <kbd>&gt;</kbd>
have the special property of being able to work even when the cursor
is not into some PO file entry, and one may use them for nicely
correcting this situation.  But even these commands will fail on a
truly empty PO file.  There are development plans for the PO mode for it
to interactively fill an empty PO file from sources.  See <a href="#Marking">Marking Translatable Strings</a>.
</p>
<p>The translator may decide, before working at the translation of
a particular entry, that she needs to browse the remainder of the
PO file, maybe for finding the terminology or phraseology used
in related entries.  She can of course use the standard Emacs idioms
for saving the current cursor location in some register, and use that
register for getting back, or else, use the location ring.
</p>
<span id="index-m_002c-PO-Mode-command-1"></span>
<span id="index-po_002dpush_002dlocation_002c-PO-Mode-command"></span>
<span id="index-r_002c-PO-Mode-command-1"></span>
<span id="index-po_002dpop_002dlocation_002c-PO-Mode-command"></span>
<p>PO mode offers another approach, by which cursor locations may be saved
onto a special stack.  The command <kbd>m</kbd> (<code>po-push-location</code>)
merely adds the location of current entry to the stack, pushing
the already saved locations under the new one.  The command
<kbd>r</kbd> (<code>po-pop-location</code>) consumes the top stack element and
repositions the cursor to the entry associated with that top element.
This position is then lost, for the next <kbd>r</kbd> will move the cursor
to the previously saved location, and so on until no locations remain
on the stack.
</p>
<p>If the translator wants the position to be kept on the location stack,
maybe for taking a look at the entry associated with the top
element, then go elsewhere with the intent of getting back later, she
ought to use <kbd>m</kbd> immediately after <kbd>r</kbd>.
</p>
<span id="index-x_002c-PO-Mode-command-1"></span>
<span id="index-po_002dexchange_002dlocation_002c-PO-Mode-command"></span>
<p>The command <kbd>x</kbd> (<code>po-exchange-location</code>) simultaneously
repositions the cursor to the entry associated with the top element of
the stack of saved locations, and replaces that top element with the
location of the current entry before the move.  Consequently, repeating
the <kbd>x</kbd> command toggles alternatively between two entries.
For achieving this, the translator will position the cursor on the
first entry, use <kbd>m</kbd>, then position to the second entry, and
merely use <kbd>x</kbd> for making the switch.
</p>
<hr>
</div>
<div class="subsection" id="Normalizing">
<div class="header">
<p>
Next: <a href="#Translated-Entries" accesskey="n" rel="next">Translated Entries</a>, Previous: <a href="#Entry-Positioning" accesskey="p" rel="prev">Entry Positioning</a>, Up: <a href="#PO-Mode" accesskey="u" rel="up">Emacs&rsquo;s PO File Editor</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Program-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Normalizing-Strings-in-Entries"></span><h4 class="subsection">8.3.4 Normalizing Strings in Entries</h4>
<span id="index-string-normalization-in-entries"></span>

<p>There are many different ways for encoding a particular string into a
PO file entry, because there are so many different ways to split and
quote multi-line strings, and even, to represent special characters
by backslashed escaped sequences.  Some features of PO mode rely on
the ability for PO mode to scan an already existing PO file for a
particular string encoded into the <code>msgid</code> field of some entry.
Even if PO mode has internally all the built-in machinery for
implementing this recognition easily, doing it fast is technically
difficult.  To facilitate a solution to this efficiency problem,
we decided on a canonical representation for strings.
</p>
<p>A conventional representation of strings in a PO file is currently
under discussion, and PO mode experiments with a canonical representation.
Having both <code>xgettext</code> and PO mode converging towards a uniform
way of representing equivalent strings would be useful, as the internal
normalization needed by PO mode could be automatically satisfied
when using <code>xgettext</code> from GNU <code>gettext</code>.  An explicit
PO mode normalization should then be only necessary for PO files
imported from elsewhere, or for when the convention itself evolves.
</p>
<p>So, for achieving normalization of at least the strings of a given
PO file needing a canonical representation, the following PO mode
command is available:
</p>
<span id="index-string-normalization-in-entries-1"></span>
<dl compact="compact">
<dt id='index-po_002dnormalize_002c-PO-Mode-command'><span><kbd>M-x po-normalize</kbd><a href='#index-po_002dnormalize_002c-PO-Mode-command' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Tidy the whole PO file by making entries more uniform.
</p>
</dd>
</dl>

<p>The special command <kbd>M-x po-normalize</kbd>, which has no associated
keys, revises all entries, ensuring that strings of both original
and translated entries use uniform internal quoting in the PO file.
It also removes any crumb after the last entry.  This command may be
useful for PO files freshly imported from elsewhere, or if we ever
improve on the canonical quoting format we use.  This canonical format
is not only meant for getting cleaner PO files, but also for greatly
speeding up <code>msgid</code> string lookup for some other PO mode commands.
</p>
<p><kbd>M-x po-normalize</kbd> presently makes three passes over the entries.
The first implements heuristics for converting PO files for GNU
<code>gettext</code> 0.6 and earlier, in which <code>msgid</code> and <code>msgstr</code>
fields were using K&amp;R style C string syntax for multi-line strings.
These heuristics may fail for comments not related to obsolete
entries and ending with a backslash; they also depend on subsequent
passes for finalizing the proper commenting of continued lines for
obsolete entries.  This first pass might disappear once all oldish PO
files would have been adjusted.  The second and third pass normalize
all <code>msgid</code> and <code>msgstr</code> strings respectively.  They also
clean out those trailing backslashes used by XView&rsquo;s <code>msgfmt</code>
for continued lines.
</p>
<span id="index-importing-PO-files"></span>
<p>Having such an explicit normalizing command allows for importing PO
files from other sources, but also eases the evolution of the current
convention, evolution driven mostly by aesthetic concerns, as of now.
It is easy to make suggested adjustments at a later time, as the
normalizing command and eventually, other GNU <code>gettext</code> tools
should greatly automate conformance.  A description of the canonical
string format is given below, for the particular benefit of those not
having Emacs handy, and who would nevertheless want to handcraft
their PO files in nice ways.
</p>
<span id="index-multi_002dline-strings"></span>
<p>Right now, in PO mode, strings are single line or multi-line.  A string
goes multi-line if and only if it has <em>embedded</em> newlines, that
is, if it matches &lsquo;<samp>[^\n]\n+[^\n]</samp>&rsquo;.  So, we would have:
</p>
<div class="example">
<pre class="example">msgstr &quot;\n\nHello, world!\n\n\n&quot;
</pre></div>

<p>but, replacing the space by a newline, this becomes:
</p>
<div class="example">
<pre class="example">msgstr &quot;&quot;
&quot;\n&quot;
&quot;\n&quot;
&quot;Hello,\n&quot;
&quot;world!\n&quot;
&quot;\n&quot;
&quot;\n&quot;
</pre></div>

<p>We are deliberately using a caricatural example, here, to make the
point clearer.  Usually, multi-lines are not that bad looking.
It is probable that we will implement the following suggestion.
We might lump together all initial newlines into the empty string,
and also all newlines introducing empty lines (that is, for <var>n</var>&nbsp;&gt;&nbsp;1<!-- /@w -->, the <var>n</var>-1&rsquo;th last newlines would go together on a separate
string), so making the previous example appear:
</p>
<div class="example">
<pre class="example">msgstr &quot;\n\n&quot;
&quot;Hello,\n&quot;
&quot;world!\n&quot;
&quot;\n\n&quot;
</pre></div>

<p>There are a few yet undecided little points about string normalization,
to be documented in this manual, once these questions settle.
</p>
<hr>
</div>
<div class="subsection" id="Translated-Entries">
<div class="header">
<p>
Next: <a href="#Fuzzy-Entries" accesskey="n" rel="next">Fuzzy Entries</a>, Previous: <a href="#Normalizing" accesskey="p" rel="prev">Normalizing Strings in Entries</a>, Up: <a href="#PO-Mode" accesskey="u" rel="up">Emacs&rsquo;s PO File Editor</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Program-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Translated-Entries-1"></span><h4 class="subsection">8.3.5 Translated Entries</h4>
<span id="index-translated-entries"></span>

<p>Each PO file entry for which the <code>msgstr</code> field has been filled with
a translation, and which is not marked as fuzzy (see <a href="#Fuzzy-Entries">Fuzzy Entries</a>),
is said to be a <em>translated</em> entry.  Only translated entries will
later be compiled by GNU <code>msgfmt</code> and become usable in programs.
Other entry types will be excluded; translation will not occur for them.
</p>
<span id="index-moving-by-translated-entries"></span>
<p>Some commands are more specifically related to translated entry processing.
</p>
<dl compact="compact">
<dt id='index-t_002c-PO-Mode-command'><span><kbd>t</kbd><a href='#index-t_002c-PO-Mode-command' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Find the next translated entry (<code>po-next-translated-entry</code>).
</p>
</dd>
<dt id='index-T_002c-PO-Mode-command'><span><kbd>T</kbd><a href='#index-T_002c-PO-Mode-command' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Find the previous translated entry (<code>po-previous-translated-entry</code>).
</p>
</dd>
</dl>

<span id="index-t_002c-PO-Mode-command-1"></span>
<span id="index-po_002dnext_002dtranslated_002dentry_002c-PO-Mode-command"></span>
<span id="index-T_002c-PO-Mode-command-1"></span>
<span id="index-po_002dprevious_002dtranslated_002dentry_002c-PO-Mode-command"></span>
<p>The commands <kbd>t</kbd> (<code>po-next-translated-entry</code>) and <kbd>T</kbd>
(<code>po-previous-translated-entry</code>) move forwards or backwards, chasing
for an translated entry.  If none is found, the search is extended and
wraps around in the PO file buffer.
</p>
<span id="index-po_002dauto_002dfuzzy_002don_002dedit_002c-PO-Mode-variable"></span>
<p>Translated entries usually result from the translator having edited in
a translation for them, <a href="#Modifying-Translations">Modifying Translations</a>.  However, if the
variable <code>po-auto-fuzzy-on-edit</code> is not <code>nil</code>, the entry having
received a new translation first becomes a fuzzy entry, which ought to
be later unfuzzied before becoming an official, genuine translated entry.
See <a href="#Fuzzy-Entries">Fuzzy Entries</a>.
</p>
<hr>
</div>
<div class="subsection" id="Fuzzy-Entries">
<div class="header">
<p>
Next: <a href="#Untranslated-Entries" accesskey="n" rel="next">Untranslated Entries</a>, Previous: <a href="#Translated-Entries" accesskey="p" rel="prev">Translated Entries</a>, Up: <a href="#PO-Mode" accesskey="u" rel="up">Emacs&rsquo;s PO File Editor</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Program-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Fuzzy-Entries-1"></span><h4 class="subsection">8.3.6 Fuzzy Entries</h4>
<span id="index-fuzzy-entries"></span>

<span id="index-attributes-of-a-PO-file-entry"></span>
<span id="index-attribute_002c-fuzzy"></span>
<p>Each PO file entry may have a set of <em>attributes</em>, which are
qualities given a name and explicitly associated with the translation,
using a special system comment.  One of these attributes
has the name <code>fuzzy</code>, and entries having this attribute are said
to have a fuzzy translation.  They are called fuzzy entries, for short.
</p>
<p>Fuzzy entries, even if they account for translated entries for
most other purposes, usually call for revision by the translator.
Those may be produced by applying the program <code>msgmerge</code> to
update an older translated PO files according to a new PO template
file, when this tool hypothesises that some new <code>msgid</code> has
been modified only slightly out of an older one, and chooses to pair
what it thinks to be the old translation for the new modified entry.
The slight alteration in the original string (the <code>msgid</code> string)
should often be reflected in the translated string, and this requires
the intervention of the translator.  For this reason, <code>msgmerge</code>
might mark some entries as being fuzzy.
</p>
<span id="index-moving-by-fuzzy-entries"></span>
<p>Also, the translator may decide herself to mark an entry as fuzzy
for her own convenience, when she wants to remember that the entry
has to be later revisited.  So, some commands are more specifically
related to fuzzy entry processing.
</p>
<dl compact="compact">
<dt id='index-f_002c-PO-Mode-command'><span><kbd>f</kbd><a href='#index-f_002c-PO-Mode-command' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Find the next fuzzy entry (<code>po-next-fuzzy-entry</code>).
</p>
</dd>
<dt id='index-F_002c-PO-Mode-command'><span><kbd>F</kbd><a href='#index-F_002c-PO-Mode-command' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Find the previous fuzzy entry (<code>po-previous-fuzzy-entry</code>).
</p>
</dd>
<dt id='index-TAB_002c-PO-Mode-command'><span><kbd><span class="key">TAB</span></kbd><a href='#index-TAB_002c-PO-Mode-command' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Remove the fuzzy attribute of the current entry (<code>po-unfuzzy</code>).
</p>
</dd>
</dl>

<span id="index-f_002c-PO-Mode-command-1"></span>
<span id="index-po_002dnext_002dfuzzy_002dentry_002c-PO-Mode-command"></span>
<span id="index-F_002c-PO-Mode-command-1"></span>
<span id="index-po_002dprevious_002dfuzzy_002dentry_002c-PO-Mode-command"></span>
<p>The commands <kbd>f</kbd> (<code>po-next-fuzzy-entry</code>) and <kbd>F</kbd>
(<code>po-previous-fuzzy-entry</code>) move forwards or backwards, chasing for
a fuzzy entry.  If none is found, the search is extended and wraps
around in the PO file buffer.
</p>
<span id="index-TAB_002c-PO-Mode-command-1"></span>
<span id="index-po_002dunfuzzy_002c-PO-Mode-command"></span>
<span id="index-po_002dauto_002dselect_002don_002dunfuzzy_002c-PO-Mode-variable"></span>
<p>The command <kbd><span class="key">TAB</span></kbd> (<code>po-unfuzzy</code>) removes the fuzzy
attribute associated with an entry, usually leaving it translated.
Further, if the variable <code>po-auto-select-on-unfuzzy</code> has not
the <code>nil</code> value, the <kbd><span class="key">TAB</span></kbd> command will automatically chase
for another interesting entry to work on.  The initial value of
<code>po-auto-select-on-unfuzzy</code> is <code>nil</code>.
</p>
<p>The initial value of <code>po-auto-fuzzy-on-edit</code> is <code>nil</code>.  However,
if the variable <code>po-auto-fuzzy-on-edit</code> is set to <code>t</code>, any entry
edited through the <kbd><span class="key">RET</span></kbd> command is marked fuzzy, as a way to
ensure some kind of double check, later.  In this case, the usual paradigm
is that an entry becomes fuzzy (if not already) whenever the translator
modifies it.  If she is satisfied with the translation, she then uses
<kbd><span class="key">TAB</span></kbd> to pick another entry to work on, clearing the fuzzy attribute
on the same blow.  If she is not satisfied yet, she merely uses <kbd><span class="key">SPC</span></kbd>
to chase another entry, leaving the entry fuzzy.
</p>
<span id="index-DEL_002c-PO-Mode-command"></span>
<span id="index-po_002dfade_002dout_002dentry_002c-PO-Mode-command"></span>
<p>The translator may also use the <kbd><span class="key">DEL</span></kbd> command
(<code>po-fade-out-entry</code>) over any translated entry to mark it as being
fuzzy, when she wants to easily leave a trace she wants to later return
working at this entry.
</p>
<p>Also, when time comes to quit working on a PO file buffer with the <kbd>q</kbd>
command, the translator is asked for confirmation, if fuzzy string
still exists.
</p>
<hr>
</div>
<div class="subsection" id="Untranslated-Entries">
<div class="header">
<p>
Next: <a href="#Obsolete-Entries" accesskey="n" rel="next">Obsolete Entries</a>, Previous: <a href="#Fuzzy-Entries" accesskey="p" rel="prev">Fuzzy Entries</a>, Up: <a href="#PO-Mode" accesskey="u" rel="up">Emacs&rsquo;s PO File Editor</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Program-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Untranslated-Entries-1"></span><h4 class="subsection">8.3.7 Untranslated Entries</h4>
<span id="index-untranslated-entries"></span>

<p>When <code>xgettext</code> originally creates a PO file, unless told
otherwise, it initializes the <code>msgid</code> field with the untranslated
string, and leaves the <code>msgstr</code> string to be empty.  Such entries,
having an empty translation, are said to be <em>untranslated</em> entries.
Later, when the programmer slightly modifies some string right in
the program, this change is later reflected in the PO file
by the appearance of a new untranslated entry for the modified string.
</p>
<p>The usual commands moving from entry to entry consider untranslated
entries on the same level as active entries.  Untranslated entries
are easily recognizable by the fact they end with &lsquo;<samp>msgstr&nbsp;&quot;&quot;</samp>&rsquo;<!-- /@w -->.
</p>
<span id="index-moving-by-untranslated-entries"></span>
<p>The work of the translator might be (quite naively) seen as the process
of seeking for an untranslated entry, editing a translation for
it, and repeating these actions until no untranslated entries remain.
Some commands are more specifically related to untranslated entry
processing.
</p>
<dl compact="compact">
<dt id='index-u_002c-PO-Mode-command'><span><kbd>u</kbd><a href='#index-u_002c-PO-Mode-command' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Find the next untranslated entry (<code>po-next-untranslated-entry</code>).
</p>
</dd>
<dt id='index-U_002c-PO-Mode-command'><span><kbd>U</kbd><a href='#index-U_002c-PO-Mode-command' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Find the previous untranslated entry (<code>po-previous-untransted-entry</code>).
</p>
</dd>
<dt id='index-k_002c-PO-Mode-command'><span><kbd>k</kbd><a href='#index-k_002c-PO-Mode-command' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Turn the current entry into an untranslated one (<code>po-kill-msgstr</code>).
</p>
</dd>
</dl>

<span id="index-u_002c-PO-Mode-command-1"></span>
<span id="index-po_002dnext_002duntranslated_002dentry_002c-PO-Mode-command"></span>
<span id="index-U_002c-PO-Mode-command-1"></span>
<span id="index-po_002dprevious_002duntransted_002dentry_002c-PO-Mode-command"></span>
<p>The commands <kbd>u</kbd> (<code>po-next-untranslated-entry</code>) and <kbd>U</kbd>
(<code>po-previous-untransted-entry</code>) move forwards or backwards,
chasing for an untranslated entry.  If none is found, the search is
extended and wraps around in the PO file buffer.
</p>
<span id="index-k_002c-PO-Mode-command-1"></span>
<span id="index-po_002dkill_002dmsgstr_002c-PO-Mode-command"></span>
<p>An entry can be turned back into an untranslated entry by
merely emptying its translation, using the command <kbd>k</kbd>
(<code>po-kill-msgstr</code>).  See <a href="#Modifying-Translations">Modifying Translations</a>.
</p>
<p>Also, when time comes to quit working on a PO file buffer
with the <kbd>q</kbd> command, the translator is asked for confirmation,
if some untranslated string still exists.
</p>
<hr>
</div>
<div class="subsection" id="Obsolete-Entries">
<div class="header">
<p>
Next: <a href="#Modifying-Translations" accesskey="n" rel="next">Modifying Translations</a>, Previous: <a href="#Untranslated-Entries" accesskey="p" rel="prev">Untranslated Entries</a>, Up: <a href="#PO-Mode" accesskey="u" rel="up">Emacs&rsquo;s PO File Editor</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Program-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Obsolete-Entries-1"></span><h4 class="subsection">8.3.8 Obsolete Entries</h4>
<span id="index-obsolete-entries"></span>

<p>By <em>obsolete</em> PO file entries, we mean those entries which are
commented out, usually by <code>msgmerge</code> when it found that the
translation is not needed anymore by the package being localized.
</p>
<p>The usual commands moving from entry to entry consider obsolete
entries on the same level as active entries.  Obsolete entries are
easily recognizable by the fact that all their lines start with
<code>#</code>, even those lines containing <code>msgid</code> or <code>msgstr</code>.
</p>
<p>Commands exist for emptying the translation or reinitializing it
to the original untranslated string.  Commands interfacing with the
kill ring may force some previously saved text into the translation.
The user may interactively edit the translation.  All these commands
may apply to obsolete entries, carefully leaving the entry obsolete
after the fact.
</p>
<span id="index-moving-by-obsolete-entries"></span>
<p>Moreover, some commands are more specifically related to obsolete
entry processing.
</p>
<dl compact="compact">
<dt id='index-o_002c-PO-Mode-command'><span><kbd>o</kbd><a href='#index-o_002c-PO-Mode-command' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Find the next obsolete entry (<code>po-next-obsolete-entry</code>).
</p>
</dd>
<dt id='index-O_002c-PO-Mode-command'><span><kbd>O</kbd><a href='#index-O_002c-PO-Mode-command' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Find the previous obsolete entry (<code>po-previous-obsolete-entry</code>).
</p>
</dd>
<dt id='index-DEL_002c-PO-Mode-command-1'><span><kbd><span class="key">DEL</span></kbd><a href='#index-DEL_002c-PO-Mode-command-1' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Make an active entry obsolete, or zap out an obsolete entry
(<code>po-fade-out-entry</code>).
</p>
</dd>
</dl>

<span id="index-o_002c-PO-Mode-command-1"></span>
<span id="index-po_002dnext_002dobsolete_002dentry_002c-PO-Mode-command"></span>
<span id="index-O_002c-PO-Mode-command-1"></span>
<span id="index-po_002dprevious_002dobsolete_002dentry_002c-PO-Mode-command"></span>
<p>The commands <kbd>o</kbd> (<code>po-next-obsolete-entry</code>) and <kbd>O</kbd>
(<code>po-previous-obsolete-entry</code>) move forwards or backwards,
chasing for an obsolete entry.  If none is found, the search is
extended and wraps around in the PO file buffer.
</p>
<p>PO mode does not provide ways for un-commenting an obsolete entry
and making it active, because this would reintroduce an original
untranslated string which does not correspond to any marked string
in the program sources.  This goes with the philosophy of never
introducing useless <code>msgid</code> values.
</p>
<span id="index-DEL_002c-PO-Mode-command-2"></span>
<span id="index-po_002dfade_002dout_002dentry_002c-PO-Mode-command-1"></span>
<span id="index-obsolete-active-entry"></span>
<span id="index-comment-out-PO-file-entry"></span>
<p>However, it is possible to comment out an active entry, so making
it obsolete.  GNU <code>gettext</code> utilities will later react to the
disappearance of a translation by using the untranslated string.
The command <kbd><span class="key">DEL</span></kbd> (<code>po-fade-out-entry</code>) pushes the current entry
a little further towards annihilation.  If the entry is active (it is a
translated entry), then it is first made fuzzy.  If it is already fuzzy,
then the entry is merely commented out, with confirmation.  If the entry
is already obsolete, then it is completely deleted from the PO file.
It is easy to recycle the translation so deleted into some other PO file
entry, usually one which is untranslated.  See <a href="#Modifying-Translations">Modifying Translations</a>.
</p>
<p>Here is a quite interesting problem to solve for later development of
PO mode, for those nights you are not sleepy.  The idea would be that
PO mode might become bright enough, one of these days, to make good
guesses at retrieving the most probable candidate, among all obsolete
entries, for initializing the translation of a newly appeared string.
I think it might be a quite hard problem to do this algorithmically, as
we have to develop good and efficient measures of string similarity.
Right now, PO mode completely lets the decision to the translator,
when the time comes to find the adequate obsolete translation, it
merely tries to provide handy tools for helping her to do so.
</p>
<hr>
</div>
<div class="subsection" id="Modifying-Translations">
<div class="header">
<p>
Next: <a href="#Modifying-Comments" accesskey="n" rel="next">Modifying Comments</a>, Previous: <a href="#Obsolete-Entries" accesskey="p" rel="prev">Obsolete Entries</a>, Up: <a href="#PO-Mode" accesskey="u" rel="up">Emacs&rsquo;s PO File Editor</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Program-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Modifying-Translations-1"></span><h4 class="subsection">8.3.9 Modifying Translations</h4>
<span id="index-editing-translations"></span>
<span id="index-editing-translations-1"></span>

<p>PO mode prevents direct modification of the PO file, by the usual
means Emacs gives for altering a buffer&rsquo;s contents.  By doing so,
it pretends helping the translator to avoid little clerical errors
about the overall file format, or the proper quoting of strings,
as those errors would be easily made.  Other kinds of errors are
still possible, but some may be caught and diagnosed by the batch
validation process, which the translator may always trigger by the
<kbd>V</kbd> command.  For all other errors, the translator has to rely on
her own judgment, and also on the linguistic reports submitted to her
by the users of the translated package, having the same mother tongue.
</p>
<p>When the time comes to create a translation, correct an error diagnosed
mechanically or reported by a user, the translators have to resort to
using the following commands for modifying the translations.
</p>
<dl compact="compact">
<dt id='index-RET_002c-PO-Mode-command'><span><kbd><span class="key">RET</span></kbd><a href='#index-RET_002c-PO-Mode-command' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Interactively edit the translation (<code>po-edit-msgstr</code>).
</p>
</dd>
<dt id='index-LFD_002c-PO-Mode-command'><span><kbd><span class="key">LFD</span></kbd><a href='#index-LFD_002c-PO-Mode-command' class='copiable-anchor'> &para;</a></span></dt>
<dt><span><kbd>C-j</kbd></span></dt>
<dd><span id="index-C_002dj_002c-PO-Mode-command"></span>
<p>Reinitialize the translation with the original, untranslated string
(<code>po-msgid-to-msgstr</code>).
</p>
</dd>
<dt id='index-k_002c-PO-Mode-command-2'><span><kbd>k</kbd><a href='#index-k_002c-PO-Mode-command-2' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Save the translation on the kill ring, and delete it (<code>po-kill-msgstr</code>).
</p>
</dd>
<dt id='index-w_002c-PO-Mode-command'><span><kbd>w</kbd><a href='#index-w_002c-PO-Mode-command' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Save the translation on the kill ring, without deleting it
(<code>po-kill-ring-save-msgstr</code>).
</p>
</dd>
<dt id='index-y_002c-PO-Mode-command'><span><kbd>y</kbd><a href='#index-y_002c-PO-Mode-command' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Replace the translation, taking the new from the kill ring
(<code>po-yank-msgstr</code>).
</p>
</dd>
</dl>

<span id="index-RET_002c-PO-Mode-command-1"></span>
<span id="index-po_002dedit_002dmsgstr_002c-PO-Mode-command"></span>
<p>The command <kbd><span class="key">RET</span></kbd> (<code>po-edit-msgstr</code>) opens a new Emacs
window meant to edit in a new translation, or to modify an already existing
translation.  The new window contains a copy of the translation taken from
the current PO file entry, all ready for edition, expunged of all quoting
marks, fully modifiable and with the complete extent of Emacs modifying
commands.  When the translator is done with her modifications, she may use
<kbd><span class="nolinebreak">C-c</span>&nbsp;<span class="nolinebreak">C-c</span></kbd><!-- /@w --> to close the subedit window with the automatically requoted
results, or <kbd><span class="nolinebreak">C-c</span>&nbsp;<span class="nolinebreak">C-k</span></kbd><!-- /@w --> to abort her modifications.  See <a href="#Subedit">Details of Sub Edition</a>,
for more information.
</p>
<span id="index-LFD_002c-PO-Mode-command-1"></span>
<span id="index-C_002dj_002c-PO-Mode-command-1"></span>
<span id="index-po_002dmsgid_002dto_002dmsgstr_002c-PO-Mode-command"></span>
<p>The command <kbd><span class="key">LFD</span></kbd> (<code>po-msgid-to-msgstr</code>) initializes, or
reinitializes the translation with the original string.  This command is
normally used when the translator wants to redo a fresh translation of
the original string, disregarding any previous work.
</p>
<span id="index-po_002dauto_002dedit_002dwith_002dmsgid_002c-PO-Mode-variable"></span>
<p>It is possible to arrange so, whenever editing an untranslated
entry, the <kbd><span class="key">LFD</span></kbd> command be automatically executed.  If you set
<code>po-auto-edit-with-msgid</code> to <code>t</code>, the translation gets
initialised with the original string, in case none exists already.
The default value for <code>po-auto-edit-with-msgid</code> is <code>nil</code>.
</p>
<span id="index-starting-a-string-translation"></span>
<p>In fact, whether it is best to start a translation with an empty
string, or rather with a copy of the original string, is a matter of
taste or habit.  Sometimes, the source language and the
target language are so different that is simply best to start writing
on an empty page.  At other times, the source and target languages
are so close that it would be a waste to retype a number of words
already being written in the original string.  A translator may also
like having the original string right under her eyes, as she will
progressively overwrite the original text with the translation, even
if this requires some extra editing work to get rid of the original.
</p>
<span id="index-cut-and-paste-for-translated-strings"></span>
<span id="index-k_002c-PO-Mode-command-3"></span>
<span id="index-po_002dkill_002dmsgstr_002c-PO-Mode-command-1"></span>
<span id="index-w_002c-PO-Mode-command-1"></span>
<span id="index-po_002dkill_002dring_002dsave_002dmsgstr_002c-PO-Mode-command"></span>
<p>The command <kbd>k</kbd> (<code>po-kill-msgstr</code>) merely empties the
translation string, so turning the entry into an untranslated
one.  But while doing so, its previous contents is put apart in
a special place, known as the kill ring.  The command <kbd>w</kbd>
(<code>po-kill-ring-save-msgstr</code>) has also the effect of taking a
copy of the translation onto the kill ring, but it otherwise leaves
the entry alone, and does <em>not</em> remove the translation from the
entry.  Both commands use exactly the Emacs kill ring, which is shared
between buffers, and which is well known already to Emacs lovers.
</p>
<p>The translator may use <kbd>k</kbd> or <kbd>w</kbd> many times in the course
of her work, as the kill ring may hold several saved translations.
From the kill ring, strings may later be reinserted in various
Emacs buffers.  In particular, the kill ring may be used for moving
translation strings between different entries of a single PO file
buffer, or if the translator is handling many such buffers at once,
even between PO files.
</p>
<p>To facilitate exchanges with buffers which are not in PO mode, the
translation string put on the kill ring by the <kbd>k</kbd> command is fully
unquoted before being saved: external quotes are removed, multi-line
strings are concatenated, and backslash escaped sequences are turned
into their corresponding characters.  In the special case of obsolete
entries, the translation is also uncommented prior to saving.
</p>
<span id="index-y_002c-PO-Mode-command-1"></span>
<span id="index-po_002dyank_002dmsgstr_002c-PO-Mode-command"></span>
<p>The command <kbd>y</kbd> (<code>po-yank-msgstr</code>) completely replaces the
translation of the current entry by a string taken from the kill ring.
Following Emacs terminology, we then say that the replacement
string is <em>yanked</em> into the PO file buffer.
See <a data-manual="emacs" href="https://www.gnu.org/software/emacs/manual/html_mono/emacs.html#Yanking">Yanking</a> in <cite>The Emacs Editor</cite>.
The first time <kbd>y</kbd> is used, the translation receives the value of
the most recent addition to the kill ring.  If <kbd>y</kbd> is typed once
again, immediately, without intervening keystrokes, the translation
just inserted is taken away and replaced by the second most recent
addition to the kill ring.  By repeating <kbd>y</kbd> many times in a row,
the translator may travel along the kill ring for saved strings,
until she finds the string she really wanted.
</p>
<p>When a string is yanked into a PO file entry, it is fully and
automatically requoted for complying with the format PO files should
have.  Further, if the entry is obsolete, PO mode then appropriately
push the inserted string inside comments.  Once again, translators
should not burden themselves with quoting considerations besides, of
course, the necessity of the translated string itself respective to
the program using it.
</p>
<p>Note that <kbd>k</kbd> or <kbd>w</kbd> are not the only commands pushing strings
on the kill ring, as almost any PO mode command replacing translation
strings (or the translator comments) automatically saves the old string
on the kill ring.  The main exceptions to this general rule are the
yanking commands themselves.
</p>
<span id="index-using-obsolete-translations-to-make-new-entries"></span>
<p>To better illustrate the operation of killing and yanking, let&rsquo;s
use an actual example, taken from a common situation.  When the
programmer slightly modifies some string right in the program, his
change is later reflected in the PO file by the appearance
of a new untranslated entry for the modified string, and the fact
that the entry translating the original or unmodified string becomes
obsolete.  In many cases, the translator might spare herself some work
by retrieving the unmodified translation from the obsolete entry,
then initializing the untranslated entry <code>msgstr</code> field with
this retrieved translation.  Once this done, the obsolete entry is
not wanted anymore, and may be safely deleted.
</p>
<p>When the translator finds an untranslated entry and suspects that a
slight variant of the translation exists, she immediately uses <kbd>m</kbd>
to mark the current entry location, then starts chasing obsolete
entries with <kbd>o</kbd>, hoping to find some translation corresponding
to the unmodified string.  Once found, she uses the <kbd><span class="key">DEL</span></kbd> command
for deleting the obsolete entry, knowing that <kbd><span class="key">DEL</span></kbd> also <em>kills</em>
the translation, that is, pushes the translation on the kill ring.
Then, <kbd>r</kbd> returns to the initial untranslated entry, and <kbd>y</kbd>
then <em>yanks</em> the saved translation right into the <code>msgstr</code>
field.  The translator is then free to use <kbd><span class="key">RET</span></kbd> for fine
tuning the translation contents, and maybe to later use <kbd>u</kbd>,
then <kbd>m</kbd> again, for going on with the next untranslated string.
</p>
<p>When some sequence of keys has to be typed over and over again, the
translator may find it useful to become better acquainted with the Emacs
capability of learning these sequences and playing them back under request.
See <a data-manual="emacs" href="https://www.gnu.org/software/emacs/manual/html_mono/emacs.html#Keyboard-Macros">Keyboard Macros</a> in <cite>The Emacs Editor</cite>.
</p>
<hr>
</div>
<div class="subsection" id="Modifying-Comments">
<div class="header">
<p>
Next: <a href="#Subedit" accesskey="n" rel="next">Details of Sub Edition</a>, Previous: <a href="#Modifying-Translations" accesskey="p" rel="prev">Modifying Translations</a>, Up: <a href="#PO-Mode" accesskey="u" rel="up">Emacs&rsquo;s PO File Editor</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Program-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Modifying-Comments-1"></span><h4 class="subsection">8.3.10 Modifying Comments</h4>
<span id="index-editing-comments-in-PO-files"></span>
<span id="index-editing-comments"></span>

<p>Any translation work done seriously will raise many linguistic
difficulties, for which decisions have to be made, and the choices
further documented.  These documents may be saved within the
PO file in form of translator comments, which the translator
is free to create, delete, or modify at will.  These comments may
be useful to herself when she returns to this PO file after a while.
</p>
<p>Comments not having whitespace after the initial &lsquo;<samp>#</samp>&rsquo;, for example,
those beginning with &lsquo;<samp>#.</samp>&rsquo; or &lsquo;<samp>#:</samp>&rsquo;, are <em>not</em> translator
comments, they are exclusively created by other <code>gettext</code> tools.
So, the commands below will never alter such system added comments,
they are not meant for the translator to modify.  See <a href="#PO-Files">The Format of PO Files</a>.
</p>
<p>The following commands are somewhat similar to those modifying translations,
so the general indications given for those apply here.  See <a href="#Modifying-Translations">Modifying Translations</a>.
</p>
<dl compact="compact">
<dt id='index-_0023_002c-PO-Mode-command'><span><kbd>#</kbd><a href='#index-_0023_002c-PO-Mode-command' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Interactively edit the translator comments (<code>po-edit-comment</code>).
</p>
</dd>
<dt id='index-K_002c-PO-Mode-command'><span><kbd>K</kbd><a href='#index-K_002c-PO-Mode-command' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Save the translator comments on the kill ring, and delete it
(<code>po-kill-comment</code>).
</p>
</dd>
<dt id='index-W_002c-PO-Mode-command'><span><kbd>W</kbd><a href='#index-W_002c-PO-Mode-command' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Save the translator comments on the kill ring, without deleting it
(<code>po-kill-ring-save-comment</code>).
</p>
</dd>
<dt id='index-Y_002c-PO-Mode-command'><span><kbd>Y</kbd><a href='#index-Y_002c-PO-Mode-command' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Replace the translator comments, taking the new from the kill ring
(<code>po-yank-comment</code>).
</p>
</dd>
</dl>

<p>These commands parallel PO mode commands for modifying the translation
strings, and behave much the same way as they do, except that they handle
this part of PO file comments meant for translator usage, rather
than the translation strings.  So, if the descriptions given below are
slightly succinct, it is because the full details have already been given.
See <a href="#Modifying-Translations">Modifying Translations</a>.
</p>
<span id="index-_0023_002c-PO-Mode-command-1"></span>
<span id="index-po_002dedit_002dcomment_002c-PO-Mode-command"></span>
<p>The command <kbd>#</kbd> (<code>po-edit-comment</code>) opens a new Emacs window
containing a copy of the translator comments on the current PO file entry.
If there are no such comments, PO mode understands that the translator wants
to add a comment to the entry, and she is presented with an empty screen.
Comment marks (<code>#</code>) and the space following them are automatically
removed before edition, and reinstated after.  For translator comments
pertaining to obsolete entries, the uncommenting and recommenting operations
are done twice.  Once in the editing window, the keys <kbd><span class="nolinebreak">C-c</span>&nbsp;<span class="nolinebreak">C-c</span></kbd><!-- /@w -->
allow the translator to tell she is finished with editing the comment.
See <a href="#Subedit">Details of Sub Edition</a>, for further details.
</p>
<span id="index-po_002dsubedit_002dmode_002dhook_002c-PO-Mode-variable"></span>
<p>Functions found on <code>po-subedit-mode-hook</code>, if any, are executed after
the string has been inserted in the edit buffer.
</p>
<span id="index-K_002c-PO-Mode-command-1"></span>
<span id="index-po_002dkill_002dcomment_002c-PO-Mode-command"></span>
<span id="index-W_002c-PO-Mode-command-1"></span>
<span id="index-po_002dkill_002dring_002dsave_002dcomment_002c-PO-Mode-command"></span>
<span id="index-Y_002c-PO-Mode-command-1"></span>
<span id="index-po_002dyank_002dcomment_002c-PO-Mode-command"></span>
<p>The command <kbd>K</kbd> (<code>po-kill-comment</code>) gets rid of all
translator comments, while saving those comments on the kill ring.
The command <kbd>W</kbd> (<code>po-kill-ring-save-comment</code>) takes
a copy of the translator comments on the kill ring, but leaves
them undisturbed in the current entry.  The command <kbd>Y</kbd>
(<code>po-yank-comment</code>) completely replaces the translator comments
by a string taken at the front of the kill ring.  When this command
is immediately repeated, the comments just inserted are withdrawn,
and replaced by other strings taken along the kill ring.
</p>
<p>On the kill ring, all strings have the same nature.  There is no
distinction between <em>translation</em> strings and <em>translator
comments</em> strings.  So, for example, let&rsquo;s presume the translator
has just finished editing a translation, and wants to create a new
translator comment to document why the previous translation was
not good, just to remember what was the problem.  Foreseeing that she
will do that in her documentation, the translator may want to quote
the previous translation in her translator comments.  To do so, she
may initialize the translator comments with the previous translation,
still at the head of the kill ring.  Because editing already pushed the
previous translation on the kill ring, she merely has to type <kbd>M-w</kbd>
prior to <kbd>#</kbd>, and the previous translation will be right there,
all ready for being introduced by some explanatory text.
</p>
<p>On the other hand, presume there are some translator comments already
and that the translator wants to add to those comments, instead
of wholly replacing them.  Then, she should edit the comment right
away with <kbd>#</kbd>.  Once inside the editing window, she can use the
regular Emacs commands <kbd>C-y</kbd> (<code>yank</code>) and <kbd>M-y</kbd>
(<code>yank-pop</code>) to get the previous translation where she likes.
</p>
<hr>
</div>
<div class="subsection" id="Subedit">
<div class="header">
<p>
Next: <a href="#C-Sources-Context" accesskey="n" rel="next">C Sources Context</a>, Previous: <a href="#Modifying-Comments" accesskey="p" rel="prev">Modifying Comments</a>, Up: <a href="#PO-Mode" accesskey="u" rel="up">Emacs&rsquo;s PO File Editor</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Program-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Details-of-Sub-Edition"></span><h4 class="subsection">8.3.11 Details of Sub Edition</h4>
<span id="index-subedit-minor-mode"></span>

<p>The PO subedit minor mode has a few peculiarities worth being described
in fuller detail.  It installs a few commands over the usual editing set
of Emacs, which are described below.
</p>
<dl compact="compact">
<dt id='index-C_002dc-C_002dc_002c-PO-Mode-command'><span><kbd>C-c C-c</kbd><a href='#index-C_002dc-C_002dc_002c-PO-Mode-command' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Complete edition (<code>po-subedit-exit</code>).
</p>
</dd>
<dt id='index-C_002dc-C_002dk_002c-PO-Mode-command'><span><kbd>C-c C-k</kbd><a href='#index-C_002dc-C_002dk_002c-PO-Mode-command' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Abort edition (<code>po-subedit-abort</code>).
</p>
</dd>
<dt id='index-C_002dc-C_002da_002c-PO-Mode-command'><span><kbd>C-c C-a</kbd><a href='#index-C_002dc-C_002da_002c-PO-Mode-command' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Consult auxiliary PO files (<code>po-subedit-cycle-auxiliary</code>).
</p>
</dd>
</dl>

<span id="index-exiting-PO-subedit"></span>
<span id="index-C_002dc-C_002dc_002c-PO-Mode-command-1"></span>
<span id="index-po_002dsubedit_002dexit_002c-PO-Mode-command"></span>
<p>The window&rsquo;s contents represents a translation for a given message,
or a translator comment.  The translator may modify this window to
her heart&rsquo;s content.  Once this is done, the command <kbd><span class="nolinebreak">C-c</span>&nbsp;<span class="nolinebreak">C-c</span></kbd><!-- /@w -->
(<code>po-subedit-exit</code>) may be used to return the edited translation into
the PO file, replacing the original translation, even if it moved out of
sight or if buffers were switched.
</p>
<span id="index-C_002dc-C_002dk_002c-PO-Mode-command-1"></span>
<span id="index-po_002dsubedit_002dabort_002c-PO-Mode-command"></span>
<p>If the translator becomes unsatisfied with her translation or comment,
to the extent she prefers keeping what was existent prior to the
<kbd><span class="key">RET</span></kbd> or <kbd>#</kbd> command, she may use the command <kbd><span class="nolinebreak">C-c</span>&nbsp;<span class="nolinebreak">C-k</span></kbd><!-- /@w -->
(<code>po-subedit-abort</code>) to merely get rid of edition, while preserving
the original translation or comment.  Another way would be for her to exit
normally with <kbd><span class="nolinebreak">C-c</span>&nbsp;<span class="nolinebreak">C-c</span></kbd><!-- /@w -->, then type <code>U</code> once for undoing the
whole effect of last edition.
</p>
<span id="index-C_002dc-C_002da_002c-PO-Mode-command-1"></span>
<span id="index-po_002dsubedit_002dcycle_002dauxiliary_002c-PO-Mode-command"></span>
<p>The command <kbd><span class="nolinebreak">C-c</span>&nbsp;<span class="nolinebreak">C-a</span></kbd><!-- /@w --> (<code>po-subedit-cycle-auxiliary</code>)
allows for glancing through translations
already achieved in other languages, directly while editing the current
translation.  This may be quite convenient when the translator is fluent
at many languages, but of course, only makes sense when such completed
auxiliary PO files are already available to her (see <a href="#Auxiliary">Consulting Auxiliary PO Files</a>).
</p>
<p>Functions found on <code>po-subedit-mode-hook</code>, if any, are executed after
the string has been inserted in the edit buffer.
</p>
<p>While editing her translation, the translator should pay attention to not
inserting unwanted <kbd><span class="key">RET</span></kbd> (newline) characters at the end of
the translated string if those are not meant to be there, or to removing
such characters when they are required.  Since these characters are not
visible in the editing buffer, they are easily introduced by mistake.
To help her, <kbd><span class="key">RET</span></kbd> automatically puts the character <code>&lt;</code>
at the end of the string being edited, but this <code>&lt;</code> is not really
part of the string.  On exiting the editing window with <kbd><span class="nolinebreak">C-c</span>&nbsp;<span class="nolinebreak">C-c</span></kbd><!-- /@w -->,
PO mode automatically removes such <kbd>&lt;</kbd> and all whitespace added after
it.  If the translator adds characters after the terminating <code>&lt;</code>, it
looses its delimiting property and integrally becomes part of the string.
If she removes the delimiting <code>&lt;</code>, then the edited string is taken
<em>as is</em>, with all trailing newlines, even if invisible.  Also, if
the translated string ought to end itself with a genuine <code>&lt;</code>, then
the delimiting <code>&lt;</code> may not be removed; so the string should appear,
in the editing window, as ending with two <code>&lt;</code> in a row.
</p>
<span id="index-editing-multiple-entries"></span>
<p>When a translation (or a comment) is being edited, the translator may move
the cursor back into the PO file buffer and freely move to other entries,
browsing at will.  If, with an edition pending, the translator wanders in the
PO file buffer, she may decide to start modifying another entry.  Each entry
being edited has its own subedit buffer.  It is possible to simultaneously
edit the translation <em>and</em> the comment of a single entry, or to
edit entries in different PO files, all at once.  Typing <kbd><span class="key">RET</span></kbd>
on a field already being edited merely resumes that particular edit.  Yet,
the translator should better be comfortable at handling many Emacs windows!
</p>
<span id="index-pending-subedits"></span>
<p>Pending subedits may be completed or aborted in any order, regardless
of how or when they were started.  When many subedits are pending and the
translator asks for quitting the PO file (with the <kbd>q</kbd> command), subedits
are automatically resumed one at a time, so she may decide for each of them.
</p>
<hr>
</div>
<div class="subsection" id="C-Sources-Context">
<div class="header">
<p>
Next: <a href="#Auxiliary" accesskey="n" rel="next">Consulting Auxiliary PO Files</a>, Previous: <a href="#Subedit" accesskey="p" rel="prev">Details of Sub Edition</a>, Up: <a href="#PO-Mode" accesskey="u" rel="up">Emacs&rsquo;s PO File Editor</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Program-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="C-Sources-Context-1"></span><h4 class="subsection">8.3.12 C Sources Context</h4>
<span id="index-consulting-program-sources"></span>
<span id="index-looking-at-the-source-to-aid-translation"></span>
<span id="index-use-the-source_002c-Luke"></span>

<p>PO mode is particularly powerful when used with PO files
created through GNU <code>gettext</code> utilities, as those utilities
insert special comments in the PO files they generate.
Some of these special comments relate the PO file entry to
exactly where the untranslated string appears in the program sources.
</p>
<p>When the translator gets to an untranslated entry, she is fairly
often faced with an original string which is not as informative as
it normally should be, being succinct, cryptic, or otherwise ambiguous.
Before choosing how to translate the string, she needs to understand
better what the string really means and how tight the translation has
to be.  Most of the time, when problems arise, the only way left to make
her judgment is looking at the true program sources from where this
string originated, searching for surrounding comments the programmer
might have put in there, and looking around for helping clues of
<em>any</em> kind.
</p>
<p>Surely, when looking at program sources, the translator will receive
more help if she is a fluent programmer.  However, even if she is
not versed in programming and feels a little lost in C code, the
translator should not be shy at taking a look, once in a while.
It is most probable that she will still be able to find some of the
hints she needs.  She will learn quickly to not feel uncomfortable
in program code, paying more attention to programmer&rsquo;s comments,
variable and function names (if he dared choosing them well), and
overall organization, than to the program code itself.
</p>
<span id="index-find-source-fragment-for-a-PO-file-entry"></span>
<p>The following commands are meant to help the translator at getting
program source context for a PO file entry.
</p>
<dl compact="compact">
<dt id='index-s_002c-PO-Mode-command'><span><kbd>s</kbd><a href='#index-s_002c-PO-Mode-command' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Resume the display of a program source context, or cycle through them
(<code>po-cycle-source-reference</code>).
</p>
</dd>
<dt id='index-M_002ds_002c-PO-Mode-command'><span><kbd>M-s</kbd><a href='#index-M_002ds_002c-PO-Mode-command' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Display of a program source context selected by menu
(<code>po-select-source-reference</code>).
</p>
</dd>
<dt id='index-S_002c-PO-Mode-command'><span><kbd>S</kbd><a href='#index-S_002c-PO-Mode-command' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Add a directory to the search path for source files
(<code>po-consider-source-path</code>).
</p>
</dd>
<dt id='index-M_002dS_002c-PO-Mode-command'><span><kbd>M-S</kbd><a href='#index-M_002dS_002c-PO-Mode-command' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Delete a directory from the search path for source files
(<code>po-ignore-source-path</code>).
</p>
</dd>
</dl>

<span id="index-s_002c-PO-Mode-command-1"></span>
<span id="index-po_002dcycle_002dsource_002dreference_002c-PO-Mode-command"></span>
<span id="index-M_002ds_002c-PO-Mode-command-1"></span>
<span id="index-po_002dselect_002dsource_002dreference_002c-PO-Mode-command"></span>
<p>The commands <kbd>s</kbd> (<code>po-cycle-source-reference</code>) and <kbd>M-s</kbd>
(<code>po-select-source-reference</code>) both open another window displaying
some source program file, and already positioned in such a way that
it shows an actual use of the string to be translated.  By doing
so, the command gives source program context for the string.  But if
the entry has no source context references, or if all references
are unresolved along the search path for program sources, then the
command diagnoses this as an error.
</p>
<p>Even if <kbd>s</kbd> (or <kbd>M-s</kbd>) opens a new window, the cursor stays
in the PO file window.  If the translator really wants to
get into the program source window, she ought to do it explicitly,
maybe by using command <kbd>O</kbd>.
</p>
<p>When <kbd>s</kbd> is typed for the first time, or for a PO file entry which
is different of the last one used for getting source context, then the
command reacts by giving the first context available for this entry,
if any.  If some context has already been recently displayed for the
current PO file entry, and the translator wandered off to do other
things, typing <kbd>s</kbd> again will merely resume, in another window,
the context last displayed.  In particular, if the translator moved
the cursor away from the context in the source file, the command will
bring the cursor back to the context.  By using <kbd>s</kbd> many times
in a row, with no other commands intervening, PO mode will cycle to
the next available contexts for this particular entry, getting back
to the first context once the last has been shown.
</p>
<p>The command <kbd>M-s</kbd> behaves differently.  Instead of cycling through
references, it lets the translator choose a particular reference among
many, and displays that reference.  It is best used with completion,
if the translator types <kbd><span class="key">TAB</span></kbd> immediately after <kbd>M-s</kbd>, in
response to the question, she will be offered a menu of all possible
references, as a reminder of which are the acceptable answers.
This command is useful only where there are really many contexts
available for a single string to translate.
</p>
<span id="index-S_002c-PO-Mode-command-1"></span>
<span id="index-po_002dconsider_002dsource_002dpath_002c-PO-Mode-command"></span>
<span id="index-M_002dS_002c-PO-Mode-command-1"></span>
<span id="index-po_002dignore_002dsource_002dpath_002c-PO-Mode-command"></span>
<p>Program source files are usually found relative to where the PO
file stands.  As a special provision, when this fails, the file is
also looked for, but relative to the directory immediately above it.
Those two cases take proper care of most PO files.  However, it might
happen that a PO file has been moved, or is edited in a different
place than its normal location.  When this happens, the translator
should tell PO mode in which directory normally sits the genuine PO
file.  Many such directories may be specified, and all together, they
constitute what is called the <em>search path</em> for program sources.
The command <kbd>S</kbd> (<code>po-consider-source-path</code>) is used to interactively
enter a new directory at the front of the search path, and the command
<kbd>M-S</kbd> (<code>po-ignore-source-path</code>) is used to select, with completion,
one of the directories she does not want anymore on the search path.
</p>
<hr>
</div>
<div class="subsection" id="Auxiliary">
<div class="header">
<p>
Previous: <a href="#C-Sources-Context" accesskey="p" rel="prev">C Sources Context</a>, Up: <a href="#PO-Mode" accesskey="u" rel="up">Emacs&rsquo;s PO File Editor</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Program-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Consulting-Auxiliary-PO-Files"></span><h4 class="subsection">8.3.13 Consulting Auxiliary PO Files</h4>
<span id="index-consulting-translations-to-other-languages"></span>

<p>PO mode is able to help the knowledgeable translator, being fluent in
many languages, at taking advantage of translations already achieved
in other languages she just happens to know.  It provides these other
language translations as additional context for her own work.  Moreover,
it has features to ease the production of translations for many languages
at once, for translators preferring to work in this way.
</p>
<span id="index-auxiliary-PO-file"></span>
<span id="index-auxiliary-PO-file-1"></span>
<p>An <em>auxiliary</em> PO file is an existing PO file meant for the same
package the translator is working on, but targeted to a different mother
tongue language.  Commands exist for declaring and handling auxiliary
PO files, and also for showing contexts for the entry under work.
</p>
<p>Here are the auxiliary file commands available in PO mode.
</p>
<dl compact="compact">
<dt id='index-a_002c-PO-Mode-command'><span><kbd>a</kbd><a href='#index-a_002c-PO-Mode-command' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Seek auxiliary files for another translation for the same entry
(<code>po-cycle-auxiliary</code>).
</p>
</dd>
<dt id='index-C_002dc-C_002da_002c-PO-Mode-command-2'><span><kbd>C-c C-a</kbd><a href='#index-C_002dc-C_002da_002c-PO-Mode-command-2' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Switch to a particular auxiliary file (<code>po-select-auxiliary</code>).
</p>
</dd>
<dt id='index-A_002c-PO-Mode-command'><span><kbd>A</kbd><a href='#index-A_002c-PO-Mode-command' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Declare this PO file as an auxiliary file (<code>po-consider-as-auxiliary</code>).
</p>
</dd>
<dt id='index-M_002dA_002c-PO-Mode-command'><span><kbd>M-A</kbd><a href='#index-M_002dA_002c-PO-Mode-command' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Remove this PO file from the list of auxiliary files
(<code>po-ignore-as-auxiliary</code>).
</p>
</dd>
</dl>

<span id="index-A_002c-PO-Mode-command-1"></span>
<span id="index-po_002dconsider_002das_002dauxiliary_002c-PO-Mode-command"></span>
<span id="index-M_002dA_002c-PO-Mode-command-1"></span>
<span id="index-po_002dignore_002das_002dauxiliary_002c-PO-Mode-command"></span>
<p>Command <kbd>A</kbd> (<code>po-consider-as-auxiliary</code>) adds the current
PO file to the list of auxiliary files, while command <kbd>M-A</kbd>
(<code>po-ignore-as-auxiliary</code> just removes it.
</p>
<span id="index-a_002c-PO-Mode-command-1"></span>
<span id="index-po_002dcycle_002dauxiliary_002c-PO-Mode-command"></span>
<p>The command <kbd>a</kbd> (<code>po-cycle-auxiliary</code>) seeks all auxiliary PO
files, round-robin, searching for a translated entry in some other language
having an <code>msgid</code> field identical as the one for the current entry.
The found PO file, if any, takes the place of the current PO file in
the display (its window gets on top).  Before doing so, the current PO
file is also made into an auxiliary file, if not already.  So, <kbd>a</kbd>
in this newly displayed PO file will seek another PO file, and so on,
so repeating <kbd>a</kbd> will eventually yield back the original PO file.
</p>
<span id="index-C_002dc-C_002da_002c-PO-Mode-command-3"></span>
<span id="index-po_002dselect_002dauxiliary_002c-PO-Mode-command"></span>
<p>The command <kbd>C-c C-a</kbd> (<code>po-select-auxiliary</code>) asks the translator
for her choice of a particular auxiliary file, with completion, and
then switches to that selected PO file.  The command also checks if
the selected file has an <code>msgid</code> field identical as the one for
the current entry, and if yes, this entry becomes current.  Otherwise,
the cursor of the selected file is left undisturbed.
</p>
<p>For all this to work fully, auxiliary PO files will have to be normalized,
in that way that <code>msgid</code> fields should be written <em>exactly</em>
the same way.  It is possible to write <code>msgid</code> fields in various
ways for representing the same string, different writing would break the
proper behaviour of the auxiliary file commands of PO mode.  This is not
expected to be much a problem in practice, as most existing PO files have
their <code>msgid</code> entries written by the same GNU <code>gettext</code> tools.
</p>
<span id="index-normalize_002c-PO-Mode-command"></span>
<p>However, PO files initially created by PO mode itself, while marking
strings in source files, are normalised differently.  So are PO
files resulting of the &lsquo;<samp>M-x normalize</samp>&rsquo; command.  Until these
discrepancies between PO mode and other GNU <code>gettext</code> tools get
fully resolved, the translator should stay aware of normalisation issues.
</p>
<hr>
</div>
</div>
<div class="section" id="Compendium">
<div class="header">
<p>
Previous: <a href="#PO-Mode" accesskey="p" rel="prev">Emacs&rsquo;s PO File Editor</a>, Up: <a href="#Editing" accesskey="u" rel="up">Editing PO Files</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Program-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Using-Translation-Compendia"></span><h3 class="section">8.4 Using Translation Compendia</h3>
<span id="index-using-translation-compendia"></span>

<span id="index-compendium"></span>
<p>A <em>compendium</em> is a special PO file containing a set of
translations recurring in many different packages.  The translator can
use gettext tools to build a new compendium, to add entries to her
compendium, and to initialize untranslated entries, or to update
already translated entries, from translations kept in the compendium.
</p>

<ul class="section-toc">
<li><a href="#Creating-Compendia" accesskey="1">Creating Compendia</a></li>
<li><a href="#Using-Compendia" accesskey="2">Using Compendia</a></li>
</ul>
<hr>
<div class="subsection" id="Creating-Compendia">
<div class="header">
<p>
Next: <a href="#Using-Compendia" accesskey="n" rel="next">Using Compendia</a>, Up: <a href="#Compendium" accesskey="u" rel="up">Using Translation Compendia</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Program-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Creating-Compendia-1"></span><h4 class="subsection">8.4.1 Creating Compendia</h4>
<span id="index-creating-compendia"></span>
<span id="index-compendium_002c-creating"></span>

<p>Basically every PO file consisting of translated entries only can be
declared as a valid compendium.  Often the translator wants to have
special compendia; let&rsquo;s consider two cases: <cite>concatenating PO
files</cite> and <cite>extracting a message subset from a PO file</cite>.
</p>
<ul class="section-toc">
<li><a href="#Concatenate-PO-Files" accesskey="1">Concatenate PO Files</a></li>
<li><a href="#Extract-a-Message-Subset-from-a-PO-File" accesskey="2">Extract a Message Subset from a PO File</a></li>
</ul>
<div class="subsubsection" id="Concatenate-PO-Files">
<h4 class="subsubsection">8.4.1.1 Concatenate PO Files</h4>

<span id="index-concatenating-PO-files-into-a-compendium"></span>
<span id="index-accumulating-translations"></span>
<p>To concatenate several valid PO files into one compendium file you can
use &lsquo;<samp>msgcomm</samp>&rsquo; or &lsquo;<samp>msgcat</samp>&rsquo; (the latter preferred):
</p>
<div class="example">
<pre class="example">msgcat -o compendium.po file1.po file2.po
</pre></div>

<p>By default, <code>msgcat</code> will accumulate divergent translations
for the same string.  Those occurrences will be marked as <code>fuzzy</code>
and highly visible decorated; calling <code>msgcat</code> on
<samp>file1.po</samp>:
</p>
<div class="example">
<pre class="example">#: src/hello.c:200
#, c-format
msgid &quot;Report bugs to &lt;%s&gt;.\n&quot;
msgstr &quot;Comunicar `bugs' a &lt;%s&gt;.\n&quot;
</pre></div>

<p>and <samp>file2.po</samp>:
</p>
<div class="example">
<pre class="example">#: src/bye.c:100
#, c-format
msgid &quot;Report bugs to &lt;%s&gt;.\n&quot;
msgstr &quot;Comunicar \&quot;bugs\&quot; a &lt;%s&gt;.\n&quot;
</pre></div>

<p>will result in:
</p>
<div class="example">
<pre class="example">#: src/hello.c:200 src/bye.c:100
#, fuzzy, c-format
msgid &quot;Report bugs to &lt;%s&gt;.\n&quot;
msgstr &quot;&quot;
&quot;#-#-#-#-#  file1.po  #-#-#-#-#\n&quot;
&quot;Comunicar `bugs' a &lt;%s&gt;.\n&quot;
&quot;#-#-#-#-#  file2.po  #-#-#-#-#\n&quot;
&quot;Comunicar \&quot;bugs\&quot; a &lt;%s&gt;.\n&quot;
</pre></div>

<p>The translator will have to resolve this &ldquo;conflict&rdquo; manually; she
has to decide whether the first or the second version is appropriate
(or provide a new translation), to delete the &ldquo;marker lines&rdquo;, and
finally to remove the <code>fuzzy</code> mark.
</p>
<p>If the translator knows in advance the first found translation of a
message is always the best translation she can make use to the
&lsquo;<samp>--use-first</samp>&rsquo; switch:
</p>
<div class="example">
<pre class="example">msgcat --use-first -o compendium.po file1.po file2.po
</pre></div>

<p>A good compendium file must not contain <code>fuzzy</code> or untranslated
entries.  If input files are &ldquo;dirty&rdquo; you must preprocess the input
files or postprocess the result using &lsquo;<samp>msgattrib --translated --no-fuzzy</samp>&rsquo;.
</p>
</div>
<div class="subsubsection" id="Extract-a-Message-Subset-from-a-PO-File">
<h4 class="subsubsection">8.4.1.2 Extract a Message Subset from a PO File</h4>
<span id="index-extracting-parts-of-a-PO-file-into-a-compendium"></span>

<p>Nobody wants to translate the same messages again and again; thus you
may wish to have a compendium file containing <samp>getopt.c</samp> messages.
</p>
<p>To extract a message subset (e.g., all <samp>getopt.c</samp> messages) from an
existing PO file into one compendium file you can use &lsquo;<samp>msggrep</samp>&rsquo;:
</p>
<div class="example">
<pre class="example">msggrep --location src/getopt.c -o compendium.po file.po
</pre></div>

<hr>
</div>
</div>
<div class="subsection" id="Using-Compendia">
<div class="header">
<p>
Previous: <a href="#Creating-Compendia" accesskey="p" rel="prev">Creating Compendia</a>, Up: <a href="#Compendium" accesskey="u" rel="up">Using Translation Compendia</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Program-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Using-Compendia-1"></span><h4 class="subsection">8.4.2 Using Compendia</h4>

<p>You can use a compendium file to initialize a translation from scratch
or to update an already existing translation.
</p>
<ul class="section-toc">
<li><a href="#Initialize-a-New-Translation-File" accesskey="1">Initialize a New Translation File</a></li>
<li><a href="#Update-an-Existing-Translation-File" accesskey="2">Update an Existing Translation File</a></li>
</ul>
<div class="subsubsection" id="Initialize-a-New-Translation-File">
<h4 class="subsubsection">8.4.2.1 Initialize a New Translation File</h4>
<span id="index-initialize-translations-from-a-compendium"></span>

<p>Since a PO file with translations does not exist the translator can
merely use <samp>/dev/null</samp> to fake the &ldquo;old&rdquo; translation file.
</p>
<div class="example">
<pre class="example">msgmerge --compendium compendium.po -o file.po /dev/null file.pot
</pre></div>

</div>
<div class="subsubsection" id="Update-an-Existing-Translation-File">
<h4 class="subsubsection">8.4.2.2 Update an Existing Translation File</h4>
<span id="index-update-translations-from-a-compendium"></span>

<p>Concatenate the compendium file(s) and the existing PO, merge the
result with the POT file and remove the obsolete entries (optional,
here done using &lsquo;<samp>msgattrib</samp>&rsquo;):
</p>
<div class="example">
<pre class="example">msgcat --use-first -o update.po compendium1.po compendium2.po file.po
msgmerge update.po file.pot | msgattrib --no-obsolete &gt; file.po
</pre></div>

<hr>
</div>
</div>
</div>
</div>
<div class="chapter" id="Manipulating">
<div class="header">
<p>
Next: <a href="#Binaries" accesskey="n" rel="next">Producing Binary MO Files</a>, Previous: <a href="#Editing" accesskey="p" rel="prev">Editing PO Files</a>, Up: <a href="#Top" accesskey="u" rel="up">GNU <code>gettext</code> utilities</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Program-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Manipulating-PO-Files"></span><h2 class="chapter">9 Manipulating PO Files</h2>
<span id="index-manipulating-PO-files"></span>

<p>Sometimes it is necessary to manipulate PO files in a way that is better
performed automatically than by hand.  GNU <code>gettext</code> includes a
complete set of tools for this purpose.
</p>
<span id="index-merging-two-PO-files"></span>
<p>When merging two packages into a single package, the resulting POT file
will be the concatenation of the two packages&rsquo; POT files.  Thus the
maintainer must concatenate the two existing package translations into
a single translation catalog, for each language.  This is best performed
using &lsquo;<samp>msgcat</samp>&rsquo;.  It is then the translators&rsquo; duty to deal with any
possible conflicts that arose during the merge.
</p>
<span id="index-encoding-conversion"></span>
<p>When a translator takes over the translation job from another translator,
but she uses a different character encoding in her locale, she will
convert the catalog to her character encoding.  This is best done through
the &lsquo;<samp>msgconv</samp>&rsquo; program.
</p>
<p>When a maintainer takes a source file with tagged messages from another
package, he should also take the existing translations for this source
file (and not let the translators do the same job twice).  One way to do
this is through &lsquo;<samp>msggrep</samp>&rsquo;, another is to create a POT file for
that source file and use &lsquo;<samp>msgmerge</samp>&rsquo;.
</p>
<span id="index-dialect"></span>
<span id="index-orthography"></span>
<p>When a translator wants to adjust some translation catalog for a special
dialect or orthography &mdash; for example, German as written in Switzerland
versus German as written in Germany &mdash; she needs to apply some text
processing to every message in the catalog.  The tool for doing this is
&lsquo;<samp>msgfilter</samp>&rsquo;.
</p>
<p>Another use of <code>msgfilter</code> is to produce approximately the POT file for
which a given PO file was made.  This can be done through a filter command
like &lsquo;<samp>msgfilter sed -e d | sed -e '/^# /d'</samp>&rsquo;.  Note that the original
POT file may have had different comments and different plural message counts,
that&rsquo;s why it&rsquo;s better to use the original POT file if available.
</p>
<span id="index-checking-of-translations"></span>
<p>When a translator wants to check her translations, for example according
to orthography rules or using a non-interactive spell checker, she can do
so using the &lsquo;<samp>msgexec</samp>&rsquo; program.
</p>
<span id="index-duplicate-elimination"></span>
<p>When third party tools create PO or POT files, sometimes duplicates cannot
be avoided.  But the GNU <code>gettext</code> tools give an error when they
encounter duplicate msgids in the same file and in the same domain.
To merge duplicates, the &lsquo;<samp>msguniq</samp>&rsquo; program can be used.
</p>
<p>&lsquo;<samp>msgcomm</samp>&rsquo; is a more general tool for keeping or throwing away
duplicates, occurring in different files.
</p>
<p>&lsquo;<samp>msgcmp</samp>&rsquo; can be used to check whether a translation catalog is
completely translated.
</p>
<span id="index-attributes_002c-manipulating"></span>
<p>&lsquo;<samp>msgattrib</samp>&rsquo; can be used to select and extract only the fuzzy
or untranslated messages of a translation catalog.
</p>
<p>&lsquo;<samp>msgen</samp>&rsquo; is useful as a first step for preparing English translation
catalogs.  It copies each message&rsquo;s msgid to its msgstr.
</p>
<p>Finally, for those applications where all these various programs are not
sufficient, a library &lsquo;<samp>libgettextpo</samp>&rsquo; is provided that can be used to
write other specialized programs that process PO files.
</p>

<ul class="section-toc">
<li><a href="#msgcat-Invocation" accesskey="1">Invoking the <code>msgcat</code> Program</a></li>
<li><a href="#msgconv-Invocation" accesskey="2">Invoking the <code>msgconv</code> Program</a></li>
<li><a href="#msggrep-Invocation" accesskey="3">Invoking the <code>msggrep</code> Program</a></li>
<li><a href="#msgfilter-Invocation" accesskey="4">Invoking the <code>msgfilter</code> Program</a></li>
<li><a href="#msguniq-Invocation" accesskey="5">Invoking the <code>msguniq</code> Program</a></li>
<li><a href="#msgcomm-Invocation" accesskey="6">Invoking the <code>msgcomm</code> Program</a></li>
<li><a href="#msgcmp-Invocation" accesskey="7">Invoking the <code>msgcmp</code> Program</a></li>
<li><a href="#msgattrib-Invocation" accesskey="8">Invoking the <code>msgattrib</code> Program</a></li>
<li><a href="#msgen-Invocation" accesskey="9">Invoking the <code>msgen</code> Program</a></li>
<li><a href="#msgexec-Invocation">Invoking the <code>msgexec</code> Program</a></li>
<li><a href="#Colorizing">Highlighting parts of PO files</a></li>
<li><a href="#Other-tools">Other tools for manipulating PO files</a></li>
<li><a href="#libgettextpo">Writing your own programs that process PO files</a></li>
</ul>
<hr>
<div class="section" id="msgcat-Invocation">
<div class="header">
<p>
Next: <a href="#msgconv-Invocation" accesskey="n" rel="next">Invoking the <code>msgconv</code> Program</a>, Up: <a href="#Manipulating" accesskey="u" rel="up">Manipulating PO Files</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Program-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Invoking-the-msgcat-Program"></span><h3 class="section">9.1 Invoking the <code>msgcat</code> Program</h3>


<span id="index-msgcat"></span>
<span id="index-msgcat-program_002c-usage"></span>
<div class="example">
<pre class="example">msgcat [<var>option</var>] [<var>inputfile</var>]...
</pre></div>

<span id="index-concatenate-PO-files"></span>
<span id="index-merge-PO-files"></span>
<p>The <code>msgcat</code> program concatenates and merges the specified PO files.
It finds messages which are common to two or more of the specified PO files.
By using the <code>--more-than</code> option, greater commonality may be requested
before messages are printed.  Conversely, the <code>--less-than</code> option may be
used to specify less commonality before messages are printed (i.e.
&lsquo;<samp>--less-than=2</samp>&rsquo; will only print the unique messages).  Translations,
comments, extracted comments, and file positions will be cumulated, except that
if <code>--use-first</code> is specified, they will be taken from the first PO file
to define them.
</p>
<p>To concatenate POT files, better use <code>xgettext</code>, not <code>msgcat</code>,
because <code>msgcat</code> would choke on the undefined charsets in the specified
POT files.
</p>
<ul class="section-toc">
<li><a href="#Input-file-location-3" accesskey="1">Input file location</a></li>
<li><a href="#Output-file-location-3" accesskey="2">Output file location</a></li>
<li><a href="#Message-selection" accesskey="3">Message selection</a></li>
<li><a href="#Input-file-syntax-2" accesskey="4">Input file syntax</a></li>
<li><a href="#Output-details-3" accesskey="5">Output details</a></li>
<li><a href="#Informative-output-3" accesskey="6">Informative output</a></li>
</ul>
<div class="subsection" id="Input-file-location-3">
<h4 class="subsection">9.1.1 Input file location</h4>

<dl compact="compact">
<dt><span>&lsquo;<samp><var>inputfile</var> &hellip;</samp>&rsquo;</span></dt>
<dd><p>Input files.
</p>
</dd>
<dt id='index-_002df_002c-msgcat-option'><span>&lsquo;<samp>-f <var>file</var></samp>&rsquo;<a href='#index-_002df_002c-msgcat-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--files-from=<var>file</var></samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dfiles_002dfrom_002c-msgcat-option"></span>
<p>Read the names of the input files from <var>file</var> instead of getting
them from the command line.
</p>
</dd>
<dt id='index-_002dD_002c-msgcat-option'><span>&lsquo;<samp>-D <var>directory</var></samp>&rsquo;<a href='#index-_002dD_002c-msgcat-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--directory=<var>directory</var></samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002ddirectory_002c-msgcat-option"></span>
<p>Add <var>directory</var> to the list of directories.  Source files are
searched relative to this list of directories.  The resulting <samp>.po</samp>
file will be written relative to the current directory, though.
</p>
</dd>
</dl>

<p>If <var>inputfile</var> is &lsquo;<samp>-</samp>&rsquo;, standard input is read.
</p>
</div>
<div class="subsection" id="Output-file-location-3">
<h4 class="subsection">9.1.2 Output file location</h4>

<dl compact="compact">
<dt id='index-_002do_002c-msgcat-option'><span>&lsquo;<samp>-o <var>file</var></samp>&rsquo;<a href='#index-_002do_002c-msgcat-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--output-file=<var>file</var></samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002doutput_002dfile_002c-msgcat-option"></span>
<p>Write output to specified file.
</p>
</dd>
</dl>

<span id="index-standard-output_002c-and-msgcat"></span>
<p>The results are written to standard output if no output file is specified
or if it is &lsquo;<samp>-</samp>&rsquo;.
</p>
</div>
<div class="subsection" id="Message-selection">
<h4 class="subsection">9.1.3 Message selection</h4>

<dl compact="compact">
<dt id='index-_002d_003c_002c-msgcat-option'><span>&lsquo;<samp>-&lt; <var>number</var></samp>&rsquo;<a href='#index-_002d_003c_002c-msgcat-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--less-than=<var>number</var></samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dless_002dthan_002c-msgcat-option"></span>
<p>Print messages with less than <var>number</var> definitions, defaults to infinite
if not set.
</p>
</dd>
<dt id='index-_002d_003e_002c-msgcat-option'><span>&lsquo;<samp>-&gt; <var>number</var></samp>&rsquo;<a href='#index-_002d_003e_002c-msgcat-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--more-than=<var>number</var></samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dmore_002dthan_002c-msgcat-option"></span>
<p>Print messages with more than <var>number</var> definitions, defaults to 0 if not
set.
</p>
</dd>
<dt id='index-_002du_002c-msgcat-option'><span>&lsquo;<samp>-u</samp>&rsquo;<a href='#index-_002du_002c-msgcat-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--unique</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dunique_002c-msgcat-option"></span>
<p>Shorthand for &lsquo;<samp>--less-than=2</samp>&rsquo;.  Requests that only unique messages be
printed.
</p>
</dd>
</dl>

</div>
<div class="subsection" id="Input-file-syntax-2">
<h4 class="subsection">9.1.4 Input file syntax</h4>

<dl compact="compact">
<dt id='index-_002dP_002c-msgcat-option'><span>&lsquo;<samp>-P</samp>&rsquo;<a href='#index-_002dP_002c-msgcat-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--properties-input</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dproperties_002dinput_002c-msgcat-option"></span>
<p>Assume the input files are Java ResourceBundles in Java <code>.properties</code>
syntax, not in PO file syntax.
</p>
</dd>
<dt id='index-_002d_002dstringtable_002dinput_002c-msgcat-option'><span>&lsquo;<samp>--stringtable-input</samp>&rsquo;<a href='#index-_002d_002dstringtable_002dinput_002c-msgcat-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Assume the input files are NeXTstep/GNUstep localized resource files in
<code>.strings</code> syntax, not in PO file syntax.
</p>
</dd>
</dl>

</div>
<div class="subsection" id="Output-details-3">
<h4 class="subsection">9.1.5 Output details</h4>


<dl compact="compact">
<dt id='index-_002dt_002c-msgcat-option'><span>&lsquo;<samp>-t</samp>&rsquo;<a href='#index-_002dt_002c-msgcat-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--to-code=<var>name</var></samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dto_002dcode_002c-msgcat-option"></span>
<p>Specify encoding for output.
</p>
</dd>
<dt id='index-_002d_002duse_002dfirst_002c-msgcat-option'><span>&lsquo;<samp>--use-first</samp>&rsquo;<a href='#index-_002d_002duse_002dfirst_002c-msgcat-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Use first available translation for each message.  Don&rsquo;t merge several
translations into one.
</p>
</dd>
<dt id='index-_002d_002dlang_002c-msgcat-option'><span>&lsquo;<samp>--lang=<var>catalogname</var></samp>&rsquo;<a href='#index-_002d_002dlang_002c-msgcat-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Specify the &lsquo;<samp>Language</samp>&rsquo; field to be used in the header entry.  See
<a href="#Header-Entry">Filling in the Header Entry</a> for the meaning of this field.  Note: The
&lsquo;<samp>Language-Team</samp>&rsquo; and &lsquo;<samp>Plural-Forms</samp>&rsquo; fields are left unchanged.
</p>
</dd>
<dt id='index-_002d_002dcolor_002c-msgcat-option'><span>&lsquo;<samp>--color</samp>&rsquo;<a href='#index-_002d_002dcolor_002c-msgcat-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--color=<var>when</var></samp>&rsquo;</span></dt>
<dd><p>Specify whether or when to use colors and other text attributes.
See <a href="#The-_002d_002dcolor-option">The <code>--color</code> option</a> for details.
</p>
</dd>
<dt id='index-_002d_002dstyle_002c-msgcat-option'><span>&lsquo;<samp>--style=<var>style_file</var></samp>&rsquo;<a href='#index-_002d_002dstyle_002c-msgcat-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Specify the CSS style rule file to use for <code>--color</code>.
See <a href="#The-_002d_002dstyle-option">The <code>--style</code> option</a> for details.
</p>
</dd>
<dt id='index-_002d_002dforce_002dpo_002c-msgcat-option'><span>&lsquo;<samp>--force-po</samp>&rsquo;<a href='#index-_002d_002dforce_002dpo_002c-msgcat-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Always write an output file even if it contains no message.
</p>
</dd>
<dt id='index-_002di_002c-msgcat-option'><span>&lsquo;<samp>-i</samp>&rsquo;<a href='#index-_002di_002c-msgcat-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--indent</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dindent_002c-msgcat-option"></span>
<p>Write the .po file using indented style.
</p>
</dd>
<dt id='index-_002d_002dno_002dlocation_002c-msgcat-option'><span>&lsquo;<samp>--no-location</samp>&rsquo;<a href='#index-_002d_002dno_002dlocation_002c-msgcat-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Do not write &lsquo;<samp>#: <var>filename</var>:<var>line</var></samp>&rsquo; lines.
</p>
</dd>
<dt id='index-_002dn_002c-msgcat-option'><span>&lsquo;<samp>-n</samp>&rsquo;<a href='#index-_002dn_002c-msgcat-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--add-location=<var>type</var></samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dadd_002dlocation_002c-msgcat-option"></span>
<p>Generate &lsquo;<samp>#: <var>filename</var>:<var>line</var></samp>&rsquo; lines (default).
</p>
<p>The optional <var>type</var> can be either &lsquo;<samp>full</samp>&rsquo;, &lsquo;<samp>file</samp>&rsquo;, or
&lsquo;<samp>never</samp>&rsquo;.  If it is not given or &lsquo;<samp>full</samp>&rsquo;, it generates the
lines with both file name and line number.  If it is &lsquo;<samp>file</samp>&rsquo;, the
line number part is omitted.  If it is &lsquo;<samp>never</samp>&rsquo;, it completely
suppresses the lines (same as <code>--no-location</code>).
</p>
</dd>
<dt id='index-_002d_002dstrict_002c-msgcat-option'><span>&lsquo;<samp>--strict</samp>&rsquo;<a href='#index-_002d_002dstrict_002c-msgcat-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Write out a strict Uniforum conforming PO file.  Note that this
Uniforum format should be avoided because it doesn&rsquo;t support the
GNU extensions.
</p>
</dd>
<dt id='index-_002dp_002c-msgcat-option'><span>&lsquo;<samp>-p</samp>&rsquo;<a href='#index-_002dp_002c-msgcat-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--properties-output</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dproperties_002doutput_002c-msgcat-option"></span>
<p>Write out a Java ResourceBundle in Java <code>.properties</code> syntax.  Note
that this file format doesn&rsquo;t support plural forms and silently drops
obsolete messages.
</p>
</dd>
<dt id='index-_002d_002dstringtable_002doutput_002c-msgcat-option'><span>&lsquo;<samp>--stringtable-output</samp>&rsquo;<a href='#index-_002d_002dstringtable_002doutput_002c-msgcat-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Write out a NeXTstep/GNUstep localized resource file in <code>.strings</code> syntax.
Note that this file format doesn&rsquo;t support plural forms.
</p>
</dd>
<dt id='index-_002dw_002c-msgcat-option'><span>&lsquo;<samp>-w <var>number</var></samp>&rsquo;<a href='#index-_002dw_002c-msgcat-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--width=<var>number</var></samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dwidth_002c-msgcat-option"></span>
<p>Set the output page width.  Long strings in the output files will be
split across multiple lines in order to ensure that each line&rsquo;s width
(= number of screen columns) is less or equal to the given <var>number</var>.
</p>
</dd>
<dt id='index-_002d_002dno_002dwrap_002c-msgcat-option'><span>&lsquo;<samp>--no-wrap</samp>&rsquo;<a href='#index-_002d_002dno_002dwrap_002c-msgcat-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Do not break long message lines.  Message lines whose width exceeds the
output page width will not be split into several lines.  Only file reference
lines which are wider than the output page width will be split.
</p>
</dd>
<dt id='index-_002ds_002c-msgcat-option'><span>&lsquo;<samp>-s</samp>&rsquo;<a href='#index-_002ds_002c-msgcat-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--sort-output</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dsort_002doutput_002c-msgcat-option"></span>
<span id="index-sorting-msgcat-output"></span>
<p>Generate sorted output.  Note that using this option makes it much harder
for the translator to understand each message&rsquo;s context.
</p>
</dd>
<dt id='index-_002dF_002c-msgcat-option'><span>&lsquo;<samp>-F</samp>&rsquo;<a href='#index-_002dF_002c-msgcat-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--sort-by-file</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dsort_002dby_002dfile_002c-msgcat-option"></span>
<p>Sort output by file location.
</p>
</dd>
</dl>

</div>
<div class="subsection" id="Informative-output-3">
<h4 class="subsection">9.1.6 Informative output</h4>

<dl compact="compact">
<dt id='index-_002dh_002c-msgcat-option'><span>&lsquo;<samp>-h</samp>&rsquo;<a href='#index-_002dh_002c-msgcat-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--help</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dhelp_002c-msgcat-option"></span>
<p>Display this help and exit.
</p>
</dd>
<dt id='index-_002dV_002c-msgcat-option'><span>&lsquo;<samp>-V</samp>&rsquo;<a href='#index-_002dV_002c-msgcat-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--version</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dversion_002c-msgcat-option"></span>
<p>Output version information and exit.
</p>
</dd>
</dl>

<hr>
</div>
</div>
<div class="section" id="msgconv-Invocation">
<div class="header">
<p>
Next: <a href="#msggrep-Invocation" accesskey="n" rel="next">Invoking the <code>msggrep</code> Program</a>, Previous: <a href="#msgcat-Invocation" accesskey="p" rel="prev">Invoking the <code>msgcat</code> Program</a>, Up: <a href="#Manipulating" accesskey="u" rel="up">Manipulating PO Files</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Program-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Invoking-the-msgconv-Program"></span><h3 class="section">9.2 Invoking the <code>msgconv</code> Program</h3>


<span id="index-msgconv"></span>
<span id="index-msgconv-program_002c-usage"></span>
<div class="example">
<pre class="example">msgconv [<var>option</var>] [<var>inputfile</var>]
</pre></div>

<span id="index-convert-translations-to-a-different-encoding"></span>
<p>The <code>msgconv</code> program converts a translation catalog to a different
character encoding.
</p>
<ul class="section-toc">
<li><a href="#Input-file-location-4" accesskey="1">Input file location</a></li>
<li><a href="#Output-file-location-4" accesskey="2">Output file location</a></li>
<li><a href="#Conversion-target" accesskey="3">Conversion target</a></li>
<li><a href="#Input-file-syntax-3" accesskey="4">Input file syntax</a></li>
<li><a href="#Output-details-4" accesskey="5">Output details</a></li>
<li><a href="#Informative-output-4" accesskey="6">Informative output</a></li>
</ul>
<div class="subsection" id="Input-file-location-4">
<h4 class="subsection">9.2.1 Input file location</h4>

<dl compact="compact">
<dt><span>&lsquo;<samp><var>inputfile</var></samp>&rsquo;</span></dt>
<dd><p>Input PO file.
</p>
</dd>
<dt id='index-_002dD_002c-msgconv-option'><span>&lsquo;<samp>-D <var>directory</var></samp>&rsquo;<a href='#index-_002dD_002c-msgconv-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--directory=<var>directory</var></samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002ddirectory_002c-msgconv-option"></span>
<p>Add <var>directory</var> to the list of directories.  Source files are
searched relative to this list of directories.  The resulting <samp>.po</samp>
file will be written relative to the current directory, though.
</p>
</dd>
</dl>

<p>If no <var>inputfile</var> is given or if it is &lsquo;<samp>-</samp>&rsquo;, standard input is read.
</p>
</div>
<div class="subsection" id="Output-file-location-4">
<h4 class="subsection">9.2.2 Output file location</h4>

<dl compact="compact">
<dt id='index-_002do_002c-msgconv-option'><span>&lsquo;<samp>-o <var>file</var></samp>&rsquo;<a href='#index-_002do_002c-msgconv-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--output-file=<var>file</var></samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002doutput_002dfile_002c-msgconv-option"></span>
<p>Write output to specified file.
</p>
</dd>
</dl>

<p>The results are written to standard output if no output file is specified
or if it is &lsquo;<samp>-</samp>&rsquo;.
</p>
</div>
<div class="subsection" id="Conversion-target">
<h4 class="subsection">9.2.3 Conversion target</h4>

<dl compact="compact">
<dt id='index-_002dt_002c-msgconv-option'><span>&lsquo;<samp>-t</samp>&rsquo;<a href='#index-_002dt_002c-msgconv-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--to-code=<var>name</var></samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dto_002dcode_002c-msgconv-option"></span>
<p>Specify encoding for output.
</p>
</dd>
</dl>

<p>The default encoding is the current locale&rsquo;s encoding.
</p>
</div>
<div class="subsection" id="Input-file-syntax-3">
<h4 class="subsection">9.2.4 Input file syntax</h4>

<dl compact="compact">
<dt id='index-_002dP_002c-msgconv-option'><span>&lsquo;<samp>-P</samp>&rsquo;<a href='#index-_002dP_002c-msgconv-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--properties-input</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dproperties_002dinput_002c-msgconv-option"></span>
<p>Assume the input file is a Java ResourceBundle in Java <code>.properties</code>
syntax, not in PO file syntax.
</p>
</dd>
<dt id='index-_002d_002dstringtable_002dinput_002c-msgonv-option'><span>&lsquo;<samp>--stringtable-input</samp>&rsquo;<a href='#index-_002d_002dstringtable_002dinput_002c-msgonv-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Assume the input file is a NeXTstep/GNUstep localized resource file in
<code>.strings</code> syntax, not in PO file syntax.
</p>
</dd>
</dl>

</div>
<div class="subsection" id="Output-details-4">
<h4 class="subsection">9.2.5 Output details</h4>


<dl compact="compact">
<dt id='index-_002d_002dcolor_002c-msgconv-option'><span>&lsquo;<samp>--color</samp>&rsquo;<a href='#index-_002d_002dcolor_002c-msgconv-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--color=<var>when</var></samp>&rsquo;</span></dt>
<dd><p>Specify whether or when to use colors and other text attributes.
See <a href="#The-_002d_002dcolor-option">The <code>--color</code> option</a> for details.
</p>
</dd>
<dt id='index-_002d_002dstyle_002c-msgconv-option'><span>&lsquo;<samp>--style=<var>style_file</var></samp>&rsquo;<a href='#index-_002d_002dstyle_002c-msgconv-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Specify the CSS style rule file to use for <code>--color</code>.
See <a href="#The-_002d_002dstyle-option">The <code>--style</code> option</a> for details.
</p>
</dd>
<dt id='index-_002d_002dforce_002dpo_002c-msgconv-option'><span>&lsquo;<samp>--force-po</samp>&rsquo;<a href='#index-_002d_002dforce_002dpo_002c-msgconv-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Always write an output file even if it contains no message.
</p>
</dd>
<dt id='index-_002di_002c-msgconv-option'><span>&lsquo;<samp>-i</samp>&rsquo;<a href='#index-_002di_002c-msgconv-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--indent</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dindent_002c-msgconv-option"></span>
<p>Write the .po file using indented style.
</p>
</dd>
<dt id='index-_002d_002dno_002dlocation_002c-msgconv-option'><span>&lsquo;<samp>--no-location</samp>&rsquo;<a href='#index-_002d_002dno_002dlocation_002c-msgconv-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Do not write &lsquo;<samp>#: <var>filename</var>:<var>line</var></samp>&rsquo; lines.
</p>
</dd>
<dt id='index-_002d_002dadd_002dlocation_002c-msgconv-option'><span>&lsquo;<samp>-n</samp>&rsquo;<a href='#index-_002d_002dadd_002dlocation_002c-msgconv-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--add-location=<var>type</var></samp>&rsquo;</span></dt>
<dd><p>Generate &lsquo;<samp>#: <var>filename</var>:<var>line</var></samp>&rsquo; lines (default).
</p>
<p>The optional <var>type</var> can be either &lsquo;<samp>full</samp>&rsquo;, &lsquo;<samp>file</samp>&rsquo;, or
&lsquo;<samp>never</samp>&rsquo;.  If it is not given or &lsquo;<samp>full</samp>&rsquo;, it generates the
lines with both file name and line number.  If it is &lsquo;<samp>file</samp>&rsquo;, the
line number part is omitted.  If it is &lsquo;<samp>never</samp>&rsquo;, it completely
suppresses the lines (same as <code>--no-location</code>).
</p>
</dd>
<dt id='index-_002d_002dstrict_002c-msgconv-option'><span>&lsquo;<samp>--strict</samp>&rsquo;<a href='#index-_002d_002dstrict_002c-msgconv-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Write out a strict Uniforum conforming PO file.  Note that this
Uniforum format should be avoided because it doesn&rsquo;t support the
GNU extensions.
</p>
</dd>
<dt id='index-_002dp_002c-msgconv-option'><span>&lsquo;<samp>-p</samp>&rsquo;<a href='#index-_002dp_002c-msgconv-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--properties-output</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dproperties_002doutput_002c-msgconv-option"></span>
<p>Write out a Java ResourceBundle in Java <code>.properties</code> syntax.  Note
that this file format doesn&rsquo;t support plural forms and silently drops
obsolete messages.
</p>
</dd>
<dt id='index-_002d_002dstringtable_002doutput_002c-msgconv-option'><span>&lsquo;<samp>--stringtable-output</samp>&rsquo;<a href='#index-_002d_002dstringtable_002doutput_002c-msgconv-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Write out a NeXTstep/GNUstep localized resource file in <code>.strings</code> syntax.
Note that this file format doesn&rsquo;t support plural forms.
</p>
</dd>
<dt id='index-_002dw_002c-msgconv-option'><span>&lsquo;<samp>-w <var>number</var></samp>&rsquo;<a href='#index-_002dw_002c-msgconv-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--width=<var>number</var></samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dwidth_002c-msgconv-option"></span>
<p>Set the output page width.  Long strings in the output files will be
split across multiple lines in order to ensure that each line&rsquo;s width
(= number of screen columns) is less or equal to the given <var>number</var>.
</p>
</dd>
<dt id='index-_002d_002dno_002dwrap_002c-msgconv-option'><span>&lsquo;<samp>--no-wrap</samp>&rsquo;<a href='#index-_002d_002dno_002dwrap_002c-msgconv-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Do not break long message lines.  Message lines whose width exceeds the
output page width will not be split into several lines.  Only file reference
lines which are wider than the output page width will be split.
</p>
</dd>
<dt id='index-_002ds_002c-msgconv-option'><span>&lsquo;<samp>-s</samp>&rsquo;<a href='#index-_002ds_002c-msgconv-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--sort-output</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dsort_002doutput_002c-msgconv-option"></span>
<p>Generate sorted output.  Note that using this option makes it much harder
for the translator to understand each message&rsquo;s context.
</p>
</dd>
<dt id='index-_002dF_002c-msgconv-option'><span>&lsquo;<samp>-F</samp>&rsquo;<a href='#index-_002dF_002c-msgconv-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--sort-by-file</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dsort_002dby_002dfile_002c-msgconv-option"></span>
<p>Sort output by file location.
</p>
</dd>
</dl>

</div>
<div class="subsection" id="Informative-output-4">
<h4 class="subsection">9.2.6 Informative output</h4>

<dl compact="compact">
<dt id='index-_002dh_002c-msgconv-option'><span>&lsquo;<samp>-h</samp>&rsquo;<a href='#index-_002dh_002c-msgconv-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--help</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dhelp_002c-msgconv-option"></span>
<p>Display this help and exit.
</p>
</dd>
<dt id='index-_002dV_002c-msgconv-option'><span>&lsquo;<samp>-V</samp>&rsquo;<a href='#index-_002dV_002c-msgconv-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--version</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dversion_002c-msgconv-option"></span>
<p>Output version information and exit.
</p>
</dd>
</dl>

<hr>
</div>
</div>
<div class="section" id="msggrep-Invocation">
<div class="header">
<p>
Next: <a href="#msgfilter-Invocation" accesskey="n" rel="next">Invoking the <code>msgfilter</code> Program</a>, Previous: <a href="#msgconv-Invocation" accesskey="p" rel="prev">Invoking the <code>msgconv</code> Program</a>, Up: <a href="#Manipulating" accesskey="u" rel="up">Manipulating PO Files</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Program-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Invoking-the-msggrep-Program"></span><h3 class="section">9.3 Invoking the <code>msggrep</code> Program</h3>


<span id="index-msggrep"></span>
<span id="index-msggrep-program_002c-usage"></span>
<div class="example">
<pre class="example">msggrep [<var>option</var>] [<var>inputfile</var>]
</pre></div>

<span id="index-search-messages-in-a-catalog"></span>
<p>The <code>msggrep</code> program extracts all messages of a translation catalog
that match a given pattern or belong to some given source files.
</p>
<ul class="section-toc">
<li><a href="#Input-file-location-5" accesskey="1">Input file location</a></li>
<li><a href="#Output-file-location-5" accesskey="2">Output file location</a></li>
<li><a href="#Message-selection-1" accesskey="3">Message selection</a></li>
<li><a href="#Input-file-syntax-4" accesskey="4">Input file syntax</a></li>
<li><a href="#Output-details-5" accesskey="5">Output details</a></li>
<li><a href="#Informative-output-5" accesskey="6">Informative output</a></li>
<li><a href="#Examples" accesskey="7">Examples</a></li>
</ul>
<div class="subsection" id="Input-file-location-5">
<h4 class="subsection">9.3.1 Input file location</h4>

<dl compact="compact">
<dt><span>&lsquo;<samp><var>inputfile</var></samp>&rsquo;</span></dt>
<dd><p>Input PO file.
</p>
</dd>
<dt id='index-_002dD_002c-msggrep-option'><span>&lsquo;<samp>-D <var>directory</var></samp>&rsquo;<a href='#index-_002dD_002c-msggrep-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--directory=<var>directory</var></samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002ddirectory_002c-msggrep-option"></span>
<p>Add <var>directory</var> to the list of directories.  Source files are
searched relative to this list of directories.  The resulting <samp>.po</samp>
file will be written relative to the current directory, though.
</p>
</dd>
</dl>

<p>If no <var>inputfile</var> is given or if it is &lsquo;<samp>-</samp>&rsquo;, standard input is read.
</p>
</div>
<div class="subsection" id="Output-file-location-5">
<h4 class="subsection">9.3.2 Output file location</h4>

<dl compact="compact">
<dt id='index-_002do_002c-msggrep-option'><span>&lsquo;<samp>-o <var>file</var></samp>&rsquo;<a href='#index-_002do_002c-msggrep-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--output-file=<var>file</var></samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002doutput_002dfile_002c-msggrep-option"></span>
<p>Write output to specified file.
</p>
</dd>
</dl>

<p>The results are written to standard output if no output file is specified
or if it is &lsquo;<samp>-</samp>&rsquo;.
</p>
</div>
<div class="subsection" id="Message-selection-1">
<h4 class="subsection">9.3.3 Message selection</h4>

<div class="example">
<pre class="example">  [-N <var>sourcefile</var>]... [-M <var>domainname</var>]...
  [-J <var>msgctxt-pattern</var>] [-K <var>msgid-pattern</var>] [-T <var>msgstr-pattern</var>]
  [-C <var>comment-pattern</var>]
</pre></div>

<p>A message is selected if
</p><ul>
<li> it comes from one of the specified source files,
</li><li> or if it comes from one of the specified domains,
</li><li> or if &lsquo;<samp>-J</samp>&rsquo; is given and its context (msgctxt) matches
<var>msgctxt-pattern</var>,
</li><li> or if &lsquo;<samp>-K</samp>&rsquo; is given and its key (msgid or msgid_plural) matches
<var>msgid-pattern</var>,
</li><li> or if &lsquo;<samp>-T</samp>&rsquo; is given and its translation (msgstr) matches
<var>msgstr-pattern</var>,
</li><li> or if &lsquo;<samp>-C</samp>&rsquo; is given and the translator&rsquo;s comment matches
<var>comment-pattern</var>.
</li></ul>

<p>When more than one selection criterion is specified, the set of selected
messages is the union of the selected messages of each criterion.
</p>
<p><var>msgctxt-pattern</var> or <var>msgid-pattern</var> or <var>msgstr-pattern</var> syntax:
</p><div class="example">
<pre class="example">  [-E | -F] [-e <var>pattern</var> | -f <var>file</var>]...
</pre></div>
<p><var>pattern</var>s are basic regular expressions by default, or extended regular
expressions if -E is given, or fixed strings if -F is given.
</p>
<dl compact="compact">
<dt id='index-_002dN_002c-msggrep-option'><span>&lsquo;<samp>-N <var>sourcefile</var></samp>&rsquo;<a href='#index-_002dN_002c-msggrep-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--location=<var>sourcefile</var></samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dlocation_002c-msggrep-option"></span>
<p>Select messages extracted from <var>sourcefile</var>.  <var>sourcefile</var> can be
either a literal file name or a wildcard pattern.
</p>
</dd>
<dt id='index-_002dM_002c-msggrep-option'><span>&lsquo;<samp>-M <var>domainname</var></samp>&rsquo;<a href='#index-_002dM_002c-msggrep-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--domain=<var>domainname</var></samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002ddomain_002c-msggrep-option"></span>
<p>Select messages belonging to domain <var>domainname</var>.
</p>
</dd>
<dt id='index-_002dJ_002c-msggrep-option'><span>&lsquo;<samp>-J</samp>&rsquo;<a href='#index-_002dJ_002c-msggrep-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--msgctxt</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dmsgctxt_002c-msggrep-option"></span>
<p>Start of patterns for the msgctxt.
</p>
</dd>
<dt id='index-_002dK_002c-msggrep-option'><span>&lsquo;<samp>-K</samp>&rsquo;<a href='#index-_002dK_002c-msggrep-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--msgid</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dmsgid_002c-msggrep-option"></span>
<p>Start of patterns for the msgid.
</p>
</dd>
<dt id='index-_002dT_002c-msggrep-option'><span>&lsquo;<samp>-T</samp>&rsquo;<a href='#index-_002dT_002c-msggrep-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--msgstr</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dmsgstr_002c-msggrep-option"></span>
<p>Start of patterns for the msgstr.
</p>
</dd>
<dt id='index-_002dC_002c-msggrep-option'><span>&lsquo;<samp>-C</samp>&rsquo;<a href='#index-_002dC_002c-msggrep-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--comment</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dcomment_002c-msggrep-option"></span>
<p>Start of patterns for the translator&rsquo;s comment.
</p>
</dd>
<dt id='index-_002dX_002c-msggrep-option'><span>&lsquo;<samp>-X</samp>&rsquo;<a href='#index-_002dX_002c-msggrep-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--extracted-comment</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dextracted_002dcomment_002c-msggrep-option"></span>
<p>Start of patterns for the extracted comments.
</p>
</dd>
<dt id='index-_002dE_002c-msggrep-option'><span>&lsquo;<samp>-E</samp>&rsquo;<a href='#index-_002dE_002c-msggrep-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--extended-regexp</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dextended_002dregexp_002c-msggrep-option"></span>
<p>Specify that <var>pattern</var> is an extended regular expression.
</p>
</dd>
<dt id='index-_002dF_002c-msggrep-option'><span>&lsquo;<samp>-F</samp>&rsquo;<a href='#index-_002dF_002c-msggrep-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--fixed-strings</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dfixed_002dstrings_002c-msggrep-option"></span>
<p>Specify that <var>pattern</var> is a set of newline-separated strings.
</p>
</dd>
<dt id='index-_002de_002c-msggrep-option'><span>&lsquo;<samp>-e <var>pattern</var></samp>&rsquo;<a href='#index-_002de_002c-msggrep-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--regexp=<var>pattern</var></samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dregexp_003d_002c-msggrep-option"></span>
<p>Use <var>pattern</var> as a regular expression.
</p>
</dd>
<dt id='index-_002df_002c-msggrep-option'><span>&lsquo;<samp>-f <var>file</var></samp>&rsquo;<a href='#index-_002df_002c-msggrep-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--file=<var>file</var></samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dfile_002c-msggrep-option"></span>
<p>Obtain <var>pattern</var> from <var>file</var>.
</p>
</dd>
<dt id='index-_002di_002c-msggrep-option'><span>&lsquo;<samp>-i</samp>&rsquo;<a href='#index-_002di_002c-msggrep-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--ignore-case</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dignore_002dcase_002c-msggrep-option"></span>
<p>Ignore case distinctions.
</p>
</dd>
<dt id='index-_002dv_002c-msggrep-option'><span>&lsquo;<samp>-v</samp>&rsquo;<a href='#index-_002dv_002c-msggrep-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--invert-match</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dinvert_002dmatch_002c-msggrep-option"></span>
<p>Output only the messages that do not match any selection criterion, instead
of the messages that match a selection criterion.
</p>
</dd>
</dl>

</div>
<div class="subsection" id="Input-file-syntax-4">
<h4 class="subsection">9.3.4 Input file syntax</h4>

<dl compact="compact">
<dt id='index-_002dP_002c-msggrep-option'><span>&lsquo;<samp>-P</samp>&rsquo;<a href='#index-_002dP_002c-msggrep-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--properties-input</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dproperties_002dinput_002c-msggrep-option"></span>
<p>Assume the input file is a Java ResourceBundle in Java <code>.properties</code>
syntax, not in PO file syntax.
</p>
</dd>
<dt id='index-_002d_002dstringtable_002dinput_002c-msggrep-option'><span>&lsquo;<samp>--stringtable-input</samp>&rsquo;<a href='#index-_002d_002dstringtable_002dinput_002c-msggrep-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Assume the input file is a NeXTstep/GNUstep localized resource file in
<code>.strings</code> syntax, not in PO file syntax.
</p>
</dd>
</dl>

</div>
<div class="subsection" id="Output-details-5">
<h4 class="subsection">9.3.5 Output details</h4>


<dl compact="compact">
<dt id='index-_002d_002dcolor_002c-msggrep-option'><span>&lsquo;<samp>--color</samp>&rsquo;<a href='#index-_002d_002dcolor_002c-msggrep-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--color=<var>when</var></samp>&rsquo;</span></dt>
<dd><p>Specify whether or when to use colors and other text attributes.
See <a href="#The-_002d_002dcolor-option">The <code>--color</code> option</a> for details.
</p>
</dd>
<dt id='index-_002d_002dstyle_002c-msggrep-option'><span>&lsquo;<samp>--style=<var>style_file</var></samp>&rsquo;<a href='#index-_002d_002dstyle_002c-msggrep-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Specify the CSS style rule file to use for <code>--color</code>.
See <a href="#The-_002d_002dstyle-option">The <code>--style</code> option</a> for details.
</p>
</dd>
<dt id='index-_002d_002dforce_002dpo_002c-msggrep-option'><span>&lsquo;<samp>--force-po</samp>&rsquo;<a href='#index-_002d_002dforce_002dpo_002c-msggrep-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Always write an output file even if it contains no message.
</p>
</dd>
<dt id='index-_002d_002dindent_002c-msggrep-option'><span>&lsquo;<samp>--indent</samp>&rsquo;<a href='#index-_002d_002dindent_002c-msggrep-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Write the .po file using indented style.
</p>
</dd>
<dt id='index-_002d_002dno_002dlocation_002c-msggrep-option'><span>&lsquo;<samp>--no-location</samp>&rsquo;<a href='#index-_002d_002dno_002dlocation_002c-msggrep-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Do not write &lsquo;<samp>#: <var>filename</var>:<var>line</var></samp>&rsquo; lines.
</p>
</dd>
<dt id='index-_002d_002dadd_002dlocation_002c-msggrep-option'><span>&lsquo;<samp>-n</samp>&rsquo;<a href='#index-_002d_002dadd_002dlocation_002c-msggrep-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--add-location=<var>type</var></samp>&rsquo;</span></dt>
<dd><p>Generate &lsquo;<samp>#: <var>filename</var>:<var>line</var></samp>&rsquo; lines (default).
</p>
<p>The optional <var>type</var> can be either &lsquo;<samp>full</samp>&rsquo;, &lsquo;<samp>file</samp>&rsquo;, or
&lsquo;<samp>never</samp>&rsquo;.  If it is not given or &lsquo;<samp>full</samp>&rsquo;, it generates the
lines with both file name and line number.  If it is &lsquo;<samp>file</samp>&rsquo;, the
line number part is omitted.  If it is &lsquo;<samp>never</samp>&rsquo;, it completely
suppresses the lines (same as <code>--no-location</code>).
</p>
</dd>
<dt id='index-_002d_002dstrict_002c-msggrep-option'><span>&lsquo;<samp>--strict</samp>&rsquo;<a href='#index-_002d_002dstrict_002c-msggrep-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Write out a strict Uniforum conforming PO file.  Note that this
Uniforum format should be avoided because it doesn&rsquo;t support the
GNU extensions.
</p>
</dd>
<dt id='index-_002dp_002c-msggrep-option'><span>&lsquo;<samp>-p</samp>&rsquo;<a href='#index-_002dp_002c-msggrep-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--properties-output</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dproperties_002doutput_002c-msggrep-option"></span>
<p>Write out a Java ResourceBundle in Java <code>.properties</code> syntax.  Note
that this file format doesn&rsquo;t support plural forms and silently drops
obsolete messages.
</p>
</dd>
<dt id='index-_002d_002dstringtable_002doutput_002c-msggrep-option'><span>&lsquo;<samp>--stringtable-output</samp>&rsquo;<a href='#index-_002d_002dstringtable_002doutput_002c-msggrep-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Write out a NeXTstep/GNUstep localized resource file in <code>.strings</code> syntax.
Note that this file format doesn&rsquo;t support plural forms.
</p>
</dd>
<dt id='index-_002dw_002c-msggrep-option'><span>&lsquo;<samp>-w <var>number</var></samp>&rsquo;<a href='#index-_002dw_002c-msggrep-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--width=<var>number</var></samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dwidth_002c-msggrep-option"></span>
<p>Set the output page width.  Long strings in the output files will be
split across multiple lines in order to ensure that each line&rsquo;s width
(= number of screen columns) is less or equal to the given <var>number</var>.
</p>
</dd>
<dt id='index-_002d_002dno_002dwrap_002c-msggrep-option'><span>&lsquo;<samp>--no-wrap</samp>&rsquo;<a href='#index-_002d_002dno_002dwrap_002c-msggrep-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Do not break long message lines.  Message lines whose width exceeds the
output page width will not be split into several lines.  Only file reference
lines which are wider than the output page width will be split.
</p>
</dd>
<dt id='index-_002d_002dsort_002doutput_002c-msggrep-option'><span>&lsquo;<samp>--sort-output</samp>&rsquo;<a href='#index-_002d_002dsort_002doutput_002c-msggrep-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Generate sorted output.  Note that using this option makes it much harder
for the translator to understand each message&rsquo;s context.
</p>
</dd>
<dt id='index-_002d_002dsort_002dby_002dfile_002c-msggrep-option'><span>&lsquo;<samp>--sort-by-file</samp>&rsquo;<a href='#index-_002d_002dsort_002dby_002dfile_002c-msggrep-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Sort output by file location.
</p>
</dd>
</dl>

</div>
<div class="subsection" id="Informative-output-5">
<h4 class="subsection">9.3.6 Informative output</h4>

<dl compact="compact">
<dt id='index-_002dh_002c-msggrep-option'><span>&lsquo;<samp>-h</samp>&rsquo;<a href='#index-_002dh_002c-msggrep-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--help</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dhelp_002c-msggrep-option"></span>
<p>Display this help and exit.
</p>
</dd>
<dt id='index-_002dV_002c-msggrep-option'><span>&lsquo;<samp>-V</samp>&rsquo;<a href='#index-_002dV_002c-msggrep-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--version</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dversion_002c-msggrep-option"></span>
<p>Output version information and exit.
</p>
</dd>
</dl>

</div>
<div class="subsection" id="Examples">
<h4 class="subsection">9.3.7 Examples</h4>

<p>To extract the messages that come from the source files
<code>gnulib-lib/error.c</code> and <code>gnulib-lib/getopt.c</code>:
</p>
<div class="example">
<pre class="example">msggrep -N gnulib-lib/error.c -N gnulib-lib/getopt.c input.po
</pre></div>

<p>To extract the messages that contain the string &ldquo;Please specify&rdquo; in the
original string:
</p>
<div class="example">
<pre class="example">msggrep --msgid -F -e 'Please specify' input.po
</pre></div>

<p>To extract the messages that have a context specifier of either &ldquo;Menu&gt;File&rdquo;
or &ldquo;Menu&gt;Edit&rdquo; or a submenu of them:
</p>
<div class="example">
<pre class="example">msggrep --msgctxt -E -e '^Menu&gt;(File|Edit)' input.po
</pre></div>

<p>To extract the messages whose translation contains one of the strings in the
file <code>wordlist.txt</code>:
</p>
<div class="example">
<pre class="example">msggrep --msgstr -F -f wordlist.txt input.po
</pre></div>

<hr>
</div>
</div>
<div class="section" id="msgfilter-Invocation">
<div class="header">
<p>
Next: <a href="#msguniq-Invocation" accesskey="n" rel="next">Invoking the <code>msguniq</code> Program</a>, Previous: <a href="#msggrep-Invocation" accesskey="p" rel="prev">Invoking the <code>msggrep</code> Program</a>, Up: <a href="#Manipulating" accesskey="u" rel="up">Manipulating PO Files</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Program-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Invoking-the-msgfilter-Program"></span><h3 class="section">9.4 Invoking the <code>msgfilter</code> Program</h3>


<span id="index-msgfilter"></span>
<span id="index-msgfilter-program_002c-usage"></span>
<div class="example">
<pre class="example">msgfilter [<var>option</var>] <var>filter</var> [<var>filter-option</var>]
</pre></div>

<span id="index-apply-a-filter-to-translations"></span>
<p>The <code>msgfilter</code> program applies a filter to all translations of a
translation catalog.
</p>
<span id="index-MSGFILTER_005fMSGCTXT_002c-environment-variable"></span>
<span id="index-MSGFILTER_005fMSGID_002c-environment-variable"></span>
<span id="index-MSGFILTER_005fMSGID_005fPLURAL_002c-environment-variable"></span>
<span id="index-MSGFILTER_005fLOCATION_002c-environment-variable"></span>
<span id="index-MSGFILTER_005fPLURAL_005fFORM_002c-environment-variable"></span>
<span id="index-MSGFILTER_005fPREV_005fMSGCTXT_002c-environment-variable"></span>
<span id="index-MSGFILTER_005fPREV_005fMSGID_002c-environment-variable"></span>
<span id="index-MSGFILTER_005fPREV_005fMSGID_005fPLURAL_002c-environment-variable"></span>
<p>During each <var>filter</var> invocation, the environment variable
<code>MSGFILTER_MSGID</code> is bound to the message&rsquo;s msgid, and the environment
variable <code>MSGFILTER_LOCATION</code> is bound to the location in the PO file
of the message.  If the message has a context, the environment variable
<code>MSGFILTER_MSGCTXT</code> is bound to the message&rsquo;s msgctxt, otherwise it is
unbound.  If the message has a plural form, environment variable
<code>MSGFILTER_MSGID_PLURAL</code> is bound to the message&rsquo;s msgid_plural and
<code>MSGFILTER_PLURAL_FORM</code> is bound to the order number of the plural
actually processed (starting with 0), otherwise both are unbound.
If the message has a previous msgid (added by <code>msgmerge</code>),
environment variable <code>MSGFILTER_PREV_MSGCTXT</code> is bound to the
message&rsquo;s previous msgctxt, <code>MSGFILTER_PREV_MSGID</code> is bound to
the previous msgid, and <code>MSGFILTER_PREV_MSGID_PLURAL</code> is bound to
the previous msgid_plural.
</p>
<ul class="section-toc">
<li><a href="#Input-file-location-6" accesskey="1">Input file location</a></li>
<li><a href="#Output-file-location-6" accesskey="2">Output file location</a></li>
<li><a href="#The-filter" accesskey="3">The filter</a></li>
<li><a href="#Useful-filter_002doptions-when-the-filter-is-sed" accesskey="4">Useful <var>filter-option</var>s when the <var>filter</var> is &lsquo;<samp>sed</samp>&rsquo;</a></li>
<li><a href="#Built_002din-filters" accesskey="5">Built-in <var>filter</var>s</a></li>
<li><a href="#Input-file-syntax-5" accesskey="6">Input file syntax</a></li>
<li><a href="#Output-details-6" accesskey="7">Output details</a></li>
<li><a href="#Informative-output-6" accesskey="8">Informative output</a></li>
<li><a href="#Examples-1" accesskey="9">Examples</a></li>
</ul>
<div class="subsection" id="Input-file-location-6">
<h4 class="subsection">9.4.1 Input file location</h4>

<dl compact="compact">
<dt id='index-_002di_002c-msgfilter-option'><span>&lsquo;<samp>-i <var>inputfile</var></samp>&rsquo;<a href='#index-_002di_002c-msgfilter-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--input=<var>inputfile</var></samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dinput_002c-msgfilter-option"></span>
<p>Input PO file.
</p>
</dd>
<dt id='index-_002dD_002c-msgfilter-option'><span>&lsquo;<samp>-D <var>directory</var></samp>&rsquo;<a href='#index-_002dD_002c-msgfilter-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--directory=<var>directory</var></samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002ddirectory_002c-msgfilter-option"></span>
<p>Add <var>directory</var> to the list of directories.  Source files are
searched relative to this list of directories.  The resulting <samp>.po</samp>
file will be written relative to the current directory, though.
</p>
</dd>
</dl>

<p>If no <var>inputfile</var> is given or if it is &lsquo;<samp>-</samp>&rsquo;, standard input is read.
</p>
</div>
<div class="subsection" id="Output-file-location-6">
<h4 class="subsection">9.4.2 Output file location</h4>

<dl compact="compact">
<dt id='index-_002do_002c-msgfilter-option'><span>&lsquo;<samp>-o <var>file</var></samp>&rsquo;<a href='#index-_002do_002c-msgfilter-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--output-file=<var>file</var></samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002doutput_002dfile_002c-msgfilter-option"></span>
<p>Write output to specified file.
</p>
</dd>
</dl>

<p>The results are written to standard output if no output file is specified
or if it is &lsquo;<samp>-</samp>&rsquo;.
</p>
</div>
<div class="subsection" id="The-filter">
<h4 class="subsection">9.4.3 The filter</h4>

<p>The <var>filter</var> can be any program that reads a translation from standard
input and writes a modified translation to standard output.  A frequently
used filter is &lsquo;<samp>sed</samp>&rsquo;.  A few particular built-in filters are also
recognized.
</p>
<dl compact="compact">
<dt id='index-_002d_002dnewline_002c-msgfilter-option'><span>&lsquo;<samp>--newline</samp>&rsquo;<a href='#index-_002d_002dnewline_002c-msgfilter-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Add newline at the end of each input line and also strip the ending
newline from the output line.
</p>
</dd>
</dl>

<span id="index-msgfilter-filter-and-catalog-encoding"></span>
<p>Note: If the filter is not a built-in filter, you have to care about encodings:
It is your responsibility to ensure that the <var>filter</var> can cope
with input encoded in the translation catalog&rsquo;s encoding.  If the
<var>filter</var> wants input in a particular encoding, you can in a first step
convert the translation catalog to that encoding using the &lsquo;<samp>msgconv</samp>&rsquo;
program, before invoking &lsquo;<samp>msgfilter</samp>&rsquo;.  If the <var>filter</var> wants input
in the locale&rsquo;s encoding, but you want to avoid the locale&rsquo;s encoding, then
you can first convert the translation catalog to UTF-8 using the
&lsquo;<samp>msgconv</samp>&rsquo; program and then make &lsquo;<samp>msgfilter</samp>&rsquo; work in an UTF-8
locale, by using the <code>LC_ALL</code> environment variable.
</p>
<span id="index-portability-problems-with-sed"></span>
<p>Note: Most translations in a translation catalog don&rsquo;t end with a
newline character.  For this reason, unless the <code>--newline</code>
option is used, it is important that the <var>filter</var> recognizes its
last input line even if it ends without a newline, and that it doesn&rsquo;t
add an undesired trailing newline at the end.  The &lsquo;<samp>sed</samp>&rsquo; program on
some platforms is known to ignore the last line of input if it is not
terminated with a newline.  You can use GNU <code>sed</code> instead; it does
not have this limitation.
</p>
</div>
<div class="subsection" id="Useful-filter_002doptions-when-the-filter-is-sed">
<h4 class="subsection">9.4.4 Useful <var>filter-option</var>s when the <var>filter</var> is &lsquo;<samp>sed</samp>&rsquo;</h4>

<dl compact="compact">
<dt id='index-_002de_002c-msgfilter-option'><span>&lsquo;<samp>-e <var>script</var></samp>&rsquo;<a href='#index-_002de_002c-msgfilter-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--expression=<var>script</var></samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dexpression_002c-msgfilter-option"></span>
<p>Add <var>script</var> to the commands to be executed.
</p>
</dd>
<dt id='index-_002df_002c-msgfilter-option'><span>&lsquo;<samp>-f <var>scriptfile</var></samp>&rsquo;<a href='#index-_002df_002c-msgfilter-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--file=<var>scriptfile</var></samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dfile_002c-msgfilter-option"></span>
<p>Add the contents of <var>scriptfile</var> to the commands to be executed.
</p>
</dd>
<dt id='index-_002dn_002c-msgfilter-option'><span>&lsquo;<samp>-n</samp>&rsquo;<a href='#index-_002dn_002c-msgfilter-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--quiet</samp>&rsquo;</span></dt>
<dt><span>&lsquo;<samp>--silent</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dquiet_002c-msgfilter-option"></span>
<span id="index-_002d_002dsilent_002c-msgfilter-option"></span>
<p>Suppress automatic printing of pattern space.
</p>
</dd>
</dl>

</div>
<div class="subsection" id="Built_002din-filters">
<h4 class="subsection">9.4.5 Built-in <var>filter</var>s</h4>

<span id="index-recode_002dsr_002dlatin"></span>
<span id="index-recode_002dsr_002dlatin-program"></span>
<p>The filter &lsquo;<samp>recode-sr-latin</samp>&rsquo; is recognized as a built-in filter.
The command &lsquo;<samp>recode-sr-latin</samp>&rsquo; converts Serbian text, written in the
Cyrillic script, to the Latin script.
The command &lsquo;<samp>msgfilter recode-sr-latin</samp>&rsquo; applies this conversion to the
translations of a PO file.  Thus, it can be used to convert an <samp>sr.po</samp>
file to an <samp>sr@latin.po</samp> file.
</p>
<span id="index-quot"></span>
<p>The filter &lsquo;<samp>quot</samp>&rsquo; is recognized as a built-in filter.
The command &lsquo;<samp>msgfilter quot</samp>&rsquo; converts any quotations surrounded
by a pair of &lsquo;<samp>&quot;</samp>&rsquo;, &lsquo;<samp>'</samp>&rsquo;, and &lsquo;<samp>`</samp>&rsquo;.
</p>
<span id="index-boldquot"></span>
<p>The filter &lsquo;<samp>boldquot</samp>&rsquo; is recognized as a built-in filter.
The command &lsquo;<samp>msgfilter boldquot</samp>&rsquo; converts any quotations
surrounded by a pair of &lsquo;<samp>&quot;</samp>&rsquo;, &lsquo;<samp>'</samp>&rsquo;, and &lsquo;<samp>`</samp>&rsquo;, also adding the
VT100 escape sequences to the text to decorate it as bold.
</p>
<p>The use of built-in filters is not sensitive to the current locale&rsquo;s encoding.
Moreover, when used with a built-in filter, &lsquo;<samp>msgfilter</samp>&rsquo; can automatically
convert the message catalog to the UTF-8 encoding when needed.
</p>
</div>
<div class="subsection" id="Input-file-syntax-5">
<h4 class="subsection">9.4.6 Input file syntax</h4>

<dl compact="compact">
<dt id='index-_002dP_002c-msgfilter-option'><span>&lsquo;<samp>-P</samp>&rsquo;<a href='#index-_002dP_002c-msgfilter-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--properties-input</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dproperties_002dinput_002c-msgfilter-option"></span>
<p>Assume the input file is a Java ResourceBundle in Java <code>.properties</code>
syntax, not in PO file syntax.
</p>
</dd>
<dt id='index-_002d_002dstringtable_002dinput_002c-msgfilter-option'><span>&lsquo;<samp>--stringtable-input</samp>&rsquo;<a href='#index-_002d_002dstringtable_002dinput_002c-msgfilter-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Assume the input file is a NeXTstep/GNUstep localized resource file in
<code>.strings</code> syntax, not in PO file syntax.
</p>
</dd>
</dl>

</div>
<div class="subsection" id="Output-details-6">
<h4 class="subsection">9.4.7 Output details</h4>


<dl compact="compact">
<dt id='index-_002d_002dcolor_002c-msgfilter-option'><span>&lsquo;<samp>--color</samp>&rsquo;<a href='#index-_002d_002dcolor_002c-msgfilter-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--color=<var>when</var></samp>&rsquo;</span></dt>
<dd><p>Specify whether or when to use colors and other text attributes.
See <a href="#The-_002d_002dcolor-option">The <code>--color</code> option</a> for details.
</p>
</dd>
<dt id='index-_002d_002dstyle_002c-msgfilter-option'><span>&lsquo;<samp>--style=<var>style_file</var></samp>&rsquo;<a href='#index-_002d_002dstyle_002c-msgfilter-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Specify the CSS style rule file to use for <code>--color</code>.
See <a href="#The-_002d_002dstyle-option">The <code>--style</code> option</a> for details.
</p>
</dd>
<dt id='index-_002d_002dforce_002dpo_002c-msgfilter-option'><span>&lsquo;<samp>--force-po</samp>&rsquo;<a href='#index-_002d_002dforce_002dpo_002c-msgfilter-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Always write an output file even if it contains no message.
</p>
</dd>
<dt id='index-_002d_002dindent_002c-msgfilter-option'><span>&lsquo;<samp>--indent</samp>&rsquo;<a href='#index-_002d_002dindent_002c-msgfilter-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Write the .po file using indented style.
</p>
</dd>
<dt id='index-_002d_002dkeep_002dheader_002c-msgfilter-option'><span>&lsquo;<samp>--keep-header</samp>&rsquo;<a href='#index-_002d_002dkeep_002dheader_002c-msgfilter-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Keep the header entry, i.e. the message with &lsquo;<samp>msgid &quot;&quot;</samp>&rsquo;, unmodified,
instead of filtering it.  By default, the header entry is subject to
filtering like any other message.
</p>
</dd>
<dt id='index-_002d_002dno_002dlocation_002c-msgfilter-option'><span>&lsquo;<samp>--no-location</samp>&rsquo;<a href='#index-_002d_002dno_002dlocation_002c-msgfilter-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Do not write &lsquo;<samp>#: <var>filename</var>:<var>line</var></samp>&rsquo; lines.
</p>
</dd>
<dt id='index-_002d_002dadd_002dlocation_002c-msgfilter-option'><span>&lsquo;<samp>-n</samp>&rsquo;<a href='#index-_002d_002dadd_002dlocation_002c-msgfilter-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--add-location=<var>type</var></samp>&rsquo;</span></dt>
<dd><p>Generate &lsquo;<samp>#: <var>filename</var>:<var>line</var></samp>&rsquo; lines (default).
</p>
<p>The optional <var>type</var> can be either &lsquo;<samp>full</samp>&rsquo;, &lsquo;<samp>file</samp>&rsquo;, or
&lsquo;<samp>never</samp>&rsquo;.  If it is not given or &lsquo;<samp>full</samp>&rsquo;, it generates the
lines with both file name and line number.  If it is &lsquo;<samp>file</samp>&rsquo;, the
line number part is omitted.  If it is &lsquo;<samp>never</samp>&rsquo;, it completely
suppresses the lines (same as <code>--no-location</code>).
</p>
</dd>
<dt id='index-_002d_002dstrict_002c-msgfilter-option'><span>&lsquo;<samp>--strict</samp>&rsquo;<a href='#index-_002d_002dstrict_002c-msgfilter-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Write out a strict Uniforum conforming PO file.  Note that this
Uniforum format should be avoided because it doesn&rsquo;t support the
GNU extensions.
</p>
</dd>
<dt id='index-_002dp_002c-msgfilter-option'><span>&lsquo;<samp>-p</samp>&rsquo;<a href='#index-_002dp_002c-msgfilter-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--properties-output</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dproperties_002doutput_002c-msgfilter-option"></span>
<p>Write out a Java ResourceBundle in Java <code>.properties</code> syntax.  Note
that this file format doesn&rsquo;t support plural forms and silently drops
obsolete messages.
</p>
</dd>
<dt id='index-_002d_002dstringtable_002doutput_002c-msgfilter-option'><span>&lsquo;<samp>--stringtable-output</samp>&rsquo;<a href='#index-_002d_002dstringtable_002doutput_002c-msgfilter-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Write out a NeXTstep/GNUstep localized resource file in <code>.strings</code> syntax.
Note that this file format doesn&rsquo;t support plural forms.
</p>
</dd>
<dt id='index-_002dw_002c-msgfilter-option'><span>&lsquo;<samp>-w <var>number</var></samp>&rsquo;<a href='#index-_002dw_002c-msgfilter-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--width=<var>number</var></samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dwidth_002c-msgfilter-option"></span>
<p>Set the output page width.  Long strings in the output files will be
split across multiple lines in order to ensure that each line&rsquo;s width
(= number of screen columns) is less or equal to the given <var>number</var>.
</p>
</dd>
<dt id='index-_002d_002dno_002dwrap_002c-msgfilter-option'><span>&lsquo;<samp>--no-wrap</samp>&rsquo;<a href='#index-_002d_002dno_002dwrap_002c-msgfilter-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Do not break long message lines.  Message lines whose width exceeds the
output page width will not be split into several lines.  Only file reference
lines which are wider than the output page width will be split.
</p>
</dd>
<dt id='index-_002ds_002c-msgfilter-option'><span>&lsquo;<samp>-s</samp>&rsquo;<a href='#index-_002ds_002c-msgfilter-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--sort-output</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dsort_002doutput_002c-msgfilter-option"></span>
<p>Generate sorted output.  Note that using this option makes it much harder
for the translator to understand each message&rsquo;s context.
</p>
</dd>
<dt id='index-_002dF_002c-msgfilter-option'><span>&lsquo;<samp>-F</samp>&rsquo;<a href='#index-_002dF_002c-msgfilter-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--sort-by-file</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dsort_002dby_002dfile_002c-msgfilter-option"></span>
<p>Sort output by file location.
</p>
</dd>
</dl>

</div>
<div class="subsection" id="Informative-output-6">
<h4 class="subsection">9.4.8 Informative output</h4>

<dl compact="compact">
<dt id='index-_002dh_002c-msgfilter-option'><span>&lsquo;<samp>-h</samp>&rsquo;<a href='#index-_002dh_002c-msgfilter-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--help</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dhelp_002c-msgfilter-option"></span>
<p>Display this help and exit.
</p>
</dd>
<dt id='index-_002dV_002c-msgfilter-option'><span>&lsquo;<samp>-V</samp>&rsquo;<a href='#index-_002dV_002c-msgfilter-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--version</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dversion_002c-msgfilter-option"></span>
<p>Output version information and exit.
</p>
</dd>
</dl>

</div>
<div class="subsection" id="Examples-1">
<h4 class="subsection">9.4.9 Examples</h4>

<p>To convert German translations to Swiss orthography (in an UTF-8 locale):
</p>
<div class="example">
<pre class="example">msgconv -t UTF-8 de.po | msgfilter sed -e 's/&szlig;/ss/g'
</pre></div>

<p>To convert Serbian translations in Cyrillic script to Latin script:
</p>
<div class="example">
<pre class="example">msgfilter recode-sr-latin &lt; sr.po
</pre></div>

<hr>
</div>
</div>
<div class="section" id="msguniq-Invocation">
<div class="header">
<p>
Next: <a href="#msgcomm-Invocation" accesskey="n" rel="next">Invoking the <code>msgcomm</code> Program</a>, Previous: <a href="#msgfilter-Invocation" accesskey="p" rel="prev">Invoking the <code>msgfilter</code> Program</a>, Up: <a href="#Manipulating" accesskey="u" rel="up">Manipulating PO Files</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Program-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Invoking-the-msguniq-Program"></span><h3 class="section">9.5 Invoking the <code>msguniq</code> Program</h3>


<span id="index-msguniq"></span>
<span id="index-msguniq-program_002c-usage"></span>
<div class="example">
<pre class="example">msguniq [<var>option</var>] [<var>inputfile</var>]
</pre></div>

<span id="index-unify-duplicate-translations"></span>
<span id="index-duplicate-removal"></span>
<p>The <code>msguniq</code> program unifies duplicate translations in a translation
catalog.  It finds duplicate translations of the same message ID.  Such
duplicates are invalid input for other programs like <code>msgfmt</code>,
<code>msgmerge</code> or <code>msgcat</code>.  By default, duplicates are merged
together.  When using the &lsquo;<samp>--repeated</samp>&rsquo; option, only duplicates are
output, and all other messages are discarded.  Comments and extracted
comments will be cumulated, except that if &lsquo;<samp>--use-first</samp>&rsquo; is
specified, they will be taken from the first translation.  File positions
will be cumulated.  When using the &lsquo;<samp>--unique</samp>&rsquo; option, duplicates are
discarded.
</p>
<ul class="section-toc">
<li><a href="#Input-file-location-7" accesskey="1">Input file location</a></li>
<li><a href="#Output-file-location-7" accesskey="2">Output file location</a></li>
<li><a href="#Message-selection-2" accesskey="3">Message selection</a></li>
<li><a href="#Input-file-syntax-6" accesskey="4">Input file syntax</a></li>
<li><a href="#Output-details-7" accesskey="5">Output details</a></li>
<li><a href="#Informative-output-7" accesskey="6">Informative output</a></li>
</ul>
<div class="subsection" id="Input-file-location-7">
<h4 class="subsection">9.5.1 Input file location</h4>

<dl compact="compact">
<dt><span>&lsquo;<samp><var>inputfile</var></samp>&rsquo;</span></dt>
<dd><p>Input PO file.
</p>
</dd>
<dt id='index-_002dD_002c-msguniq-option'><span>&lsquo;<samp>-D <var>directory</var></samp>&rsquo;<a href='#index-_002dD_002c-msguniq-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--directory=<var>directory</var></samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002ddirectory_002c-msguniq-option"></span>
<p>Add <var>directory</var> to the list of directories.  Source files are
searched relative to this list of directories.  The resulting <samp>.po</samp>
file will be written relative to the current directory, though.
</p>
</dd>
</dl>

<p>If no <var>inputfile</var> is given or if it is &lsquo;<samp>-</samp>&rsquo;, standard input is read.
</p>
</div>
<div class="subsection" id="Output-file-location-7">
<h4 class="subsection">9.5.2 Output file location</h4>

<dl compact="compact">
<dt id='index-_002do_002c-msguniq-option'><span>&lsquo;<samp>-o <var>file</var></samp>&rsquo;<a href='#index-_002do_002c-msguniq-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--output-file=<var>file</var></samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002doutput_002dfile_002c-msguniq-option"></span>
<p>Write output to specified file.
</p>
</dd>
</dl>

<p>The results are written to standard output if no output file is specified
or if it is &lsquo;<samp>-</samp>&rsquo;.
</p>
</div>
<div class="subsection" id="Message-selection-2">
<h4 class="subsection">9.5.3 Message selection</h4>

<dl compact="compact">
<dt id='index-_002dd_002c-msguniq-option'><span>&lsquo;<samp>-d</samp>&rsquo;<a href='#index-_002dd_002c-msguniq-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--repeated</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002drepeated_002c-msguniq-option"></span>
<p>Print only duplicates.
</p>
</dd>
<dt id='index-_002du_002c-msguniq-option'><span>&lsquo;<samp>-u</samp>&rsquo;<a href='#index-_002du_002c-msguniq-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--unique</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dunique_002c-msguniq-option"></span>
<p>Print only unique messages, discard duplicates.
</p>
</dd>
</dl>

</div>
<div class="subsection" id="Input-file-syntax-6">
<h4 class="subsection">9.5.4 Input file syntax</h4>

<dl compact="compact">
<dt id='index-_002dP_002c-msguniq-option'><span>&lsquo;<samp>-P</samp>&rsquo;<a href='#index-_002dP_002c-msguniq-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--properties-input</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dproperties_002dinput_002c-msguniq-option"></span>
<p>Assume the input file is a Java ResourceBundle in Java <code>.properties</code>
syntax, not in PO file syntax.
</p>
</dd>
<dt id='index-_002d_002dstringtable_002dinput_002c-msguniq-option'><span>&lsquo;<samp>--stringtable-input</samp>&rsquo;<a href='#index-_002d_002dstringtable_002dinput_002c-msguniq-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Assume the input file is a NeXTstep/GNUstep localized resource file in
<code>.strings</code> syntax, not in PO file syntax.
</p>
</dd>
</dl>

</div>
<div class="subsection" id="Output-details-7">
<h4 class="subsection">9.5.5 Output details</h4>


<dl compact="compact">
<dt id='index-_002dt_002c-msguniq-option'><span>&lsquo;<samp>-t</samp>&rsquo;<a href='#index-_002dt_002c-msguniq-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--to-code=<var>name</var></samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dto_002dcode_002c-msguniq-option"></span>
<p>Specify encoding for output.
</p>
</dd>
<dt id='index-_002d_002duse_002dfirst_002c-msguniq-option'><span>&lsquo;<samp>--use-first</samp>&rsquo;<a href='#index-_002d_002duse_002dfirst_002c-msguniq-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Use first available translation for each message.  Don&rsquo;t merge several
translations into one.
</p>
</dd>
<dt id='index-_002d_002dcolor_002c-msguniq-option'><span>&lsquo;<samp>--color</samp>&rsquo;<a href='#index-_002d_002dcolor_002c-msguniq-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--color=<var>when</var></samp>&rsquo;</span></dt>
<dd><p>Specify whether or when to use colors and other text attributes.
See <a href="#The-_002d_002dcolor-option">The <code>--color</code> option</a> for details.
</p>
</dd>
<dt id='index-_002d_002dstyle_002c-msguniq-option'><span>&lsquo;<samp>--style=<var>style_file</var></samp>&rsquo;<a href='#index-_002d_002dstyle_002c-msguniq-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Specify the CSS style rule file to use for <code>--color</code>.
See <a href="#The-_002d_002dstyle-option">The <code>--style</code> option</a> for details.
</p>
</dd>
<dt id='index-_002d_002dforce_002dpo_002c-msguniq-option'><span>&lsquo;<samp>--force-po</samp>&rsquo;<a href='#index-_002d_002dforce_002dpo_002c-msguniq-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Always write an output file even if it contains no message.
</p>
</dd>
<dt id='index-_002di_002c-msguniq-option'><span>&lsquo;<samp>-i</samp>&rsquo;<a href='#index-_002di_002c-msguniq-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--indent</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dindent_002c-msguniq-option"></span>
<p>Write the .po file using indented style.
</p>
</dd>
<dt id='index-_002d_002dno_002dlocation_002c-msguniq-option'><span>&lsquo;<samp>--no-location</samp>&rsquo;<a href='#index-_002d_002dno_002dlocation_002c-msguniq-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Do not write &lsquo;<samp>#: <var>filename</var>:<var>line</var></samp>&rsquo; lines.
</p>
</dd>
<dt id='index-_002dn_002c-msguniq-option'><span>&lsquo;<samp>-n</samp>&rsquo;<a href='#index-_002dn_002c-msguniq-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--add-location=<var>type</var></samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dadd_002dlocation_002c-msguniq-option"></span>
<p>Generate &lsquo;<samp>#: <var>filename</var>:<var>line</var></samp>&rsquo; lines (default).
</p>
<p>The optional <var>type</var> can be either &lsquo;<samp>full</samp>&rsquo;, &lsquo;<samp>file</samp>&rsquo;, or
&lsquo;<samp>never</samp>&rsquo;.  If it is not given or &lsquo;<samp>full</samp>&rsquo;, it generates the
lines with both file name and line number.  If it is &lsquo;<samp>file</samp>&rsquo;, the
line number part is omitted.  If it is &lsquo;<samp>never</samp>&rsquo;, it completely
suppresses the lines (same as <code>--no-location</code>).
</p>
</dd>
<dt id='index-_002d_002dstrict_002c-msguniq-option'><span>&lsquo;<samp>--strict</samp>&rsquo;<a href='#index-_002d_002dstrict_002c-msguniq-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Write out a strict Uniforum conforming PO file.  Note that this
Uniforum format should be avoided because it doesn&rsquo;t support the
GNU extensions.
</p>
</dd>
<dt id='index-_002dp_002c-msguniq-option'><span>&lsquo;<samp>-p</samp>&rsquo;<a href='#index-_002dp_002c-msguniq-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--properties-output</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dproperties_002doutput_002c-msguniq-option"></span>
<p>Write out a Java ResourceBundle in Java <code>.properties</code> syntax.  Note
that this file format doesn&rsquo;t support plural forms and silently drops
obsolete messages.
</p>
</dd>
<dt id='index-_002d_002dstringtable_002doutput_002c-msguniq-option'><span>&lsquo;<samp>--stringtable-output</samp>&rsquo;<a href='#index-_002d_002dstringtable_002doutput_002c-msguniq-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Write out a NeXTstep/GNUstep localized resource file in <code>.strings</code> syntax.
Note that this file format doesn&rsquo;t support plural forms.
</p>
</dd>
<dt id='index-_002dw_002c-msguniq-option'><span>&lsquo;<samp>-w <var>number</var></samp>&rsquo;<a href='#index-_002dw_002c-msguniq-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--width=<var>number</var></samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dwidth_002c-msguniq-option"></span>
<p>Set the output page width.  Long strings in the output files will be
split across multiple lines in order to ensure that each line&rsquo;s width
(= number of screen columns) is less or equal to the given <var>number</var>.
</p>
</dd>
<dt id='index-_002d_002dno_002dwrap_002c-msguniq-option'><span>&lsquo;<samp>--no-wrap</samp>&rsquo;<a href='#index-_002d_002dno_002dwrap_002c-msguniq-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Do not break long message lines.  Message lines whose width exceeds the
output page width will not be split into several lines.  Only file reference
lines which are wider than the output page width will be split.
</p>
</dd>
<dt id='index-_002ds_002c-msguniq-option'><span>&lsquo;<samp>-s</samp>&rsquo;<a href='#index-_002ds_002c-msguniq-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--sort-output</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dsort_002doutput_002c-msguniq-option"></span>
<p>Generate sorted output.  Note that using this option makes it much harder
for the translator to understand each message&rsquo;s context.
</p>
</dd>
<dt id='index-_002dF_002c-msguniq-option'><span>&lsquo;<samp>-F</samp>&rsquo;<a href='#index-_002dF_002c-msguniq-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--sort-by-file</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dsort_002dby_002dfile_002c-msguniq-option"></span>
<p>Sort output by file location.
</p>
</dd>
</dl>

</div>
<div class="subsection" id="Informative-output-7">
<h4 class="subsection">9.5.6 Informative output</h4>

<dl compact="compact">
<dt id='index-_002dh_002c-msguniq-option'><span>&lsquo;<samp>-h</samp>&rsquo;<a href='#index-_002dh_002c-msguniq-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--help</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dhelp_002c-msguniq-option"></span>
<p>Display this help and exit.
</p>
</dd>
<dt id='index-_002dV_002c-msguniq-option'><span>&lsquo;<samp>-V</samp>&rsquo;<a href='#index-_002dV_002c-msguniq-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--version</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dversion_002c-msguniq-option"></span>
<p>Output version information and exit.
</p>
</dd>
</dl>

<hr>
</div>
</div>
<div class="section" id="msgcomm-Invocation">
<div class="header">
<p>
Next: <a href="#msgcmp-Invocation" accesskey="n" rel="next">Invoking the <code>msgcmp</code> Program</a>, Previous: <a href="#msguniq-Invocation" accesskey="p" rel="prev">Invoking the <code>msguniq</code> Program</a>, Up: <a href="#Manipulating" accesskey="u" rel="up">Manipulating PO Files</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Program-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Invoking-the-msgcomm-Program"></span><h3 class="section">9.6 Invoking the <code>msgcomm</code> Program</h3>


<span id="index-msgcomm"></span>
<span id="index-msgcomm-program_002c-usage"></span>
<div class="example">
<pre class="example">msgcomm [<var>option</var>] [<var>inputfile</var>]...
</pre></div>

<span id="index-find-common-messages"></span>
<p>The <code>msgcomm</code> program finds messages which are common to two or more
of the specified PO files.
By using the <code>--more-than</code> option, greater commonality may be requested
before messages are printed.  Conversely, the <code>--less-than</code> option may be
used to specify less commonality before messages are printed (i.e.
&lsquo;<samp>--less-than=2</samp>&rsquo; will only print the unique messages).  Translations,
comments and extracted comments will be preserved, but only from the first
PO file to define them.  File positions from all PO files will be
cumulated.
</p>
<ul class="section-toc">
<li><a href="#Input-file-location-8" accesskey="1">Input file location</a></li>
<li><a href="#Output-file-location-8" accesskey="2">Output file location</a></li>
<li><a href="#Message-selection-3" accesskey="3">Message selection</a></li>
<li><a href="#Input-file-syntax-7" accesskey="4">Input file syntax</a></li>
<li><a href="#Output-details-8" accesskey="5">Output details</a></li>
<li><a href="#Informative-output-8" accesskey="6">Informative output</a></li>
</ul>
<div class="subsection" id="Input-file-location-8">
<h4 class="subsection">9.6.1 Input file location</h4>

<dl compact="compact">
<dt><span>&lsquo;<samp><var>inputfile</var> &hellip;</samp>&rsquo;</span></dt>
<dd><p>Input files.
</p>
</dd>
<dt id='index-_002df_002c-msgcomm-option'><span>&lsquo;<samp>-f <var>file</var></samp>&rsquo;<a href='#index-_002df_002c-msgcomm-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--files-from=<var>file</var></samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dfiles_002dfrom_002c-msgcomm-option"></span>
<p>Read the names of the input files from <var>file</var> instead of getting
them from the command line.
</p>
</dd>
<dt id='index-_002dD_002c-msgcomm-option'><span>&lsquo;<samp>-D <var>directory</var></samp>&rsquo;<a href='#index-_002dD_002c-msgcomm-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--directory=<var>directory</var></samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002ddirectory_002c-msgcomm-option"></span>
<p>Add <var>directory</var> to the list of directories.  Source files are
searched relative to this list of directories.  The resulting <samp>.po</samp>
file will be written relative to the current directory, though.
</p>
</dd>
</dl>

<p>If <var>inputfile</var> is &lsquo;<samp>-</samp>&rsquo;, standard input is read.
</p>
</div>
<div class="subsection" id="Output-file-location-8">
<h4 class="subsection">9.6.2 Output file location</h4>

<dl compact="compact">
<dt id='index-_002do_002c-msgcomm-option'><span>&lsquo;<samp>-o <var>file</var></samp>&rsquo;<a href='#index-_002do_002c-msgcomm-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--output-file=<var>file</var></samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002doutput_002dfile_002c-msgcomm-option"></span>
<p>Write output to specified file.
</p>
</dd>
</dl>

<p>The results are written to standard output if no output file is specified
or if it is &lsquo;<samp>-</samp>&rsquo;.
</p>
</div>
<div class="subsection" id="Message-selection-3">
<h4 class="subsection">9.6.3 Message selection</h4>

<dl compact="compact">
<dt id='index-_002d_003c_002c-msgcomm-option'><span>&lsquo;<samp>-&lt; <var>number</var></samp>&rsquo;<a href='#index-_002d_003c_002c-msgcomm-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--less-than=<var>number</var></samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dless_002dthan_002c-msgcomm-option"></span>
<p>Print messages with less than <var>number</var> definitions, defaults to infinite
if not set.
</p>
</dd>
<dt id='index-_002d_003e_002c-msgcomm-option'><span>&lsquo;<samp>-&gt; <var>number</var></samp>&rsquo;<a href='#index-_002d_003e_002c-msgcomm-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--more-than=<var>number</var></samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dmore_002dthan_002c-msgcomm-option"></span>
<p>Print messages with more than <var>number</var> definitions, defaults to 1 if not
set.
</p>
</dd>
<dt id='index-_002du_002c-msgcomm-option'><span>&lsquo;<samp>-u</samp>&rsquo;<a href='#index-_002du_002c-msgcomm-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--unique</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dunique_002c-msgcomm-option"></span>
<p>Shorthand for &lsquo;<samp>--less-than=2</samp>&rsquo;.  Requests that only unique messages be
printed.
</p>
</dd>
</dl>

</div>
<div class="subsection" id="Input-file-syntax-7">
<h4 class="subsection">9.6.4 Input file syntax</h4>

<dl compact="compact">
<dt id='index-_002dP_002c-msgcomm-option'><span>&lsquo;<samp>-P</samp>&rsquo;<a href='#index-_002dP_002c-msgcomm-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--properties-input</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dproperties_002dinput_002c-msgcomm-option"></span>
<p>Assume the input files are Java ResourceBundles in Java <code>.properties</code>
syntax, not in PO file syntax.
</p>
</dd>
<dt id='index-_002d_002dstringtable_002dinput_002c-msgcomm-option'><span>&lsquo;<samp>--stringtable-input</samp>&rsquo;<a href='#index-_002d_002dstringtable_002dinput_002c-msgcomm-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Assume the input files are NeXTstep/GNUstep localized resource files in
<code>.strings</code> syntax, not in PO file syntax.
</p>
</dd>
</dl>

</div>
<div class="subsection" id="Output-details-8">
<h4 class="subsection">9.6.5 Output details</h4>


<dl compact="compact">
<dt id='index-_002d_002dcolor_002c-msgcomm-option'><span>&lsquo;<samp>--color</samp>&rsquo;<a href='#index-_002d_002dcolor_002c-msgcomm-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--color=<var>when</var></samp>&rsquo;</span></dt>
<dd><p>Specify whether or when to use colors and other text attributes.
See <a href="#The-_002d_002dcolor-option">The <code>--color</code> option</a> for details.
</p>
</dd>
<dt id='index-_002d_002dstyle_002c-msgcomm-option'><span>&lsquo;<samp>--style=<var>style_file</var></samp>&rsquo;<a href='#index-_002d_002dstyle_002c-msgcomm-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Specify the CSS style rule file to use for <code>--color</code>.
See <a href="#The-_002d_002dstyle-option">The <code>--style</code> option</a> for details.
</p>
</dd>
<dt id='index-_002d_002dforce_002dpo_002c-msgcomm-option'><span>&lsquo;<samp>--force-po</samp>&rsquo;<a href='#index-_002d_002dforce_002dpo_002c-msgcomm-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Always write an output file even if it contains no message.
</p>
</dd>
<dt id='index-_002di_002c-msgcomm-option'><span>&lsquo;<samp>-i</samp>&rsquo;<a href='#index-_002di_002c-msgcomm-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--indent</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dindent_002c-msgcomm-option"></span>
<p>Write the .po file using indented style.
</p>
</dd>
<dt id='index-_002d_002dno_002dlocation_002c-msgcomm-option'><span>&lsquo;<samp>--no-location</samp>&rsquo;<a href='#index-_002d_002dno_002dlocation_002c-msgcomm-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Do not write &lsquo;<samp>#: <var>filename</var>:<var>line</var></samp>&rsquo; lines.
</p>
</dd>
<dt id='index-_002dn_002c-msgcomm-option'><span>&lsquo;<samp>-n</samp>&rsquo;<a href='#index-_002dn_002c-msgcomm-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--add-location=<var>type</var></samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dadd_002dlocation_002c-msgcomm-option"></span>
<p>Generate &lsquo;<samp>#: <var>filename</var>:<var>line</var></samp>&rsquo; lines (default).
</p>
<p>The optional <var>type</var> can be either &lsquo;<samp>full</samp>&rsquo;, &lsquo;<samp>file</samp>&rsquo;, or
&lsquo;<samp>never</samp>&rsquo;.  If it is not given or &lsquo;<samp>full</samp>&rsquo;, it generates the
lines with both file name and line number.  If it is &lsquo;<samp>file</samp>&rsquo;, the
line number part is omitted.  If it is &lsquo;<samp>never</samp>&rsquo;, it completely
suppresses the lines (same as <code>--no-location</code>).
</p>
</dd>
<dt id='index-_002d_002dstrict_002c-msgcomm-option'><span>&lsquo;<samp>--strict</samp>&rsquo;<a href='#index-_002d_002dstrict_002c-msgcomm-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Write out a strict Uniforum conforming PO file.  Note that this
Uniforum format should be avoided because it doesn&rsquo;t support the
GNU extensions.
</p>
</dd>
<dt id='index-_002dp_002c-msgcomm-option'><span>&lsquo;<samp>-p</samp>&rsquo;<a href='#index-_002dp_002c-msgcomm-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--properties-output</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dproperties_002doutput_002c-msgcomm-option"></span>
<p>Write out a Java ResourceBundle in Java <code>.properties</code> syntax.  Note
that this file format doesn&rsquo;t support plural forms and silently drops
obsolete messages.
</p>
</dd>
<dt id='index-_002d_002dstringtable_002doutput_002c-msgcomm-option'><span>&lsquo;<samp>--stringtable-output</samp>&rsquo;<a href='#index-_002d_002dstringtable_002doutput_002c-msgcomm-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Write out a NeXTstep/GNUstep localized resource file in <code>.strings</code> syntax.
Note that this file format doesn&rsquo;t support plural forms.
</p>
</dd>
<dt id='index-_002dw_002c-msgcomm-option'><span>&lsquo;<samp>-w <var>number</var></samp>&rsquo;<a href='#index-_002dw_002c-msgcomm-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--width=<var>number</var></samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dwidth_002c-msgcomm-option"></span>
<p>Set the output page width.  Long strings in the output files will be
split across multiple lines in order to ensure that each line&rsquo;s width
(= number of screen columns) is less or equal to the given <var>number</var>.
</p>
</dd>
<dt id='index-_002d_002dno_002dwrap_002c-msgcomm-option'><span>&lsquo;<samp>--no-wrap</samp>&rsquo;<a href='#index-_002d_002dno_002dwrap_002c-msgcomm-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Do not break long message lines.  Message lines whose width exceeds the
output page width will not be split into several lines.  Only file reference
lines which are wider than the output page width will be split.
</p>
</dd>
<dt id='index-_002ds_002c-msgcomm-option'><span>&lsquo;<samp>-s</samp>&rsquo;<a href='#index-_002ds_002c-msgcomm-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--sort-output</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dsort_002doutput_002c-msgcomm-option"></span>
<p>Generate sorted output.  Note that using this option makes it much harder
for the translator to understand each message&rsquo;s context.
</p>
</dd>
<dt id='index-_002dF_002c-msgcomm-option'><span>&lsquo;<samp>-F</samp>&rsquo;<a href='#index-_002dF_002c-msgcomm-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--sort-by-file</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dsort_002dby_002dfile_002c-msgcomm-option"></span>
<p>Sort output by file location.
</p>
</dd>
<dt id='index-_002d_002domit_002dheader_002c-msgcomm-option'><span>&lsquo;<samp>--omit-header</samp>&rsquo;<a href='#index-_002d_002domit_002dheader_002c-msgcomm-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Don&rsquo;t write header with &lsquo;<samp>msgid &quot;&quot;</samp>&rsquo; entry.
</p>
</dd>
</dl>

</div>
<div class="subsection" id="Informative-output-8">
<h4 class="subsection">9.6.6 Informative output</h4>

<dl compact="compact">
<dt id='index-_002dh_002c-msgcomm-option'><span>&lsquo;<samp>-h</samp>&rsquo;<a href='#index-_002dh_002c-msgcomm-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--help</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dhelp_002c-msgcomm-option"></span>
<p>Display this help and exit.
</p>
</dd>
<dt id='index-_002dV_002c-msgcomm-option'><span>&lsquo;<samp>-V</samp>&rsquo;<a href='#index-_002dV_002c-msgcomm-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--version</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dversion_002c-msgcomm-option"></span>
<p>Output version information and exit.
</p>
</dd>
</dl>

<hr>
</div>
</div>
<div class="section" id="msgcmp-Invocation">
<div class="header">
<p>
Next: <a href="#msgattrib-Invocation" accesskey="n" rel="next">Invoking the <code>msgattrib</code> Program</a>, Previous: <a href="#msgcomm-Invocation" accesskey="p" rel="prev">Invoking the <code>msgcomm</code> Program</a>, Up: <a href="#Manipulating" accesskey="u" rel="up">Manipulating PO Files</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Program-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Invoking-the-msgcmp-Program"></span><h3 class="section">9.7 Invoking the <code>msgcmp</code> Program</h3>


<span id="index-msgcmp"></span>
<span id="index-msgcmp-program_002c-usage"></span>
<div class="example">
<pre class="example">msgcmp [<var>option</var>] <var>def</var>.po <var>ref</var>.pot
</pre></div>

<span id="index-compare-PO-files"></span>
<p>The <code>msgcmp</code> program compares two Uniforum style .po files to check that
both contain the same set of msgid strings.  The <var>def</var>.po file is an
existing PO file with the translations.  The <var>ref</var>.pot file is the last
created PO file, or a PO Template file (generally created by <code>xgettext</code>).
This is useful for checking that you have translated each and every message
in your program.  Where an exact match cannot be found, fuzzy matching is
used to produce better diagnostics.
</p>
<ul class="section-toc">
<li><a href="#Input-file-location-9" accesskey="1">Input file location</a></li>
<li><a href="#Operation-modifiers-1" accesskey="2">Operation modifiers</a></li>
<li><a href="#Input-file-syntax-8" accesskey="3">Input file syntax</a></li>
<li><a href="#Informative-output-9" accesskey="4">Informative output</a></li>
</ul>
<div class="subsection" id="Input-file-location-9">
<h4 class="subsection">9.7.1 Input file location</h4>

<dl compact="compact">
<dt><span>&lsquo;<samp><var>def</var>.po</samp>&rsquo;</span></dt>
<dd><p>Translations.
</p>
</dd>
<dt><span>&lsquo;<samp><var>ref</var>.pot</samp>&rsquo;</span></dt>
<dd><p>References to the sources.
</p>
</dd>
<dt id='index-_002dD_002c-msgcmp-option'><span>&lsquo;<samp>-D <var>directory</var></samp>&rsquo;<a href='#index-_002dD_002c-msgcmp-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--directory=<var>directory</var></samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002ddirectory_002c-msgcmp-option"></span>
<p>Add <var>directory</var> to the list of directories.  Source files are
searched relative to this list of directories.
</p>
</dd>
</dl>

</div>
<div class="subsection" id="Operation-modifiers-1">
<h4 class="subsection">9.7.2 Operation modifiers</h4>

<dl compact="compact">
<dt id='index-_002dm_002c-msgcmp-option'><span>&lsquo;<samp>-m</samp>&rsquo;<a href='#index-_002dm_002c-msgcmp-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--multi-domain</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dmulti_002ddomain_002c-msgcmp-option"></span>
<p>Apply <var>ref</var>.pot to each of the domains in <var>def</var>.po.
</p>
</dd>
<dt id='index-_002dN_002c-msgcmp-option'><span>&lsquo;<samp>-N</samp>&rsquo;<a href='#index-_002dN_002c-msgcmp-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--no-fuzzy-matching</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dno_002dfuzzy_002dmatching_002c-msgcmp-option"></span>
<p>Do not use fuzzy matching when an exact match is not found.  This may speed
up the operation considerably.
</p>
</dd>
<dt id='index-_002d_002duse_002dfuzzy_002c-msgcmp-option'><span>&lsquo;<samp>--use-fuzzy</samp>&rsquo;<a href='#index-_002d_002duse_002dfuzzy_002c-msgcmp-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Consider fuzzy messages in the <var>def</var>.po file like translated messages.
Note that using this option is usually wrong, because fuzzy messages are
exactly those which have not been validated by a human translator.
</p>
</dd>
<dt id='index-_002d_002duse_002duntranslated_002c-msgcmp-option'><span>&lsquo;<samp>--use-untranslated</samp>&rsquo;<a href='#index-_002d_002duse_002duntranslated_002c-msgcmp-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Consider untranslated messages in the <var>def</var>.po file like translated
messages.  Note that using this option is usually wrong.
</p>
</dd>
</dl>

</div>
<div class="subsection" id="Input-file-syntax-8">
<h4 class="subsection">9.7.3 Input file syntax</h4>

<dl compact="compact">
<dt id='index-_002dP_002c-msgcmp-option'><span>&lsquo;<samp>-P</samp>&rsquo;<a href='#index-_002dP_002c-msgcmp-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--properties-input</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dproperties_002dinput_002c-msgcmp-option"></span>
<p>Assume the input files are Java ResourceBundles in Java <code>.properties</code>
syntax, not in PO file syntax.
</p>
</dd>
<dt id='index-_002d_002dstringtable_002dinput_002c-msgcmp-option'><span>&lsquo;<samp>--stringtable-input</samp>&rsquo;<a href='#index-_002d_002dstringtable_002dinput_002c-msgcmp-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Assume the input files are NeXTstep/GNUstep localized resource files in
<code>.strings</code> syntax, not in PO file syntax.
</p>
</dd>
</dl>

</div>
<div class="subsection" id="Informative-output-9">
<h4 class="subsection">9.7.4 Informative output</h4>

<dl compact="compact">
<dt id='index-_002dh_002c-msgcmp-option'><span>&lsquo;<samp>-h</samp>&rsquo;<a href='#index-_002dh_002c-msgcmp-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--help</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dhelp_002c-msgcmp-option"></span>
<p>Display this help and exit.
</p>
</dd>
<dt id='index-_002dV_002c-msgcmp-option'><span>&lsquo;<samp>-V</samp>&rsquo;<a href='#index-_002dV_002c-msgcmp-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--version</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dversion_002c-msgcmp-option"></span>
<p>Output version information and exit.
</p>
</dd>
</dl>

<hr>
</div>
</div>
<div class="section" id="msgattrib-Invocation">
<div class="header">
<p>
Next: <a href="#msgen-Invocation" accesskey="n" rel="next">Invoking the <code>msgen</code> Program</a>, Previous: <a href="#msgcmp-Invocation" accesskey="p" rel="prev">Invoking the <code>msgcmp</code> Program</a>, Up: <a href="#Manipulating" accesskey="u" rel="up">Manipulating PO Files</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Program-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Invoking-the-msgattrib-Program"></span><h3 class="section">9.8 Invoking the <code>msgattrib</code> Program</h3>


<span id="index-msgattrib"></span>
<span id="index-msgattrib-program_002c-usage"></span>
<div class="example">
<pre class="example">msgattrib [<var>option</var>] [<var>inputfile</var>]
</pre></div>

<span id="index-filter-messages-according-to-attributes"></span>
<span id="index-attribute-manipulation"></span>
<p>The <code>msgattrib</code> program filters the messages of a translation catalog
according to their attributes, and manipulates the attributes.
</p>
<ul class="section-toc">
<li><a href="#Input-file-location-10" accesskey="1">Input file location</a></li>
<li><a href="#Output-file-location-9" accesskey="2">Output file location</a></li>
<li><a href="#Message-selection-4" accesskey="3">Message selection</a></li>
<li><a href="#Attribute-manipulation" accesskey="4">Attribute manipulation</a></li>
<li><a href="#Input-file-syntax-9" accesskey="5">Input file syntax</a></li>
<li><a href="#Output-details-9" accesskey="6">Output details</a></li>
<li><a href="#Informative-output-10" accesskey="7">Informative output</a></li>
</ul>
<div class="subsection" id="Input-file-location-10">
<h4 class="subsection">9.8.1 Input file location</h4>

<dl compact="compact">
<dt><span>&lsquo;<samp><var>inputfile</var></samp>&rsquo;</span></dt>
<dd><p>Input PO file.
</p>
</dd>
<dt id='index-_002dD_002c-msgattrib-option'><span>&lsquo;<samp>-D <var>directory</var></samp>&rsquo;<a href='#index-_002dD_002c-msgattrib-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--directory=<var>directory</var></samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002ddirectory_002c-msgattrib-option"></span>
<p>Add <var>directory</var> to the list of directories.  Source files are
searched relative to this list of directories.  The resulting <samp>.po</samp>
file will be written relative to the current directory, though.
</p>
</dd>
</dl>

<p>If no <var>inputfile</var> is given or if it is &lsquo;<samp>-</samp>&rsquo;, standard input is read.
</p>
</div>
<div class="subsection" id="Output-file-location-9">
<h4 class="subsection">9.8.2 Output file location</h4>

<dl compact="compact">
<dt id='index-_002do_002c-msgattrib-option'><span>&lsquo;<samp>-o <var>file</var></samp>&rsquo;<a href='#index-_002do_002c-msgattrib-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--output-file=<var>file</var></samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002doutput_002dfile_002c-msgattrib-option"></span>
<p>Write output to specified file.
</p>
</dd>
</dl>

<p>The results are written to standard output if no output file is specified
or if it is &lsquo;<samp>-</samp>&rsquo;.
</p>
</div>
<div class="subsection" id="Message-selection-4">
<h4 class="subsection">9.8.3 Message selection</h4>

<dl compact="compact">
<dt id='index-_002d_002dtranslated_002c-msgattrib-option'><span>&lsquo;<samp>--translated</samp>&rsquo;<a href='#index-_002d_002dtranslated_002c-msgattrib-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Keep translated messages, remove untranslated messages.
</p>
</dd>
<dt id='index-_002d_002duntranslated_002c-msgattrib-option'><span>&lsquo;<samp>--untranslated</samp>&rsquo;<a href='#index-_002d_002duntranslated_002c-msgattrib-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Keep untranslated messages, remove translated messages.
</p>
</dd>
<dt id='index-_002d_002dno_002dfuzzy_002c-msgattrib-option'><span>&lsquo;<samp>--no-fuzzy</samp>&rsquo;<a href='#index-_002d_002dno_002dfuzzy_002c-msgattrib-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Remove
‘fuzzy’
marked messages.
</p>
</dd>
<dt id='index-_002d_002donly_002dfuzzy_002c-msgattrib-option'><span>&lsquo;<samp>--only-fuzzy</samp>&rsquo;<a href='#index-_002d_002donly_002dfuzzy_002c-msgattrib-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Keep
‘fuzzy’
marked messages, remove all other messages.
</p>
</dd>
<dt id='index-_002d_002dno_002dobsolete_002c-msgattrib-option'><span>&lsquo;<samp>--no-obsolete</samp>&rsquo;<a href='#index-_002d_002dno_002dobsolete_002c-msgattrib-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Remove obsolete #~ messages.
</p>
</dd>
<dt id='index-_002d_002donly_002dobsolete_002c-msgattrib-option'><span>&lsquo;<samp>--only-obsolete</samp>&rsquo;<a href='#index-_002d_002donly_002dobsolete_002c-msgattrib-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Keep obsolete #~ messages, remove all other messages.
</p>
</dd>
</dl>

</div>
<div class="subsection" id="Attribute-manipulation">
<h4 class="subsection">9.8.4 Attribute manipulation</h4>

<span id="index-modify-message-attributes"></span>
<p>Attributes are modified after the message selection/removal has been
performed.  If the &lsquo;<samp>--only-file</samp>&rsquo; or &lsquo;<samp>--ignore-file</samp>&rsquo; option is
specified, the attribute modification is applied only to those messages
that are listed in the <var>only-file</var> and not listed in the
<var>ignore-file</var>.
</p>
<dl compact="compact">
<dt id='index-_002d_002dset_002dfuzzy_002c-msgattrib-option'><span>&lsquo;<samp>--set-fuzzy</samp>&rsquo;<a href='#index-_002d_002dset_002dfuzzy_002c-msgattrib-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Set all messages
‘fuzzy’.
</p>
</dd>
<dt id='index-_002d_002dclear_002dfuzzy_002c-msgattrib-option'><span>&lsquo;<samp>--clear-fuzzy</samp>&rsquo;<a href='#index-_002d_002dclear_002dfuzzy_002c-msgattrib-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Set all messages
non-‘fuzzy’.
</p>
</dd>
<dt id='index-_002d_002dset_002dobsolete_002c-msgattrib-option'><span>&lsquo;<samp>--set-obsolete</samp>&rsquo;<a href='#index-_002d_002dset_002dobsolete_002c-msgattrib-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Set all messages obsolete.
</p>
</dd>
<dt id='index-_002d_002dclear_002dobsolete_002c-msgattrib-option'><span>&lsquo;<samp>--clear-obsolete</samp>&rsquo;<a href='#index-_002d_002dclear_002dobsolete_002c-msgattrib-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Set all messages non-obsolete.
</p>
</dd>
<dt id='index-_002d_002dprevious_002c-msgattrib-option'><span>&lsquo;<samp>--previous</samp>&rsquo;<a href='#index-_002d_002dprevious_002c-msgattrib-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>When setting
‘fuzzy’
mark, keep &ldquo;previous msgid&rdquo; of translated messages.
</p>
</dd>
<dt id='index-_002d_002dclear_002dprevious_002c-msgattrib-option'><span>&lsquo;<samp>--clear-previous</samp>&rsquo;<a href='#index-_002d_002dclear_002dprevious_002c-msgattrib-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Remove the &ldquo;previous msgid&rdquo; (&lsquo;<samp>#|</samp>&rsquo;) comments from all messages.
</p>
</dd>
<dt id='index-_002d_002dempty_002c-msgattrib-option'><span>&lsquo;<samp>--empty</samp>&rsquo;<a href='#index-_002d_002dempty_002c-msgattrib-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>When removing
‘fuzzy’
mark, also set msgstr empty.
</p>
</dd>
<dt id='index-_002d_002donly_002dfile_002c-msgattrib-option'><span>&lsquo;<samp>--only-file=<var>file</var></samp>&rsquo;<a href='#index-_002d_002donly_002dfile_002c-msgattrib-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Limit the attribute changes to entries that are listed in <var>file</var>.
<var>file</var> should be a PO or POT file.
</p>
</dd>
<dt id='index-_002d_002dignore_002dfile_002c-msgattrib-option'><span>&lsquo;<samp>--ignore-file=<var>file</var></samp>&rsquo;<a href='#index-_002d_002dignore_002dfile_002c-msgattrib-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Limit the attribute changes to entries that are not listed in <var>file</var>.
<var>file</var> should be a PO or POT file.
</p>
</dd>
<dt id='index-_002d_002dfuzzy_002c-msgattrib-option'><span>&lsquo;<samp>--fuzzy</samp>&rsquo;<a href='#index-_002d_002dfuzzy_002c-msgattrib-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Synonym for &lsquo;<samp>--only-fuzzy --clear-fuzzy</samp>&rsquo;: It keeps only the fuzzy
messages and removes their
‘fuzzy’
mark.
</p>
</dd>
<dt id='index-_002d_002dobsolete_002c-msgattrib-option'><span>&lsquo;<samp>--obsolete</samp>&rsquo;<a href='#index-_002d_002dobsolete_002c-msgattrib-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Synonym for &lsquo;<samp>--only-obsolete --clear-obsolete</samp>&rsquo;: It keeps only the
obsolete messages and makes them non-obsolete.
</p>
</dd>
</dl>

</div>
<div class="subsection" id="Input-file-syntax-9">
<h4 class="subsection">9.8.5 Input file syntax</h4>

<dl compact="compact">
<dt id='index-_002dP_002c-msgattrib-option'><span>&lsquo;<samp>-P</samp>&rsquo;<a href='#index-_002dP_002c-msgattrib-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--properties-input</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dproperties_002dinput_002c-msgattrib-option"></span>
<p>Assume the input file is a Java ResourceBundle in Java <code>.properties</code>
syntax, not in PO file syntax.
</p>
</dd>
<dt id='index-_002d_002dstringtable_002dinput_002c-msgattrib-option'><span>&lsquo;<samp>--stringtable-input</samp>&rsquo;<a href='#index-_002d_002dstringtable_002dinput_002c-msgattrib-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Assume the input file is a NeXTstep/GNUstep localized resource file in
<code>.strings</code> syntax, not in PO file syntax.
</p>
</dd>
</dl>

</div>
<div class="subsection" id="Output-details-9">
<h4 class="subsection">9.8.6 Output details</h4>


<dl compact="compact">
<dt id='index-_002d_002dcolor_002c-msgattrib-option'><span>&lsquo;<samp>--color</samp>&rsquo;<a href='#index-_002d_002dcolor_002c-msgattrib-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--color=<var>when</var></samp>&rsquo;</span></dt>
<dd><p>Specify whether or when to use colors and other text attributes.
See <a href="#The-_002d_002dcolor-option">The <code>--color</code> option</a> for details.
</p>
</dd>
<dt id='index-_002d_002dstyle_002c-msgattrib-option'><span>&lsquo;<samp>--style=<var>style_file</var></samp>&rsquo;<a href='#index-_002d_002dstyle_002c-msgattrib-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Specify the CSS style rule file to use for <code>--color</code>.
See <a href="#The-_002d_002dstyle-option">The <code>--style</code> option</a> for details.
</p>
</dd>
<dt id='index-_002d_002dforce_002dpo_002c-msgattrib-option'><span>&lsquo;<samp>--force-po</samp>&rsquo;<a href='#index-_002d_002dforce_002dpo_002c-msgattrib-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Always write an output file even if it contains no message.
</p>
</dd>
<dt id='index-_002di_002c-msgattrib-option'><span>&lsquo;<samp>-i</samp>&rsquo;<a href='#index-_002di_002c-msgattrib-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--indent</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dindent_002c-msgattrib-option"></span>
<p>Write the .po file using indented style.
</p>
</dd>
<dt id='index-_002d_002dno_002dlocation_002c-msgattrib-option'><span>&lsquo;<samp>--no-location</samp>&rsquo;<a href='#index-_002d_002dno_002dlocation_002c-msgattrib-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Do not write &lsquo;<samp>#: <var>filename</var>:<var>line</var></samp>&rsquo; lines.
</p>
</dd>
<dt id='index-_002dn_002c-msgattrib-option'><span>&lsquo;<samp>-n</samp>&rsquo;<a href='#index-_002dn_002c-msgattrib-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--add-location=<var>type</var></samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dadd_002dlocation_002c-msgattrib-option"></span>
<p>Generate &lsquo;<samp>#: <var>filename</var>:<var>line</var></samp>&rsquo; lines (default).
</p>
<p>The optional <var>type</var> can be either &lsquo;<samp>full</samp>&rsquo;, &lsquo;<samp>file</samp>&rsquo;, or
&lsquo;<samp>never</samp>&rsquo;.  If it is not given or &lsquo;<samp>full</samp>&rsquo;, it generates the
lines with both file name and line number.  If it is &lsquo;<samp>file</samp>&rsquo;, the
line number part is omitted.  If it is &lsquo;<samp>never</samp>&rsquo;, it completely
suppresses the lines (same as <code>--no-location</code>).
</p>
</dd>
<dt id='index-_002d_002dstrict_002c-msgattrib-option'><span>&lsquo;<samp>--strict</samp>&rsquo;<a href='#index-_002d_002dstrict_002c-msgattrib-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Write out a strict Uniforum conforming PO file.  Note that this
Uniforum format should be avoided because it doesn&rsquo;t support the
GNU extensions.
</p>
</dd>
<dt id='index-_002dp_002c-msgattrib-option'><span>&lsquo;<samp>-p</samp>&rsquo;<a href='#index-_002dp_002c-msgattrib-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--properties-output</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dproperties_002doutput_002c-msgattrib-option"></span>
<p>Write out a Java ResourceBundle in Java <code>.properties</code> syntax.  Note
that this file format doesn&rsquo;t support plural forms and silently drops
obsolete messages.
</p>
</dd>
<dt id='index-_002d_002dstringtable_002doutput_002c-msgattrib-option'><span>&lsquo;<samp>--stringtable-output</samp>&rsquo;<a href='#index-_002d_002dstringtable_002doutput_002c-msgattrib-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Write out a NeXTstep/GNUstep localized resource file in <code>.strings</code> syntax.
Note that this file format doesn&rsquo;t support plural forms.
</p>
</dd>
<dt id='index-_002dw_002c-msgattrib-option'><span>&lsquo;<samp>-w <var>number</var></samp>&rsquo;<a href='#index-_002dw_002c-msgattrib-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--width=<var>number</var></samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dwidth_002c-msgattrib-option"></span>
<p>Set the output page width.  Long strings in the output files will be
split across multiple lines in order to ensure that each line&rsquo;s width
(= number of screen columns) is less or equal to the given <var>number</var>.
</p>
</dd>
<dt id='index-_002d_002dno_002dwrap_002c-msgattrib-option'><span>&lsquo;<samp>--no-wrap</samp>&rsquo;<a href='#index-_002d_002dno_002dwrap_002c-msgattrib-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Do not break long message lines.  Message lines whose width exceeds the
output page width will not be split into several lines.  Only file reference
lines which are wider than the output page width will be split.
</p>
</dd>
<dt id='index-_002ds_002c-msgattrib-option'><span>&lsquo;<samp>-s</samp>&rsquo;<a href='#index-_002ds_002c-msgattrib-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--sort-output</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dsort_002doutput_002c-msgattrib-option"></span>
<p>Generate sorted output.  Note that using this option makes it much harder
for the translator to understand each message&rsquo;s context.
</p>
</dd>
<dt id='index-_002dF_002c-msgattrib-option'><span>&lsquo;<samp>-F</samp>&rsquo;<a href='#index-_002dF_002c-msgattrib-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--sort-by-file</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dsort_002dby_002dfile_002c-msgattrib-option"></span>
<p>Sort output by file location.
</p>
</dd>
</dl>

</div>
<div class="subsection" id="Informative-output-10">
<h4 class="subsection">9.8.7 Informative output</h4>

<dl compact="compact">
<dt id='index-_002dh_002c-msgattrib-option'><span>&lsquo;<samp>-h</samp>&rsquo;<a href='#index-_002dh_002c-msgattrib-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--help</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dhelp_002c-msgattrib-option"></span>
<p>Display this help and exit.
</p>
</dd>
<dt id='index-_002dV_002c-msgattrib-option'><span>&lsquo;<samp>-V</samp>&rsquo;<a href='#index-_002dV_002c-msgattrib-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--version</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dversion_002c-msgattrib-option"></span>
<p>Output version information and exit.
</p>
</dd>
</dl>

<hr>
</div>
</div>
<div class="section" id="msgen-Invocation">
<div class="header">
<p>
Next: <a href="#msgexec-Invocation" accesskey="n" rel="next">Invoking the <code>msgexec</code> Program</a>, Previous: <a href="#msgattrib-Invocation" accesskey="p" rel="prev">Invoking the <code>msgattrib</code> Program</a>, Up: <a href="#Manipulating" accesskey="u" rel="up">Manipulating PO Files</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Program-Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Invoking-the-msgen-Program"></span><h3 class="section">9.9 Invoking the <code>msgen</code> Program</h3>


<span id="index-msgen"></span>
<span id="index-msgen-program_002c-usage"></span>
<div class="example">
<pre class="example">msgen [<var>option</var>] <var>inputfile</var>
</pre></div>

<span id="index-generate-translation-catalog-in-English"></span>
<p>The <code>msgen</code> program creates an English translation catalog.  The
input file is the last created English PO file, or a PO Template file
(generally created by xgettext).  Untranslated entries are assigned a
translation that is identical to the msgid.
</p>
<p>Note: &lsquo;<samp>msginit --no-translator --locale=en</samp>&rsquo; performs a very similar
task.  The main difference is that <code>msginit</code> cares specially about
the header entry, whereas <code>msgen</code> doesn&rsquo;t.
</p>
<ul class="section-toc">
<li><a href="#Input-file-location-11" accesskey="1">Input file location</a></li>
<li><a href="#Output-file-location-10" accesskey="2">Output file location</a></li>
<li><a href="#Input-file-syntax-10" accesskey="3">Input file syntax</a></li>
<li><a href="#Output-details-10" accesskey="4">Output details</a></li>
<li><a href="#Informative-output-11" accesskey="5">Informative output</a></li>
</ul>
<div class="subsection" id="Input-file-location-11">
<h4 class="subsection">9.9.1 Input file location</h4>

<dl compact="compact">
<dt><span>&lsquo;<samp><var>inputfile</var></samp>&rsquo;</span></dt>
<dd><p>Input PO or POT file.
</p>
</dd>
<dt id='index-_002dD_002c-msgen-option'><span>&lsquo;<samp>-D <var>directory</var></samp>&rsquo;<a href='#index-_002dD_002c-msgen-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--directory=<var>directory</var></samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002ddirectory_002c-msgen-option"></span>
<p>Add <var>directory</var> to the list of directories.  Source files are
searched relative to this list of directories.  The resulting <samp>.po</samp>
file will be written relative to the current directory, though.
</p>
</dd>
</dl>

<p>If <var>inputfile</var> is &lsquo;<samp>-</samp>&rsquo;, standard input is read.
</p>
</div>
<div class="subsection" id="Output-file-location-10">
<h4 class="subsection">9.9.2 Output file location</h4>

<dl compact="compact">
<dt id='index-_002do_002c-msgen-option'><span>&lsquo;<samp>-o <var>file</var></samp>&rsquo;<a href='#index-_002do_002c-msgen-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--output-file=<var>file</var></samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002doutput_002dfile_002c-msgen-option"></span>
<p>Write output to specified file.
</p>
</dd>
</dl>

<p>The results are written to standard output if no output file is specified
or if it is &lsquo;<samp>-</samp>&rsquo;.
</p>
</div>
<div class="subsection" id="Input-file-syntax-10">
<h4 class="subsection">9.9.3 Input file syntax</h4>

<dl compact="compact">
<dt id='index-_002dP_002c-msgen-option'><span>&lsquo;<samp>-P</samp>&rsquo;<a href='#index-_002dP_002c-msgen-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--properties-input</samp>&rsquo;</span></dt>
<dd><span id="index-_002d_002dproperties_002dinput_002c-msgen-option"></span>
<p>Assume the input file is a Java ResourceBundle in Java <code>.properties</code>
syntax, not in PO file syntax.
</p>
</dd>
<dt id='index-_002d_002dstringtable_002dinput_002c-msgen-option'><span>&lsquo;<samp>--stringtable-input</samp>&rsquo;<a href='#index-_002d_002dstringtable_002dinput_002c-msgen-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Assume the input file is a NeXTstep/GNUstep localized resource file in
<code>.strings</code> syntax, not in PO file syntax.
</p>
</dd>
</dl>

</div>
<div class="subsection" id="Output-details-10">
<h4 class="subsection">9.9.4 Output details</h4>


<dl compact="compact">
<dt id='index-_002d_002dlang_002c-msgen-option'><span>&lsquo;<samp>--lang=<var>catalogname</var></samp>&rsquo;<a href='#index-_002d_002dlang_002c-msgen-option' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Specify the &lsquo;<samp>Language</samp>&rsquo; field to be used in the header entry.  See
<a href="#Header-Entry">Filling in the Header Entry</a> for the meaning of this field.  Note: The
&lsquo;<samp>Language-Team</samp>&rsquo; and &lsquo;<samp>Plural-Forms</samp>&rsquo; fields are not set by this
option.
</p>
</dd>
<dt id='index-_002d_002dcolor_002c-msgen-option'><span>&lsquo;<samp>--color</samp>&rsquo;<a href='#index-_002d_002dcolor_002c-msgen-option' class='copiable-anchor'> &para;</a></span></dt>
<dt><span>&lsquo;<samp>--color=<var>when</var></samp>&rsquo;</span></dt>
<dd><p>Specify whether or when to use colors and other text attributes.
See <a href="#The-_002d_002dcolor-option">The <code>--color</code> option</a> for details.
</p>
</dd>
<dt id='index-_002d_002dstyle_002c-msgen-option'><span>&lsquo;<samp>--style=<var>style_file</var></samp>